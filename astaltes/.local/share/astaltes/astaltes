#!/usr/bin/gjs -m

// ../../../../usr/share/astal/gjs/gtk4/index.ts
import Astal6 from "gi://Astal?version=4.0";
import Gtk4 from "gi://Gtk?version=4.0";
import Gdk2 from "gi://Gdk?version=4.0";

// ../../../../usr/share/astal/gjs/variable.ts
import Astal3 from "gi://AstalIO";

// ../../../../usr/share/astal/gjs/binding.ts
var snakeify = (str) => str.replace(/([a-z])([A-Z])/g, "$1_$2").replaceAll("-", "_").toLowerCase();
var kebabify = (str) => str.replace(/([a-z])([A-Z])/g, "$1-$2").replaceAll("_", "-").toLowerCase();
var Binding = class _Binding {
  transformFn = (v) => v;
  #emitter;
  #prop;
  static bind(emitter, prop) {
    return new _Binding(emitter, prop);
  }
  constructor(emitter, prop) {
    this.#emitter = emitter;
    this.#prop = prop && kebabify(prop);
  }
  toString() {
    return `Binding<${this.#emitter}${this.#prop ? `, "${this.#prop}"` : ""}>`;
  }
  as(fn) {
    const bind2 = new _Binding(this.#emitter, this.#prop);
    bind2.transformFn = (v) => fn(this.transformFn(v));
    return bind2;
  }
  get() {
    if (typeof this.#emitter.get === "function")
      return this.transformFn(this.#emitter.get());
    if (typeof this.#prop === "string") {
      const getter = `get_${snakeify(this.#prop)}`;
      if (typeof this.#emitter[getter] === "function")
        return this.transformFn(this.#emitter[getter]());
      return this.transformFn(this.#emitter[this.#prop]);
    }
    throw Error("can not get value of binding");
  }
  subscribe(callback) {
    if (typeof this.#emitter.subscribe === "function") {
      return this.#emitter.subscribe(() => {
        callback(this.get());
      });
    } else if (typeof this.#emitter.connect === "function") {
      const signal = `notify::${this.#prop}`;
      const id = this.#emitter.connect(signal, () => {
        callback(this.get());
      });
      return () => {
        this.#emitter.disconnect(id);
      };
    }
    throw Error(`${this.#emitter} is not bindable`);
  }
};
var { bind } = Binding;
var binding_default = Binding;

// ../../../../usr/share/astal/gjs/time.ts
import Astal from "gi://AstalIO";
var Time = Astal.Time;
function interval(interval4, callback) {
  return Astal.Time.interval(interval4, () => void callback?.());
}
function timeout(timeout2, callback) {
  return Astal.Time.timeout(timeout2, () => void callback?.());
}

// ../../../../usr/share/astal/gjs/process.ts
import Astal2 from "gi://AstalIO";
var Process = Astal2.Process;
function subprocess(argsOrCmd, onOut = print, onErr = printerr) {
  const args = Array.isArray(argsOrCmd) || typeof argsOrCmd === "string";
  const { cmd, err, out } = {
    cmd: args ? argsOrCmd : argsOrCmd.cmd,
    err: args ? onErr : argsOrCmd.err || onErr,
    out: args ? onOut : argsOrCmd.out || onOut
  };
  const proc = Array.isArray(cmd) ? Astal2.Process.subprocessv(cmd) : Astal2.Process.subprocess(cmd);
  proc.connect("stdout", (_, stdout) => out(stdout));
  proc.connect("stderr", (_, stderr) => err(stderr));
  return proc;
}
function execAsync(cmd) {
  return new Promise((resolve, reject) => {
    if (Array.isArray(cmd)) {
      Astal2.Process.exec_asyncv(cmd, (_, res) => {
        try {
          resolve(Astal2.Process.exec_asyncv_finish(res));
        } catch (error) {
          reject(error);
        }
      });
    } else {
      Astal2.Process.exec_async(cmd, (_, res) => {
        try {
          resolve(Astal2.Process.exec_finish(res));
        } catch (error) {
          reject(error);
        }
      });
    }
  });
}

// ../../../../usr/share/astal/gjs/variable.ts
var VariableWrapper = class extends Function {
  variable;
  errHandler = console.error;
  _value;
  _poll;
  _watch;
  pollInterval = 1e3;
  pollExec;
  pollTransform;
  pollFn;
  watchTransform;
  watchExec;
  constructor(init) {
    super();
    this._value = init;
    this.variable = new Astal3.VariableBase();
    this.variable.connect("dropped", () => {
      this.stopWatch();
      this.stopPoll();
    });
    this.variable.connect("error", (_, err) => this.errHandler?.(err));
    return new Proxy(this, {
      apply: (target, _, args) => target._call(args[0])
    });
  }
  _call(transform) {
    const b = binding_default.bind(this);
    return transform ? b.as(transform) : b;
  }
  toString() {
    return String(`Variable<${this.get()}>`);
  }
  get() {
    return this._value;
  }
  set(value) {
    if (value !== this._value) {
      this._value = value;
      this.variable.emit("changed");
    }
  }
  startPoll() {
    if (this._poll)
      return;
    if (this.pollFn) {
      this._poll = interval(this.pollInterval, () => {
        const v = this.pollFn(this.get());
        if (v instanceof Promise) {
          v.then((v2) => this.set(v2)).catch((err) => this.variable.emit("error", err));
        } else {
          this.set(v);
        }
      });
    } else if (this.pollExec) {
      this._poll = interval(this.pollInterval, () => {
        execAsync(this.pollExec).then((v) => this.set(this.pollTransform(v, this.get()))).catch((err) => this.variable.emit("error", err));
      });
    }
  }
  startWatch() {
    if (this._watch)
      return;
    this._watch = subprocess({
      cmd: this.watchExec,
      out: (out) => this.set(this.watchTransform(out, this.get())),
      err: (err) => this.variable.emit("error", err)
    });
  }
  stopPoll() {
    this._poll?.cancel();
    delete this._poll;
  }
  stopWatch() {
    this._watch?.kill();
    delete this._watch;
  }
  isPolling() {
    return !!this._poll;
  }
  isWatching() {
    return !!this._watch;
  }
  drop() {
    this.variable.emit("dropped");
  }
  onDropped(callback) {
    this.variable.connect("dropped", callback);
    return this;
  }
  onError(callback) {
    delete this.errHandler;
    this.variable.connect("error", (_, err) => callback(err));
    return this;
  }
  subscribe(callback) {
    const id = this.variable.connect("changed", () => {
      callback(this.get());
    });
    return () => this.variable.disconnect(id);
  }
  poll(interval4, exec2, transform = (out) => out) {
    this.stopPoll();
    this.pollInterval = interval4;
    this.pollTransform = transform;
    if (typeof exec2 === "function") {
      this.pollFn = exec2;
      delete this.pollExec;
    } else {
      this.pollExec = exec2;
      delete this.pollFn;
    }
    this.startPoll();
    return this;
  }
  watch(exec2, transform = (out) => out) {
    this.stopWatch();
    this.watchExec = exec2;
    this.watchTransform = transform;
    this.startWatch();
    return this;
  }
  observe(objs, sigOrFn, callback) {
    const f = typeof sigOrFn === "function" ? sigOrFn : callback ?? (() => this.get());
    const set = (obj, ...args) => this.set(f(obj, ...args));
    if (Array.isArray(objs)) {
      for (const obj of objs) {
        const [o, s] = obj;
        const id = o.connect(s, set);
        this.onDropped(() => o.disconnect(id));
      }
    } else {
      if (typeof sigOrFn === "string") {
        const id = objs.connect(sigOrFn, set);
        this.onDropped(() => objs.disconnect(id));
      }
    }
    return this;
  }
  static derive(deps, fn = (...args) => args) {
    const update = () => fn(...deps.map((d) => d.get()));
    const derived = new Variable(update());
    const unsubs = deps.map((dep) => dep.subscribe(() => derived.set(update())));
    derived.onDropped(() => unsubs.map((unsub) => unsub()));
    return derived;
  }
};
var Variable = new Proxy(VariableWrapper, {
  apply: (_t, _a, args) => new VariableWrapper(args[0])
});
var { derive } = Variable;
var variable_default = Variable;

// ../../../../usr/share/astal/gjs/_astal.ts
var noImplicitDestroy = Symbol("no no implicit destroy");
var setChildren = Symbol("children setter method");
function mergeBindings(array) {
  function getValues(...args) {
    let i = 0;
    return array.map(
      (value) => value instanceof binding_default ? args[i++] : value
    );
  }
  const bindings = array.filter((i) => i instanceof binding_default);
  if (bindings.length === 0)
    return array;
  if (bindings.length === 1)
    return bindings[0].as(getValues);
  return variable_default.derive(bindings, getValues)();
}
function setProp(obj, prop, value) {
  try {
    const setter = `set_${snakeify(prop)}`;
    if (typeof obj[setter] === "function")
      return obj[setter](value);
    return obj[prop] = value;
  } catch (error) {
    console.error(`could not set property "${prop}" on ${obj}:`, error);
  }
}
function construct(widget, config) {
  let { setup, child, children = [], ...props } = config;
  if (children instanceof binding_default) {
    children = [children];
  }
  if (child) {
    children.unshift(child);
  }
  for (const [key, value] of Object.entries(props)) {
    if (value === void 0) {
      delete props[key];
    }
  }
  const bindings = Object.keys(props).reduce((acc, prop) => {
    if (props[prop] instanceof binding_default) {
      const binding = props[prop];
      delete props[prop];
      return [...acc, [prop, binding]];
    }
    return acc;
  }, []);
  const onHandlers = Object.keys(props).reduce((acc, key) => {
    if (key.startsWith("on")) {
      const sig = kebabify(key).split("-").slice(1).join("-");
      const handler = props[key];
      delete props[key];
      return [...acc, [sig, handler]];
    }
    return acc;
  }, []);
  const mergedChildren = mergeBindings(children.flat(Infinity));
  if (mergedChildren instanceof binding_default) {
    widget[setChildren](mergedChildren.get());
    widget.connect("destroy", mergedChildren.subscribe((v) => {
      widget[setChildren](v);
    }));
  } else {
    if (mergedChildren.length > 0) {
      widget[setChildren](mergedChildren);
    }
  }
  for (const [signal, callback] of onHandlers) {
    const sig = signal.startsWith("notify") ? signal.replace("-", "::") : signal;
    if (typeof callback === "function") {
      widget.connect(sig, callback);
    } else {
      widget.connect(sig, () => execAsync(callback).then(print).catch(console.error));
    }
  }
  for (const [prop, binding] of bindings) {
    if (prop === "child" || prop === "children") {
      widget.connect("destroy", binding.subscribe((v) => {
        widget[setChildren](v);
      }));
    }
    widget.connect("destroy", binding.subscribe((v) => {
      setProp(widget, prop, v);
    }));
    setProp(widget, prop, binding.get());
  }
  for (const [key, value] of Object.entries(props)) {
    if (value === void 0) {
      delete props[key];
    }
  }
  Object.assign(widget, props);
  setup?.(widget);
  return widget;
}
function isArrowFunction(func) {
  return !Object.hasOwn(func, "prototype");
}
function jsx(ctors2, ctor, { children, ...props }) {
  children ??= [];
  if (!Array.isArray(children))
    children = [children];
  children = children.filter(Boolean);
  if (children.length === 1)
    props.child = children[0];
  else if (children.length > 1)
    props.children = children;
  if (typeof ctor === "string") {
    if (isArrowFunction(ctors2[ctor]))
      return ctors2[ctor](props);
    return new ctors2[ctor](props);
  }
  if (isArrowFunction(ctor))
    return ctor(props);
  return new ctor(props);
}

// ../../../../usr/share/astal/gjs/gtk4/astalify.ts
import Gtk from "gi://Gtk?version=4.0";
import Gdk from "gi://Gdk?version=4.0";
var type = Symbol("child type");
var dummyBulder = new Gtk.Builder();
function _getChildren(widget) {
  if ("get_child" in widget && typeof widget.get_child == "function") {
    return widget.get_child() ? [widget.get_child()] : [];
  }
  const children = [];
  let ch = widget.get_first_child();
  while (ch !== null) {
    children.push(ch);
    ch = ch.get_next_sibling();
  }
  return children;
}
function _setChildren(widget, children) {
  children = children.flat(Infinity).map((ch) => ch instanceof Gtk.Widget ? ch : new Gtk.Label({ visible: true, label: String(ch) }));
  for (const child of children) {
    widget.vfunc_add_child(
      dummyBulder,
      child,
      type in child ? child[type] : null
    );
  }
}
function astalify(cls, config = {}) {
  Object.assign(cls.prototype, {
    [setChildren](children) {
      const w = this;
      for (const child of config.getChildren?.(w) || _getChildren(w)) {
        if (child instanceof Gtk.Widget) {
          child.unparent();
          if (!children.includes(child) && noImplicitDestroy in this)
            child.run_dispose();
        }
      }
      if (config.setChildren) {
        config.setChildren(w, children);
      } else {
        _setChildren(w, children);
      }
    }
  });
  return {
    [cls.name]: (props = {}, ...children) => {
      const widget = new cls("cssName" in props ? { cssName: props.cssName } : {});
      if ("cssName" in props) {
        delete props.cssName;
      }
      if (props.noImplicitDestroy) {
        Object.assign(widget, { [noImplicitDestroy]: true });
        delete props.noImplicitDestroy;
      }
      if (props.type) {
        Object.assign(widget, { [type]: props.type });
        delete props.type;
      }
      if (children.length > 0) {
        Object.assign(props, { children });
      }
      return construct(widget, setupControllers(widget, props));
    }
  }[cls.name];
}
function setupControllers(widget, {
  onFocusEnter,
  onFocusLeave,
  onKeyPressed,
  onKeyReleased,
  onKeyModifier,
  onLegacy,
  onButtonPressed,
  onButtonReleased,
  onHoverEnter,
  onHoverLeave,
  onMotion,
  onScroll,
  onScrollDecelerate,
  ...props
}) {
  if (onFocusEnter || onFocusLeave) {
    const focus = new Gtk.EventControllerFocus();
    widget.add_controller(focus);
    if (onFocusEnter)
      focus.connect("enter", () => onFocusEnter(widget));
    if (onFocusLeave)
      focus.connect("leave", () => onFocusLeave(widget));
  }
  if (onKeyPressed || onKeyReleased || onKeyModifier) {
    const key = new Gtk.EventControllerKey();
    widget.add_controller(key);
    if (onKeyPressed)
      key.connect("key-pressed", (_, val, code, state) => onKeyPressed(widget, val, code, state));
    if (onKeyReleased)
      key.connect("key-released", (_, val, code, state) => onKeyReleased(widget, val, code, state));
    if (onKeyModifier)
      key.connect("modifiers", (_, state) => onKeyModifier(widget, state));
  }
  if (onLegacy || onButtonPressed || onButtonReleased) {
    const legacy = new Gtk.EventControllerLegacy();
    widget.add_controller(legacy);
    legacy.connect("event", (_, event) => {
      if (event.get_event_type() === Gdk.EventType.BUTTON_PRESS) {
        onButtonPressed?.(widget, event);
      }
      if (event.get_event_type() === Gdk.EventType.BUTTON_RELEASE) {
        onButtonReleased?.(widget, event);
      }
      onLegacy?.(widget, event);
    });
  }
  if (onMotion || onHoverEnter || onHoverLeave) {
    const hover = new Gtk.EventControllerMotion();
    widget.add_controller(hover);
    if (onHoverEnter)
      hover.connect("enter", (_, x, y) => onHoverEnter(widget, x, y));
    if (onHoverLeave)
      hover.connect("leave", () => onHoverLeave(widget));
    if (onMotion)
      hover.connect("motion", (_, x, y) => onMotion(widget, x, y));
  }
  if (onScroll || onScrollDecelerate) {
    const scroll = new Gtk.EventControllerScroll();
    scroll.flags = Gtk.EventControllerScrollFlags.BOTH_AXES | Gtk.EventControllerScrollFlags.KINETIC;
    widget.add_controller(scroll);
    if (onScroll)
      scroll.connect("scroll", (_, x, y) => onScroll(widget, x, y));
    if (onScrollDecelerate)
      scroll.connect("decelerate", (_, x, y) => onScrollDecelerate(widget, x, y));
  }
  return props;
}

// ../../../../usr/share/astal/gjs/gtk4/app.ts
import GLib from "gi://GLib?version=2.0";
import Gtk2 from "gi://Gtk?version=4.0";
import Astal4 from "gi://Astal?version=4.0";

// ../../../../usr/share/astal/gjs/overrides.ts
var snakeify2 = (str) => str.replace(/([a-z])([A-Z])/g, "$1_$2").replaceAll("-", "_").toLowerCase();
async function suppress(mod, patch2) {
  return mod.then((m) => patch2(m.default)).catch(() => void 0);
}
function patch(proto, prop) {
  Object.defineProperty(proto, prop, {
    get() {
      return this[`get_${snakeify2(prop)}`]();
    }
  });
}
await suppress(import("gi://AstalApps"), ({ Apps, Application }) => {
  patch(Apps.prototype, "list");
  patch(Application.prototype, "keywords");
  patch(Application.prototype, "categories");
});
await suppress(import("gi://AstalBattery"), ({ UPower }) => {
  patch(UPower.prototype, "devices");
});
await suppress(import("gi://AstalBluetooth"), ({ Adapter, Bluetooth, Device }) => {
  patch(Adapter.prototype, "uuids");
  patch(Bluetooth.prototype, "adapters");
  patch(Bluetooth.prototype, "devices");
  patch(Device.prototype, "uuids");
});
await suppress(import("gi://AstalCava"), ({ Cava }) => {
  patch(Cava.prototype, "values");
});
await suppress(import("gi://AstalHyprland"), ({ Hyprland, Monitor, Workspace }) => {
  patch(Hyprland.prototype, "binds");
  patch(Hyprland.prototype, "monitors");
  patch(Hyprland.prototype, "workspaces");
  patch(Hyprland.prototype, "clients");
  patch(Monitor.prototype, "availableModes");
  patch(Monitor.prototype, "available_modes");
  patch(Workspace.prototype, "clients");
});
await suppress(import("gi://AstalMpris"), ({ Mpris, Player }) => {
  patch(Mpris.prototype, "players");
  patch(Player.prototype, "supported_uri_schemes");
  patch(Player.prototype, "supportedUriSchemes");
  patch(Player.prototype, "supported_mime_types");
  patch(Player.prototype, "supportedMimeTypes");
  patch(Player.prototype, "comments");
});
await suppress(import("gi://AstalNetwork"), ({ Wifi: Wifi2 }) => {
  patch(Wifi2.prototype, "access_points");
  patch(Wifi2.prototype, "accessPoints");
});
await suppress(import("gi://AstalNotifd"), ({ Notifd, Notification }) => {
  patch(Notifd.prototype, "notifications");
  patch(Notification.prototype, "actions");
});
await suppress(import("gi://AstalPowerProfiles"), ({ PowerProfiles }) => {
  patch(PowerProfiles.prototype, "actions");
});
await suppress(import("gi://AstalRiver"), ({ River }) => {
  patch(River.prototype, "outputs");
});
await suppress(import("gi://AstalTray"), ({ Tray: Tray2 }) => {
  patch(Tray2.prototype, "items");
});
await suppress(import("gi://AstalWp"), ({ Wp, Audio, Video, Node, Endpoint, Device }) => {
  patch(Wp.prototype, "nodes");
  patch(Wp.prototype, "devices");
  patch(Audio.prototype, "streams");
  patch(Audio.prototype, "recorders");
  patch(Audio.prototype, "microphones");
  patch(Audio.prototype, "speakers");
  patch(Audio.prototype, "devices");
  patch(Video.prototype, "streams");
  patch(Video.prototype, "recorders");
  patch(Video.prototype, "sinks");
  patch(Video.prototype, "sources");
  patch(Video.prototype, "devices");
  patch(Endpoint.prototype, "routes");
  patch(Node.prototype, "channels");
  patch(Device.prototype, "profiles");
  patch(Device.prototype, "routes");
  patch(Device.prototype, "input_routes");
  patch(Device.prototype, "inputRoutes");
  patch(Device.prototype, "output_routes");
  patch(Device.prototype, "outputRoutes");
});

// ../../../../usr/share/astal/gjs/_app.ts
import { setConsoleLogDomain } from "console";
import { exit, programArgs } from "system";
import IO from "gi://AstalIO";
import GObject from "gi://GObject";
function mkApp(App) {
  return new class AstalJS extends App {
    static {
      GObject.registerClass({ GTypeName: "AstalJS" }, this);
    }
    eval(body) {
      return new Promise((res, rej) => {
        try {
          const fn = Function(`return (async function() {
                        ${body.includes(";") ? body : `return ${body};`}
                    })`);
          fn()().then(res).catch(rej);
        } catch (error) {
          rej(error);
        }
      });
    }
    requestHandler;
    vfunc_request(msg, conn) {
      if (typeof this.requestHandler === "function") {
        this.requestHandler(msg, (response) => {
          IO.write_sock(
            conn,
            String(response),
            (_, res) => IO.write_sock_finish(res)
          );
        });
      } else {
        super.vfunc_request(msg, conn);
      }
    }
    apply_css(style, reset = false) {
      super.apply_css(style, reset);
    }
    quit(code) {
      super.quit();
      exit(code ?? 0);
    }
    start({ requestHandler, css, hold, main, client, icons, ...cfg } = {}) {
      const app = this;
      client ??= () => {
        print(`Astal instance "${app.instanceName}" already running`);
        exit(1);
      };
      Object.assign(this, cfg);
      setConsoleLogDomain(app.instanceName);
      this.requestHandler = requestHandler;
      app.connect("activate", () => {
        main?.(...programArgs);
      });
      try {
        app.acquire_socket();
      } catch (error) {
        return client((msg) => IO.send_request(app.instanceName, msg), ...programArgs);
      }
      if (css)
        this.apply_css(css, false);
      if (icons)
        app.add_icons(icons);
      hold ??= true;
      if (hold)
        app.hold();
      app.runAsync([]);
    }
  }();
}

// ../../../../usr/share/astal/gjs/gtk4/app.ts
Gtk2.init();
GLib.unsetenv("LD_PRELOAD");
await import("gi://Adw?version=1").then(({ default: Adw }) => Adw.init()).catch(() => void 0);
var app_default = mkApp(Astal4.Application);

// ../../../../usr/share/astal/gjs/gtk4/widget.ts
import Astal5 from "gi://Astal?version=4.0";
import Gtk3 from "gi://Gtk?version=4.0";
function filter(children) {
  return children.flat(Infinity).map((ch) => ch instanceof Gtk3.Widget ? ch : new Gtk3.Label({ visible: true, label: String(ch) }));
}
Object.defineProperty(Astal5.Box.prototype, "children", {
  get() {
    return this.get_children();
  },
  set(v) {
    this.set_children(v);
  }
});
var Box = astalify(Astal5.Box, {
  getChildren(self) {
    return self.get_children();
  },
  setChildren(self, children) {
    return self.set_children(filter(children));
  }
});
var Button = astalify(Gtk3.Button);
var CenterBox = astalify(Gtk3.CenterBox, {
  getChildren(box) {
    return [box.startWidget, box.centerWidget, box.endWidget];
  },
  setChildren(box, children) {
    const ch = filter(children);
    box.startWidget = ch[0] || new Gtk3.Box();
    box.centerWidget = ch[1] || new Gtk3.Box();
    box.endWidget = ch[2] || new Gtk3.Box();
  }
});
var Entry = astalify(Gtk3.Entry, {
  getChildren() {
    return [];
  }
});
var Image = astalify(Gtk3.Image, {
  getChildren() {
    return [];
  }
});
var Label = astalify(Gtk3.Label, {
  getChildren() {
    return [];
  },
  setChildren(self, children) {
    self.label = String(children);
  }
});
var LevelBar = astalify(Gtk3.LevelBar, {
  getChildren() {
    return [];
  }
});
var Overlay = astalify(Gtk3.Overlay, {
  getChildren(self) {
    const children = [];
    let ch = self.get_first_child();
    while (ch !== null) {
      children.push(ch);
      ch = ch.get_next_sibling();
    }
    return children.filter((ch2) => ch2 !== self.child);
  },
  setChildren(self, children) {
    for (const child of filter(children)) {
      const types = type in child ? child[type].split(/\s+/) : [];
      if (types.includes("overlay")) {
        self.add_overlay(child);
      } else {
        self.set_child(child);
      }
      self.set_measure_overlay(child, types.includes("measure"));
      self.set_clip_overlay(child, types.includes("clip"));
    }
  }
});
var Revealer = astalify(Gtk3.Revealer);
var Slider = astalify(Astal5.Slider, {
  getChildren() {
    return [];
  }
});
var Stack = astalify(Gtk3.Stack, {
  setChildren(self, children) {
    for (const child of filter(children)) {
      if (child.name != "" && child.name != null) {
        self.add_named(child, child.name);
      } else {
        self.add_child(child);
      }
    }
  }
});
var Switch = astalify(Gtk3.Switch, {
  getChildren() {
    return [];
  }
});
var Window = astalify(Astal5.Window);
var MenuButton = astalify(Gtk3.MenuButton, {
  getChildren(self) {
    return [self.popover, self.child];
  },
  setChildren(self, children) {
    for (const child of filter(children)) {
      if (child instanceof Gtk3.Popover) {
        self.set_popover(child);
      } else {
        self.set_child(child);
      }
    }
  }
});
var Popover = astalify(Gtk3.Popover);

// sass:/home/gegeh/Documents/astal-test/styles/styles.scss
var styles_default = 'window {\n  background-color: transparent;\n  color: #3c3836;\n  font-family: "JetBrainsMono Nerd Font", sans-serif;\n  font-size: 14px;\n}\n\nbutton {\n  background-color: transparent;\n  color: #3c3836;\n  padding: 0;\n  border: none;\n  border-radius: 0;\n}\n\nlabel {\n  background-color: transparent;\n}\n\nbox {\n  background-color: transparent;\n}\n\n.Icon {\n  font-family: "JetBrainsMono Nerd Font Mono", monospace;\n}\n\n.Debug {\n  background-color: red;\n  color: green;\n}\n\nbutton:hover {\n  color: #7e7770;\n}\n\nbutton.Debug {\n  background-color: red;\n  color: green;\n}\n\nbutton.Padding {\n  background-color: transparent;\n  color: #7e7770;\n}\n\nwindow.Bar {\n  padding: 0.5rem 1rem 0.6rem 0.6rem;\n}\nwindow.Bar box.BarCenterbox {\n  background-color: #fbf1c7;\n  color: #3c3836;\n  border-radius: 0.5rem;\n  box-shadow: 5px 5px 0 0 #3c3836;\n}\nwindow.Bar box.BarCenterbox box.BarSection {\n  padding: 0 0.4rem;\n}\nwindow.Bar box.BarCenterbox separator {\n  margin: 0.5rem 0.5rem;\n  min-width: 0.2rem;\n  background-color: #E7DFBE;\n  border-radius: 1rem;\n}\nwindow.Bar box.BarCenterbox box.Launcher button.LauncherButton {\n  font-size: 28px;\n  padding-left: 0.2rem;\n  padding-right: 0.2rem;\n}\nwindow.Bar box.BarCenterbox box.Network label {\n  font-size: 12px;\n  font-weight: 600;\n}\nwindow.Bar box.BarCenterbox box.Time label {\n  font-weight: 600;\n}\nwindow.Bar box.BarCenterbox box.Media box.MediaPlayback {\n  margin: 0 0.4rem 0 0;\n}\nwindow.Bar box.BarCenterbox box.Media box.MediaPlayback button.MediaPlaybackButton {\n  font-size: 22px;\n  padding: 0 0.3rem;\n}\nwindow.Bar box.BarCenterbox box.Media box.MediaPlayback button.MediaPlaybackButton.Disabled {\n  color: #7e7770;\n}\nwindow.Bar box.BarCenterbox box.Media image.MediaImageCoverArt {\n  margin: 0 0.5rem 0 0;\n}\nwindow.Bar box.BarCenterbox box.Media label.MediaTitleButtonLabel {\n  font-size: 12px;\n  font-weight: 500;\n}\nwindow.Bar box.BarCenterbox box.Workspaces button.WorkspaceButton {\n  color: #A59E86;\n}\nwindow.Bar box.BarCenterbox box.Workspaces button.WorkspaceButton.Active {\n  color: #3c3836;\n}\nwindow.Bar box.BarCenterbox box.Workspaces button.WorkspaceButton.Active > label {\n  text-decoration: underline;\n}\nwindow.Bar box.BarCenterbox box.Workspaces button.WorkspaceButton.HasClient {\n  color: #3c3836;\n}\nwindow.Bar box.BarCenterbox box.FocusedClient label.FocusedClientLabel {\n  font-size: 12px;\n  font-weight: 500;\n}\nwindow.Bar box.BarCenterbox box.Tray menubutton.TrayMenuButton label.TrayLabelIcon {\n  font-size: 18px;\n}\nwindow.Bar box.BarCenterbox box.Tray menubutton.TrayMenuButton image.TrayImageIcon {\n  min-width: 18px;\n}\n\nwindow.QuickSetting {\n  padding: 0.25rem 1rem 0.6rem 0.6rem;\n}\nwindow.QuickSetting box.QuickSettingContainer {\n  background-color: #fbf1c7;\n  color: #3c3836;\n  border-radius: 0.5rem;\n  box-shadow: 5px 5px 0 0 #3c3836;\n  padding: 0.5rem;\n}\nwindow.QuickSetting box.QuickSettingContainer box.QuickSettingRow box.Notifications scrolledwindow.NotificationListScrolledWindow box.NotificationList box.NotificationItem {\n  border: 1px solid #3c3836;\n  box-shadow: none;\n}\nwindow.QuickSetting box.QuickSettingContainer box.QuickSettingRow button.QuickSettingButton {\n  padding: 0.5rem 1rem;\n  background-color: #E7DFBE;\n  color: #3c3836;\n  min-width: 120px;\n  min-height: 50px;\n  font-size: 14px;\n  border-radius: 0.5rem;\n}\nwindow.QuickSetting box.QuickSettingContainer box.QuickSettingRow button.QuickSettingButton:hover {\n  background-color: #7e7770;\n  color: #f2e9d4;\n}\nwindow.QuickSetting box.QuickSettingContainer box.QuickSettingRow button.QuickSettingButton.Small {\n  min-width: 60px;\n  min-height: 30px;\n}\nwindow.QuickSetting box.QuickSettingContainer box.QuickSettingRow button.QuickSettingButton .Icon {\n  font-size: 24px;\n}\nwindow.QuickSetting box.QuickSettingContainer box.QuickSettingRow button.QuickSettingButton .Chevron {\n  font-size: 20px;\n}\nwindow.QuickSetting box.QuickSettingContainer box.QuickSettingRow button.QuickSettingButton .Label1 {\n  font-weight: 600;\n}\nwindow.QuickSetting box.QuickSettingContainer box.QuickSettingRow button.QuickSettingButton .Label2 {\n  font-size: 12px;\n  color: #7e7770;\n}\nwindow.QuickSetting box.QuickSettingContainer image {\n  color: #3c3836;\n}\nwindow.QuickSetting box.QuickSettingContainer scale {\n  margin: 0;\n  padding: 0;\n}\nwindow.QuickSetting box.QuickSettingContainer scale trough {\n  border-radius: 1rem;\n}\nwindow.QuickSetting box.QuickSettingContainer scale trough highlight {\n  min-height: 20px;\n  min-width: 20px;\n  border-radius: 1rem;\n  outline: unset;\n  background-color: #3c3836;\n}\nwindow.QuickSetting box.QuickSettingContainer scale trough slider {\n  box-shadow: none;\n  outline: unset;\n  border: 0;\n  min-height: 20px;\n  min-width: 20px;\n  background-color: transparent;\n}\n\nwindow.Volume {\n  margin-top: 3.5rem;\n  min-height: 100px;\n  min-width: 100px;\n}\nwindow.Volume box.Container {\n  padding: 1rem;\n}\nwindow.Volume box.Container button.Button {\n  padding: 0.5rem;\n  border-radius: 0.5rem;\n  background-color: #fbf1c7;\n  box-shadow: 5px 5px 0 0 #3c3836;\n}\n\nwindow.NotificationPopup {\n  padding: 0.25rem 1rem 0.6rem 0.6rem;\n}\n\nbox.NotificationItem {\n  background-color: #fbf1c7;\n  color: #3c3836;\n  border-radius: 0.5rem;\n  box-shadow: 5px 5px 0 0 #3c3836;\n  min-width: 300px;\n  padding: 0rem 0.5rem;\n}\nbox.NotificationItem box.Header {\n  border-bottom: 1px solid #7e7770;\n}\nbox.NotificationItem box.Header box.HeaderRight label.HeaderTime {\n  font-size: 14px;\n}\nbox.NotificationItem box.Header box.HeaderRight button.CloseButton label {\n  font-size: 20px;\n}\nbox.NotificationItem box.Body {\n  min-height: 50px;\n}\nbox.NotificationItem box.Body label.Summary {\n  font-size: 14px;\n  font-weight: 600;\n}\nbox.NotificationItem box.Body label.Body {\n  font-size: 13px;\n}\nbox.NotificationItem box.Footer {\n  min-height: 1px;\n}\nbox.NotificationItem.Critical {\n  background-color: #f2e9d4;\n}';

// misc/cursor.ts
var _default = Gdk2.Cursor.new_from_name("default", null);
var pointer = Gdk2.Cursor.new_from_name("pointer", null);
var notAllowed = Gdk2.Cursor.new_from_name("not-allowed", null);

// ../../../../usr/share/astal/gjs/index.ts
import { default as default3 } from "gi://AstalIO?version=0.1";

// ../../../../usr/share/astal/gjs/file.ts
import Astal7 from "gi://AstalIO";
import Gio from "gi://Gio?version=2.0";

// ../../../../usr/share/astal/gjs/gobject.ts
import GObject2 from "gi://GObject";
import { default as default2 } from "gi://GLib?version=2.0";
var meta = Symbol("meta");
var priv = Symbol("priv");
var { ParamSpec, ParamFlags } = GObject2;

// ../../../../usr/share/astal/gjs/gtk4/jsx-runtime.ts
function Fragment({ children = [], child }) {
  if (child) children.push(child);
  return mergeBindings(children);
}
function jsx2(ctor, props) {
  return jsx(ctors, ctor, props);
}
var ctors = {
  box: Box,
  button: Button,
  centerbox: CenterBox,
  // circularprogress: Widget.CircularProgress,
  // drawingarea: Widget.DrawingArea,
  entry: Entry,
  image: Image,
  label: Label,
  levelbar: LevelBar,
  overlay: Overlay,
  revealer: Revealer,
  slider: Slider,
  stack: Stack,
  switch: Switch,
  window: Window,
  menubutton: MenuButton,
  popover: Popover
};
var jsxs = jsx2;

// widgets/Bar/Modules/Launcher.tsx
var Launcher = () => {
  return /* @__PURE__ */ jsx2("box", { name: "Launcher", cssClasses: ["Launcher"], children: /* @__PURE__ */ jsx2(
    "button",
    {
      name: "LauncherButton",
      cssClasses: ["Icon", "LauncherButton"],
      onClicked: () => {
        execAsync(
          `rofi -show drun -run-command "uwsm app -- {cmd}"`
        );
      },
      tooltipText: "Launcher",
      cursor: pointer,
      children: /* @__PURE__ */ jsx2("label", { label: "\u{F08C7}" })
    }
  ) });
};
var Launcher_default = Launcher;

// widgets/Bar/Modules/Workspaces.tsx
import AstalHyprland from "gi://AstalHyprland?version=0.1";
var maxWorkspaces = 5;
var workspaces = Array.from({ length: maxWorkspaces - 1 }, (_, i) => i);
var hyprland = AstalHyprland.get_default();
var Workspaces = () => {
  return /* @__PURE__ */ jsxs(
    "box",
    {
      name: "Workspaces",
      cssClasses: ["Workspaces"],
      halign: Gtk4.Align.CENTER,
      valign: Gtk4.Align.BASELINE,
      spacing: 3,
      children: [
        workspaces.map((i) => /* @__PURE__ */ jsx2(
          WorkspaceButton,
          {
            workspace: AstalHyprland.Workspace.dummy(i + 1, null)
          }
        )),
        bind(hyprland, "focusedWorkspace").as((focused) => /* @__PURE__ */ jsx2(Fragment, { children: focused && focused.id > maxWorkspaces ? /* @__PURE__ */ jsx2(WorkspaceButton, { workspace: focused }) : /* @__PURE__ */ jsx2(
          WorkspaceButton,
          {
            workspace: AstalHyprland.Workspace.dummy(
              maxWorkspaces,
              null
            )
          }
        ) }))
      ]
    }
  );
};
var WorkspaceButton = ({ workspace }) => {
  const confVar = Variable.derive(
    [bind(hyprland, "focusedWorkspace"), bind(hyprland, "clients")],
    (focused, _clients) => {
      const classes = ["WorkspaceButton"];
      let cursor = pointer;
      let tooltipText = `Switch Workspace ${workspace.id}`;
      if (focused && focused.id === workspace.id) {
        classes.push("Active");
        cursor = _default;
        tooltipText = "";
      }
      const clients = hyprland.get_workspace(workspace.id)?.get_clients() || [];
      if (clients.length > 0) {
        classes.push("HasClient");
      }
      return {
        classes,
        cursor,
        tooltipText
      };
    }
  );
  const conf = confVar();
  return /* @__PURE__ */ jsx2(
    "button",
    {
      name: `WorkspaceButton-${workspace.id}`,
      cssClasses: conf.as((c) => c.classes),
      onClicked: () => {
        if (workspace.id === hyprland.get_focused_workspace()?.id) {
          return;
        }
        workspace.focus();
      },
      onDestroy: () => confVar.drop(),
      tooltipText: conf.as((c) => c.tooltipText),
      cursor: conf.as((c) => c.cursor),
      children: /* @__PURE__ */ jsx2(
        "label",
        {
          label: workspace.name == "10" ? "0" : workspace.name,
          cssClasses: ["WorkspaceButtonLabel"],
          useUnderline: true
        }
      )
    }
  );
};
var Workspaces_default = Workspaces;

// widgets/Bar/Modules/FocusedClient.tsx
import AstalHyprland2 from "gi://AstalHyprland?version=0.1";
import Pango from "gi://Pango?version=1.0";
var hyprland2 = AstalHyprland2.get_default();
var FocusedClient = () => {
  const focusedClient = Variable.derive(
    [bind(hyprland2, "focusedClient"), bind(hyprland2, "clients")],
    (focusedClient2, _clients) => {
      return focusedClient2?.title || "";
    }
  );
  return /* @__PURE__ */ jsx2(
    "box",
    {
      name: "FocusedClient",
      cssClasses: ["FocusedClient"],
      halign: Gtk4.Align.CENTER,
      valign: Gtk4.Align.BASELINE,
      children: /* @__PURE__ */ jsx2(
        "label",
        {
          label: focusedClient(),
          cssClasses: ["FocusedClientLabel"],
          onDestroy: () => focusedClient.drop(),
          maxWidthChars: 36,
          ellipsize: Pango.EllipsizeMode.MIDDLE
        }
      )
    }
  );
};
var FocusedClient_default = FocusedClient;

// widgets/Bar/Start.tsx
var Start = ({ name }) => {
  return /* @__PURE__ */ jsxs(
    "box",
    {
      name: `BarStart-${name}`,
      cssClasses: ["BarSection", "BarStart"],
      hexpand: true,
      children: [
        /* @__PURE__ */ jsx2(Launcher_default, {}),
        /* @__PURE__ */ jsx2(
          Gtk4.Separator,
          {
            orientation: Gtk4.Orientation.VERTICAL,
            visible: true
          }
        ),
        /* @__PURE__ */ jsx2(Workspaces_default, {}),
        /* @__PURE__ */ jsx2(
          Gtk4.Separator,
          {
            orientation: Gtk4.Orientation.VERTICAL,
            visible: true
          }
        ),
        /* @__PURE__ */ jsx2(FocusedClient_default, {})
      ]
    }
  );
};
var Start_default = Start;

// widgets/Bar/Modules/Tray.tsx
import AstalTray from "gi://AstalTray?version=0.1";

// lib/utils.ts
var toTitleCase = (str) => {
  return str.toLowerCase().split(" ").map((word) => word.charAt(0).toUpperCase() + word.slice(1)).join(" ");
};
var debounce = (callback, wait) => {
  let timeout2 = null;
  return (...args) => {
    clearTimeout(timeout2);
    timeout2 = setTimeout(() => {
      callback(...args);
    }, wait);
  };
};

// widgets/Bar/Modules/Tray.tsx
var USE_CUSTOM_ICONS = [/steam/i];
var CUSTOM_ICONS = {
  discord: "\uF1FF",
  steam: "\uF1B6",
  spotify: "\uF1BC"
};
var getSearchWith = (item) => {
  const title = item.title;
  const tooltipMarkup = item.tooltipMarkup;
  return title && title.length ? title : tooltipMarkup;
};
var shouldUseCustomIcon = (item) => {
  const searchWith = getSearchWith(item);
  return USE_CUSTOM_ICONS.some((regex) => searchWith.match(regex));
};
var getCustomIcon = (item) => {
  const searchWith = getSearchWith(item);
  for (const [key, value] of Object.entries(CUSTOM_ICONS)) {
    if (searchWith.match(new RegExp(key, "i"))) {
      return value;
    }
  }
  return "\u{F082B}";
};
var getTooltipMarkup = (item) => {
  return toTitleCase(getSearchWith(item));
};
var ImageIcon = ({ item }) => {
  if (shouldUseCustomIcon(item)) {
    return /* @__PURE__ */ jsx2(
      "label",
      {
        cssClasses: ["TrayLabelIcon"],
        label: getCustomIcon(item)
      }
    );
  }
  return /* @__PURE__ */ jsx2(
    "image",
    {
      gicon: bind(item, "gicon"),
      cssClasses: ["TrayImageIcon"],
      pixelSize: 18
    }
  );
};
var MenuButton2 = ({ item }) => {
  return /* @__PURE__ */ jsxs(
    "menubutton",
    {
      setup: (self) => {
        self.insert_action_group("dbusmenu", item.actionGroup);
      },
      cursor: pointer,
      tooltipMarkup: getTooltipMarkup(item),
      cssClasses: ["TrayMenuButton"],
      halign: Gtk4.Align.CENTER,
      valign: Gtk4.Align.CENTER,
      children: [
        /* @__PURE__ */ jsx2(ImageIcon, { item }),
        Gtk4.PopoverMenu.new_from_model(item.menuModel)
      ]
    }
  );
};
var Tray = () => {
  const tray = AstalTray.get_default();
  return /* @__PURE__ */ jsx2(
    "box",
    {
      name: "Tray",
      cssClasses: ["Tray"],
      spacing: 10,
      valign: Gtk4.Align.CENTER,
      children: bind(tray, "items").as(
        (items) => items.map((item) => /* @__PURE__ */ jsx2(MenuButton2, { item }))
      )
    }
  );
};
var Tray_default = Tray;

// widgets/Bar/Modules/Media.tsx
import AstalMpris from "gi://AstalMpris";
import Pango2 from "gi://Pango?version=1.0";
import AstalHyprland3 from "gi://AstalHyprland?version=0.1";
var hyprland3 = AstalHyprland3.get_default();
var Media = ({ player }) => {
  if (!player) {
    return /* @__PURE__ */ jsx2("box", {});
  }
  const coverArt = bind(player, "coverArt");
  const title = bind(player, "title").as((t) => t);
  const playIcon = bind(player, "playbackStatus").as(
    (s) => s === AstalMpris.PlaybackStatus.PLAYING ? "\uF04B" : "\uF04C"
  );
  const goPrevCursor = bind(player, "canGoPrevious").as(
    (canGo) => canGo ? pointer : notAllowed
  );
  const goNextCursor = bind(player, "canGoNext").as(
    (canGo) => canGo ? pointer : notAllowed
  );
  const classessVars = Variable.derive(
    [bind(player, "canGoPrevious"), bind(player, "canGoNext")],
    (canGoPrev, canGoNext) => {
      const classes = ["Icon", "MediaPlaybackButton"];
      return {
        goPrev: canGoPrev ? classes : [...classes, "Disabled"],
        goNext: canGoNext ? classes : [...classes, "Disabled"]
      };
    }
  );
  const classess = classessVars();
  function raisePlayer() {
    if (player.get_can_raise()) {
      player.raise();
    }
    const clients = hyprland3.get_clients();
    const client = clients.find((c) => {
      const _class = c.class.toLowerCase();
      return _class.includes(player.busName.toLowerCase()) || _class.includes(player.entry.toLowerCase());
    });
    if (client) {
      hyprland3.dispatch("focuswindow", `class:${client.class}`);
    }
  }
  return /* @__PURE__ */ jsxs("box", { name: "Media", valign: Gtk4.Align.CENTER, cssClasses: ["Media"], children: [
    /* @__PURE__ */ jsxs(
      "box",
      {
        name: "MediaPlayback",
        cssClasses: ["MediaPlayback"],
        onDestroy: () => classessVars.drop(),
        children: [
          /* @__PURE__ */ jsx2(
            "button",
            {
              name: "MediaPlaybackButtonPrevious",
              cssClasses: classess.as((c) => c.goPrev),
              onClicked: () => player.get_can_go_previous() && player.previous(),
              tooltipText: "Previous Track",
              halign: Gtk4.Align.CENTER,
              cursor: goPrevCursor,
              children: /* @__PURE__ */ jsx2("label", { label: "\uF04A", hexpand: true })
            }
          ),
          /* @__PURE__ */ jsx2(
            "button",
            {
              name: "MediaPlaybackButtonPlayPause",
              cssClasses: ["Icon", "MediaPlaybackButton"],
              onClicked: () => player.play_pause(),
              tooltipText: "Play/Pause",
              halign: Gtk4.Align.CENTER,
              cursor: pointer,
              children: /* @__PURE__ */ jsx2("label", { label: playIcon, hexpand: true })
            }
          ),
          /* @__PURE__ */ jsx2(
            "button",
            {
              name: "MediaPlaybackButtonNext",
              cssClasses: classess.as((c) => c.goNext),
              onClicked: () => player.get_can_go_next() && player.next(),
              tooltipText: "Next Track",
              halign: Gtk4.Align.CENTER,
              cursor: goNextCursor,
              children: /* @__PURE__ */ jsx2("label", { label: "\uF04E", hexpand: true })
            }
          )
        ]
      }
    ),
    /* @__PURE__ */ jsx2("button", { onClicked: raisePlayer, cursor: pointer, children: /* @__PURE__ */ jsx2(
      "image",
      {
        name: "MediaImageCoverArt",
        cssClasses: ["MediaImageCoverArt"],
        file: coverArt,
        pixelSize: 32,
        overflow: Gtk4.Overflow.HIDDEN,
        visible: true
      }
    ) }),
    /* @__PURE__ */ jsx2(
      "button",
      {
        name: "MediaTitleButton",
        cssClasses: ["MediaTitleButton"],
        cursor: pointer,
        onClicked: raisePlayer,
        children: /* @__PURE__ */ jsx2(
          "label",
          {
            name: "MediaTitleButtonLabel",
            cssClasses: ["MediaTitleButtonLabel"],
            label: title,
            halign: Gtk4.Align.CENTER,
            valign: Gtk4.Align.CENTER,
            maxWidthChars: 36,
            ellipsize: Pango2.EllipsizeMode.MIDDLE
          }
        )
      }
    )
  ] });
};
var Media_default = Media;

// widgets/Bar/Center.tsx
import AstalMpris2 from "gi://AstalMpris?version=0.1";
var Center = ({ name }) => {
  const mpris = AstalMpris2.get_default();
  return /* @__PURE__ */ jsxs(
    "box",
    {
      name: `BarCenter-${name}`,
      cssClasses: ["BarSection", "BarCenter"],
      hexpand: true,
      halign: Gtk4.Align.CENTER,
      children: [
        bind(mpris, "players").as((players) => /* @__PURE__ */ jsxs(Fragment, { children: [
          /* @__PURE__ */ jsx2(Media_default, { player: players[0] }),
          players[0] && /* @__PURE__ */ jsx2(
            Gtk4.Separator,
            {
              orientation: Gtk4.Orientation.VERTICAL,
              visible: true
            }
          )
        ] })),
        /* @__PURE__ */ jsx2(Tray_default, {})
      ]
    }
  );
};
var Center_default = Center;

// widgets/Bar/Modules/Time.tsx
var datetime = Variable({
  date: "",
  time: ""
}).poll(1e3, "date +'%a, %b %d|%H:%M:%S'", (output) => {
  const [date, time] = output.split("|");
  return { date, time };
});
var Time2 = ({ gdkmonitor }) => {
  const _datetime = datetime();
  return /* @__PURE__ */ jsx2("box", { name: `Time`, cssClasses: ["Time"], hexpand: true, children: /* @__PURE__ */ jsx2(
    "button",
    {
      onClicked: () => {
        app_default.toggle_window(`QuickSetting-${gdkmonitor.connector}`);
      },
      children: /* @__PURE__ */ jsx2("label", { label: _datetime.as((d) => d.date + " " + d.time) })
    }
  ) });
};
var Time_default = Time2;

// widgets/Bar/Modules/Network.tsx
import AstalNetwork from "gi://AstalNetwork?version=0.1";

// lib/networkspeed.ts
var interval2 = 1e3;
var lastTotalDownBytes = 0;
var lastTotalUpBytes = 0;
var networkSpeed = Variable({
  download: 0,
  upload: 0
}).poll(interval2, ["cat", "/proc/net/dev"], (content, _) => {
  const lines = content.split("\n");
  let totalDownBytes = 0;
  let totalUpBytes = 0;
  for (let i = 0; i < lines.length; ++i) {
    const fields = lines[i].trim().split(/\W+/);
    if (fields.length <= 2) {
      continue;
    }
    const interfce = fields[0];
    const currentInterfaceDownBytes = Number.parseInt(fields[1]);
    const currentInterfaceUpBytes = Number.parseInt(fields[9]);
    if (interfce === "lo" || // Created by python-based bandwidth manager "traffictoll".
    interfce.match(/^ifb[0-9]+/) || // Created by lxd container manager.
    interfce.match(/^lxdbr[0-9]+/) || interfce.match(/^virbr[0-9]+/) || interfce.match(/^br[0-9]+/) || interfce.match(/^vnet[0-9]+/) || interfce.match(/^tun[0-9]+/) || interfce.match(/^tap[0-9]+/) || isNaN(currentInterfaceDownBytes) || isNaN(currentInterfaceUpBytes)) {
      continue;
    }
    totalDownBytes += currentInterfaceDownBytes;
    totalUpBytes += currentInterfaceUpBytes;
  }
  if (lastTotalDownBytes === 0) {
    lastTotalDownBytes = totalDownBytes;
  }
  if (lastTotalUpBytes === 0) {
    lastTotalUpBytes = totalUpBytes;
  }
  const downloadSpeed = (totalDownBytes - lastTotalDownBytes) / interval2;
  const uploadSpeed = (totalUpBytes - lastTotalUpBytes) / interval2;
  lastTotalDownBytes = totalDownBytes;
  lastTotalUpBytes = totalUpBytes;
  return {
    download: downloadSpeed,
    upload: uploadSpeed
  };
});
var networkspeed_default = networkSpeed;

// widgets/Bar/Modules/Network.tsx
var astalNet = AstalNetwork.get_default();
var Network = ({ gdkmonitor }) => {
  const icon = bind(astalNet, "primary").as((primary) => {
    console.log("Network primary:", primary);
    if (primary == AstalNetwork.Primary.WIRED || primary == AstalNetwork.Primary.UNKNOWN) {
      return /* @__PURE__ */ jsx2(Wired, {});
    }
    return /* @__PURE__ */ jsx2(Wifi, {});
  });
  return /* @__PURE__ */ jsxs("box", { name: "Network", cssClasses: ["Network"], spacing: 5, children: [
    /* @__PURE__ */ jsx2(Speed, {}),
    icon
  ] });
};
var Speed = () => {
  return /* @__PURE__ */ jsx2(
    "label",
    {
      cssClasses: ["Speed"],
      label: networkspeed_default(({ download, upload }) => {
        const downloadSpeed = (download / 1e3).toFixed(2);
        const uploadSpeed = (upload / 1e3).toFixed(2);
        return `${downloadSpeed} MB/s \uF0D7 | ${uploadSpeed} MB/s \uF0D8`;
      })
    }
  );
};
function getState(state) {
  switch (state) {
    case AstalNetwork.State.ASLEEP:
      return "Asleep";
    case AstalNetwork.State.CONNECTING:
      return "Connecting";
    case AstalNetwork.State.DISCONNECTED:
      return "Disconnected";
    case AstalNetwork.State.DISCONNECTING:
      return "Disconnecting";
    case AstalNetwork.State.CONNECTED_GLOBAL:
      return "Connected (Global)";
    case AstalNetwork.State.CONNECTED_LOCAL:
      return "Connected (Local)";
    case AstalNetwork.State.CONNECTED_SITE:
      return "Connected (Site)";
    case AstalNetwork.State.UNKNOWN:
      return "Unknown";
    default:
      return "?";
  }
}
var Wifi = () => {
  const vars = Variable.derive(
    [bind(astalNet, "state"), bind(astalNet, "wifi")],
    (state, wifi) => {
      const name = wifi.device.activeConnection?.connection.get_id() || "Disconnected";
      return {
        tooltipText: `${getState(state)} - ${name}`,
        iconName: wifi.get_icon_name()
      };
    }
  );
  return /* @__PURE__ */ jsx2(
    "button",
    {
      name: "NetworkButton",
      cssClasses: ["NetworkButton"],
      tooltipText: vars().as(({ tooltipText }) => tooltipText),
      cursor: pointer,
      onClicked: () => {
        execAsync(`uwsm app -- better-control --wifi`);
      },
      onDestroy: () => {
        vars.drop();
      },
      children: /* @__PURE__ */ jsx2(
        "image",
        {
          iconName: vars().as(({ iconName }) => iconName),
          cssClasses: ["Icon", "Wired"]
        }
      )
    }
  );
};
var Wired = () => {
  const vars = Variable.derive(
    [bind(astalNet, "state"), bind(astalNet, "wired")],
    (state, wired) => {
      const name = wired.device.activeConnection?.connection.get_id() || "Disconnected";
      return {
        tooltipText: `${getState(state)} - ${name}`,
        iconName: wired.get_icon_name()
      };
    }
  );
  return /* @__PURE__ */ jsx2(
    "button",
    {
      name: "NetworkButton",
      cssClasses: ["NetworkButton"],
      tooltipText: vars().as(({ tooltipText }) => tooltipText),
      cursor: pointer,
      onClicked: () => {
        execAsync(`uwsm app -- better-control --wifi`);
      },
      onDestroy: () => {
        vars.drop();
      },
      children: /* @__PURE__ */ jsx2(
        "image",
        {
          iconName: vars().as(({ iconName }) => iconName),
          cssClasses: ["Icon", "Wired"]
        }
      )
    }
  );
};
var Network_default = Network;

// widgets/Bar/End.tsx
var End = ({ name, gdkmonitor }) => {
  return /* @__PURE__ */ jsxs(
    "box",
    {
      name: `BarEnd-${name}`,
      cssClasses: ["BarSection", "BarEnd"],
      hexpand: true,
      halign: Gtk4.Align.END,
      spacing: 5,
      children: [
        /* @__PURE__ */ jsx2(Network_default, { gdkmonitor }),
        /* @__PURE__ */ jsx2(
          Gtk4.Separator,
          {
            orientation: Gtk4.Orientation.VERTICAL,
            visible: true
          }
        ),
        /* @__PURE__ */ jsx2(Time_default, { gdkmonitor })
      ]
    }
  );
};
var End_default = End;

// widgets/Bar/Bar.tsx
var Bar = ({ gdkmonitor }) => {
  const { TOP, LEFT, RIGHT } = Astal6.WindowAnchor;
  const name = `Bar-${gdkmonitor.connector}`;
  return /* @__PURE__ */ jsx2(
    "window",
    {
      name,
      namespace: "Bar",
      application: app_default,
      cssClasses: ["Bar"],
      gdkmonitor,
      anchor: TOP | LEFT | RIGHT,
      exclusivity: Astal6.Exclusivity.EXCLUSIVE,
      visible: true,
      setup: (self) => {
        self.set_default_size(1, 1);
      },
      children: /* @__PURE__ */ jsx2(
        "centerbox",
        {
          name,
          cssClasses: ["BarCenterbox"],
          startWidget: /* @__PURE__ */ jsx2(Start_default, { name }),
          centerWidget: /* @__PURE__ */ jsx2(Center_default, { name }),
          endWidget: /* @__PURE__ */ jsx2(End_default, { name, gdkmonitor })
        }
      )
    }
  );
};
var Bar_default = Bar;

// widgets/commons/Popover.tsx
var Popover2 = ({
  child,
  name,
  gdkmonitor,
  visible,
  cssClasses
}) => {
  const { TOP, RIGHT, BOTTOM, LEFT } = Astal6.WindowAnchor;
  return /* @__PURE__ */ jsx2(
    "window",
    {
      name,
      namespace: "Popover",
      application: app_default,
      cssClasses: ["Popover", ...cssClasses || []],
      gdkmonitor,
      layer: Astal6.Layer.TOP,
      keymode: Astal6.Keymode.ON_DEMAND,
      anchor: TOP | RIGHT | BOTTOM | LEFT,
      visible: visible || false,
      setup: (self) => {
        self.set_default_size(1, 1);
      },
      onKeyPressed: (_event, keyval) => {
        if (keyval === Gdk2.KEY_Escape) {
          app_default.toggle_window(name);
        }
      },
      children: /* @__PURE__ */ jsxs("box", { cssClasses: [], children: [
        /* @__PURE__ */ jsx2(Padding, { name }),
        /* @__PURE__ */ jsxs("box", { vertical: true, hexpand: false, children: [
          child,
          /* @__PURE__ */ jsx2(Padding, { name })
        ] })
      ] })
    }
  );
};
var Padding = ({ name }) => {
  return /* @__PURE__ */ jsx2(
    "button",
    {
      cssClasses: ["Padding", "Debug"],
      canFocus: false,
      onClicked: () => {
        app_default.toggle_window(name);
      },
      hexpand: true,
      vexpand: true
    }
  );
};
var Popover_default = Popover2;

// widgets/QuickSetting/Button.tsx
var Button2 = ({ icon, label1, label2 }) => {
  return /* @__PURE__ */ jsx2("button", { cssClasses: ["QuickSettingButton"], hexpand: true, children: /* @__PURE__ */ jsxs("box", { spacing: 16, halign: Gtk4.Align.FILL, valign: Gtk4.Align.CENTER, children: [
    /* @__PURE__ */ jsx2("label", { cssClasses: ["Icon"], label: icon }),
    /* @__PURE__ */ jsxs(
      "box",
      {
        cssClasses: ["Labels"],
        vertical: true,
        valign: Gtk4.Align.CENTER,
        halign: Gtk4.Align.START,
        hexpand: true,
        children: [
          /* @__PURE__ */ jsx2(
            "label",
            {
              cssClasses: ["Label1"],
              halign: Gtk4.Align.START,
              label: label1
            }
          ),
          /* @__PURE__ */ jsx2(
            "label",
            {
              maxWidthChars: 15,
              cssClasses: ["Label2"],
              halign: Gtk4.Align.START,
              label: label2
            }
          )
        ]
      }
    ),
    /* @__PURE__ */ jsx2("label", { cssClasses: ["Icon", "Chevron"], label: "\uF054" })
  ] }) });
};
var Button_default = Button2;

// widgets/QuickSetting/ButtonSmall.tsx
var ButtonSmall = ({ icon }) => {
  return /* @__PURE__ */ jsx2("button", { cssClasses: ["QuickSettingButton", "Small"], hexpand: true, children: /* @__PURE__ */ jsx2("box", { cssClasses: ["Icon"], halign: Gtk4.Align.CENTER, children: /* @__PURE__ */ jsx2(
    "label",
    {
      cssClasses: [""],
      label: icon,
      hexpand: true,
      vexpand: false
    }
  ) }) });
};
var ButtonSmall_default = ButtonSmall;

// widgets/QuickSetting/QuickSetting.tsx
import AstalWp from "gi://AstalWp?version=0.1";

// services/Notification/Manager.ts
import AstalNotifd2 from "gi://AstalNotifd?version=0.1";

// services/Notification/Timer.ts
import AstalNotifd from "gi://AstalNotifd?version=0.1";
var TICK = 10;
var CRITICAL_TICK = 30;
var Timer = class {
  /**
   * Notification ID
   */
  id;
  tick;
  dismisser;
  interval;
  constructor(id, urgency, dismisser) {
    this.id = id;
    this.tick = Variable(
      urgency === AstalNotifd.Urgency.CRITICAL ? CRITICAL_TICK : TICK
    );
    this.dismisser = dismisser;
    this.start();
  }
  start() {
    if (this.interval) {
      return;
    }
    this.interval = interval(1e3, () => {
      const currentTick = this.tick.get();
      if (currentTick <= 0) {
        this.interval?.cancel();
        this.interval = void 0;
        this.dismisser(this.id);
      } else {
        this.tick.set(currentTick - 1);
      }
    });
  }
  stop() {
    this.interval?.cancel();
    this.interval = void 0;
    this.tick.set(TICK);
  }
};
var Timer_default = Timer;

// services/Notification/Manager.ts
var notifd = AstalNotifd2.get_default();
notifd.ignoreTimeout = true;
var MAX_PROCESSING = 3;
var Manager = class {
  list = notifd.get_notifications().sort((a, b) => {
    return b.time - a.time;
  });
  queue = [...this.list].reverse().map((n) => n.id);
  actives = [];
  entry = Variable({
    list: this.list,
    queue: this.queue,
    actives: this.actives
  });
  constructor() {
    notifd.connect("notified", (_source, id, replaced) => {
      this.onNotified(_source, id, replaced);
    });
    notifd.connect("resolved", (_source, id, reason) => {
      this.onResolved(_source, id, reason);
    });
    this.processQueue();
  }
  onNotified(_source, id, replaced) {
    const notification = notifd.get_notification(id);
    if (!notification) {
      return;
    }
    if (notifd.dontDisturb && notification.urgency !== AstalNotifd2.Urgency.CRITICAL) {
      return;
    }
    this.queue.push(id);
    if (!this.list.some((n) => n.id === id)) {
      this.list.unshift(notification);
    }
    this.notify();
    this.processQueue();
  }
  onResolved(_source, id, reason) {
    const index = this.queue.indexOf(id);
    if (index !== -1) {
      this.queue.splice(index, 1);
    }
    const activeIndex = this.actives.findIndex((n) => n.id === id);
    if (activeIndex !== -1) {
      this.actives.splice(activeIndex, 1);
    }
    this.list = this.list.filter((n) => n.id !== id);
    this.notify();
    timeout(500, () => {
      this.processQueue();
    });
  }
  processQueue() {
    if (this.actives.length >= MAX_PROCESSING) {
      return;
    }
    if (this.queue.length === 0) {
      return;
    }
    const id = this.queue.shift();
    if (id === void 0) {
      return;
    }
    const notification = notifd.get_notification(id);
    this.actives.push(
      new Timer_default(id, notification.urgency, this.softDismiss.bind(this))
    );
    this.notify();
    timeout(500, () => {
      this.processQueue();
    });
  }
  get() {
    return this.entry.get();
  }
  subscribe(callback) {
    return this.entry.subscribe(callback);
  }
  softDismiss(id) {
    const index = this.actives.findIndex((n) => n.id === id);
    if (index !== -1) {
      this.actives.splice(index, 1);
    }
    this.notify();
    timeout(500, () => {
      this.processQueue();
    });
  }
  resolveAll() {
    this.queue = [];
    this.actives.forEach((timer) => timer.stop());
    this.actives = [];
    this.list = [];
    this.notify();
    for (const notification of notifd.get_notifications()) {
      notification.dismiss();
    }
  }
  notify() {
    this.entry.set({
      list: this.list,
      queue: this.queue,
      actives: [...this.actives].reverse()
    });
  }
};
var Manager_default = Manager;

// widgets/QuickSetting/NotificationItem.tsx
import AstalNotifd3 from "gi://AstalNotifd?version=0.1";

// widgets/Notification/Header.tsx
var Header = ({ notification }) => {
  return /* @__PURE__ */ jsxs(
    "box",
    {
      cssClasses: ["Header"],
      valign: Gtk4.Align.CENTER,
      vexpand: false,
      hexpand: false,
      children: [
        /* @__PURE__ */ jsxs(
          "box",
          {
            cssClasses: ["HeaderLeft"],
            halign: Gtk4.Align.START,
            vexpand: false,
            spacing: 5,
            children: [
              /* @__PURE__ */ jsx2(
                "image",
                {
                  cssClasses: ["AppIcon"],
                  iconName: notification.appIcon || notification.desktopEntry,
                  pixelSize: 18
                }
              ),
              /* @__PURE__ */ jsx2(
                "label",
                {
                  cssClasses: ["HeaderLabel"],
                  label: `${notification.appName || "Unknown App"}`
                }
              )
            ]
          }
        ),
        /* @__PURE__ */ jsxs(
          "box",
          {
            cssClasses: ["HeaderRight"],
            halign: Gtk4.Align.END,
            hexpand: true,
            spacing: 5,
            children: [
              /* @__PURE__ */ jsx2(
                "label",
                {
                  cssClasses: ["HeaderTime"],
                  label: new Date(
                    notification.time * 1e3
                  ).toLocaleTimeString("en-US", {
                    hour: "2-digit",
                    minute: "2-digit",
                    second: void 0,
                    hour12: false
                  })
                }
              ),
              /* @__PURE__ */ jsx2(
                "button",
                {
                  cssClasses: ["CloseButton"],
                  tooltipText: "Close Notification",
                  onClicked: () => {
                    notification.dismiss();
                  },
                  children: /* @__PURE__ */ jsx2("label", { cssClasses: ["Icon"], label: "\u2715" })
                }
              )
            ]
          }
        )
      ]
    }
  );
};
var Header_default = Header;

// widgets/Notification/Body.tsx
import Pango3 from "gi://Pango?version=1.0";
var isIcon = (icon) => {
  const iconTheme = new Gtk4.IconTheme();
  return iconTheme.has_icon(icon);
};
var fileExists = (path) => default2.file_test(path, default2.FileTest.EXISTS);
var MARKUP_SAFE_APPS = ["Hyprshot"];
var Body = ({ notification }) => {
  return /* @__PURE__ */ jsxs(
    "box",
    {
      cssClasses: ["Body"],
      valign: Gtk4.Align.CENTER,
      spacing: 10,
      vexpand: true,
      children: [
        notification.image && fileExists(notification.image) && /* @__PURE__ */ jsx2("box", { valign: Gtk4.Align.CENTER, cssClasses: ["Image"], children: /* @__PURE__ */ jsx2(
          "image",
          {
            file: notification.image,
            overflow: Gtk4.Overflow.HIDDEN,
            pixelSize: 48
          }
        ) }),
        notification.image && isIcon(notification.image) && /* @__PURE__ */ jsx2("box", { cssClasses: ["Icon"], valign: Gtk4.Align.CENTER, children: /* @__PURE__ */ jsx2(
          "image",
          {
            iconName: notification.image,
            pixelSize: 48,
            halign: Gtk4.Align.CENTER,
            valign: Gtk4.Align.CENTER
          }
        ) }),
        notification.appIcon && fileExists(notification.appIcon) && /* @__PURE__ */ jsx2("box", { cssClasses: ["Icon"], valign: Gtk4.Align.CENTER, children: /* @__PURE__ */ jsx2(
          "image",
          {
            file: notification.appIcon,
            pixelSize: 48,
            halign: Gtk4.Align.CENTER,
            valign: Gtk4.Align.CENTER
          }
        ) }),
        /* @__PURE__ */ jsxs("box", { hexpand: true, vertical: true, valign: Gtk4.Align.CENTER, spacing: 5, children: [
          /* @__PURE__ */ jsx2(
            "label",
            {
              ellipsize: Pango3.EllipsizeMode.END,
              maxWidthChars: 30,
              cssClasses: ["Summary"],
              halign: Gtk4.Align.START,
              xalign: 0,
              label: notification.summary
            }
          ),
          notification.body && /* @__PURE__ */ jsx2(
            "label",
            {
              cssClasses: ["Body"],
              maxWidthChars: 30,
              wrap: true,
              halign: Gtk4.Align.START,
              xalign: 0,
              label: notification.body,
              selectable: true,
              useMarkup: MARKUP_SAFE_APPS.includes(
                notification.appName
              )
            }
          )
        ] })
      ]
    }
  );
};
var Body_default = Body;

// widgets/Notification/Footer.tsx
import AstalHyprland4 from "gi://AstalHyprland?version=0.1";
var hyprland4 = AstalHyprland4.get_default();
var customActions = {
  Hyprshot: [
    {
      label: "Open Directory",
      action: (notification) => {
        const file = notification.appIcon;
        const dir = file.substring(0, file.lastIndexOf("/"));
        execAsync(`xdg-open ${dir}`);
      }
    },
    {
      label: "View Image",
      action: (notification) => {
        const file = notification.appIcon;
        execAsync(`xdg-open ${file}`);
      }
    }
  ]
};
var Footer = ({ notification }) => {
  const actions = notification.get_actions();
  return /* @__PURE__ */ jsx2("box", { cssClasses: ["Footer"], children: /* @__PURE__ */ jsxs("box", { cssClasses: ["Actions"], spacing: 6, children: [
    actions.map((action) => /* @__PURE__ */ jsx2(
      "button",
      {
        hexpand: true,
        onClicked: () => {
          notification.invoke(action.id);
          notification.dismiss();
          const clients = hyprland4.get_clients();
          const client = clients.find(
            (c) => c.class.toLowerCase().includes(
              notification.appName.toLowerCase()
            )
          );
          if (client) {
            hyprland4.dispatch(
              "focuswindow",
              `class:${client.class}`
            );
          }
        },
        children: /* @__PURE__ */ jsx2(
          "label",
          {
            label: action.label,
            halign: Gtk4.Align.CENTER,
            hexpand: true
          }
        )
      }
    )),
    customActions[notification.appName]?.map(
      (customAction) => /* @__PURE__ */ jsx2(
        "button",
        {
          hexpand: true,
          onClicked: () => {
            customAction.action(notification);
            notification.dismiss();
          },
          children: /* @__PURE__ */ jsx2(
            "label",
            {
              label: customAction.label,
              halign: Gtk4.Align.CENTER,
              hexpand: true
            }
          )
        }
      )
    )
  ] }) });
};
var Footer_default = Footer;

// widgets/QuickSetting/NotificationItem.tsx
var NotificationItem = ({
  notification
}) => {
  return /* @__PURE__ */ jsxs(
    "box",
    {
      cssClasses: ["NotificationItem"],
      vertical: true,
      setup: (self) => {
        self.set_css_classes([
          "NotificationItem",
          notification.urgency === AstalNotifd3.Urgency.CRITICAL ? "NotificationItemCritical" : ""
        ]);
      },
      spacing: 5,
      vexpand: false,
      children: [
        /* @__PURE__ */ jsx2(Header_default, { notification }),
        /* @__PURE__ */ jsx2(Body_default, { notification }),
        /* @__PURE__ */ jsx2(Footer_default, { notification })
      ]
    }
  );
};
var NotificationItem_default = NotificationItem;

// widgets/QuickSetting/Notifications.tsx
var manager = new Manager_default();
var Notifications = () => {
  return /* @__PURE__ */ jsx2("box", { cssClasses: ["Notifications"], vertical: true, spacing: 10, children: bind(manager).as((entry) => {
    return /* @__PURE__ */ jsxs(Fragment, { children: [
      entry.list.length > 0 && /* @__PURE__ */ jsx2(
        "button",
        {
          cssClasses: ["ClearButton"],
          label: "Clear All Notifications",
          onClicked: () => {
            manager.resolveAll();
          }
        }
      ),
      entry.list.length > 0 && /* @__PURE__ */ jsx2(
        Gtk4.ScrolledWindow,
        {
          cssClasses: ["NotificationListScrolledWindow"],
          hexpand: true,
          heightRequest: 600,
          children: /* @__PURE__ */ jsx2(
            "box",
            {
              cssClasses: ["NotificationList"],
              spacing: 10,
              vertical: true,
              children: entry.list.map((notification) => /* @__PURE__ */ jsx2(
                NotificationItem_default,
                {
                  notification
                }
              ))
            }
          )
        }
      )
    ] });
  }) });
};
var Notifications_default = Notifications;

// widgets/QuickSetting/QuickSetting.tsx
var QuickSetting = ({ gdkmonitor, visible }) => {
  const name = `QuickSetting-${gdkmonitor.connector}`;
  const speaker2 = AstalWp.get_default()?.audio.defaultSpeaker;
  const debouncedSetVolume = debounce((value) => {
    speaker2.volume = value;
  }, 100);
  return /* @__PURE__ */ jsx2(
    Popover_default,
    {
      name,
      gdkmonitor,
      visible,
      cssClasses: ["QuickSetting"],
      children: /* @__PURE__ */ jsxs(
        "box",
        {
          cssClasses: ["QuickSettingContainer"],
          vertical: true,
          spacing: 10,
          children: [
            /* @__PURE__ */ jsxs(
              "box",
              {
                cssClasses: ["QuickSettingRow"],
                hexpand: true,
                halign: Gtk4.Align.CENTER,
                spacing: 10,
                children: [
                  /* @__PURE__ */ jsx2(Button_default, { icon: "\u{F05A9}", label1: "Wi-Fi", label2: "TSL77" }),
                  /* @__PURE__ */ jsx2(
                    Button_default,
                    {
                      icon: "\u{F00AF}",
                      label1: "Bluetooth",
                      label2: "Nokia E3511"
                    }
                  )
                ]
              }
            ),
            /* @__PURE__ */ jsxs("box", { cssClasses: ["QuickSettingRow"], spacing: 10, children: [
              /* @__PURE__ */ jsx2(ButtonSmall_default, { icon: "\u{F0499}" }),
              /* @__PURE__ */ jsx2(ButtonSmall_default, { icon: "\u{F009C}" }),
              /* @__PURE__ */ jsx2(ButtonSmall_default, { icon: "\u{F020A}" })
            ] }),
            /* @__PURE__ */ jsxs("box", { cssClasses: ["QuickSettingRow"], spacing: 10, children: [
              /* @__PURE__ */ jsx2(ButtonSmall_default, { icon: "\u{F0080}" }),
              /* @__PURE__ */ jsx2(ButtonSmall_default, { icon: "\u{F04C3}" }),
              /* @__PURE__ */ jsx2(ButtonSmall_default, { icon: "\u{F18F4}" })
            ] }),
            /* @__PURE__ */ jsx2(
              "box",
              {
                cssClasses: ["QuickSettingRow"],
                spacing: 10,
                vertical: true,
                children: /* @__PURE__ */ jsxs("box", { valign: Gtk4.Align.CENTER, spacing: 10, children: [
                  /* @__PURE__ */ jsx2(
                    "image",
                    {
                      iconName: bind(speaker2, "volumeIcon"),
                      valign: Gtk4.Align.CENTER,
                      iconSize: Gtk4.IconSize.LARGE,
                      pixelSize: 20
                    }
                  ),
                  /* @__PURE__ */ jsx2(
                    "slider",
                    {
                      onChangeValue: (self) => {
                        debouncedSetVolume(self.value);
                      },
                      value: bind(speaker2, "volume"),
                      hexpand: true
                    }
                  )
                ] })
              }
            ),
            /* @__PURE__ */ jsx2("box", { cssClasses: ["QuickSettingRow"], children: /* @__PURE__ */ jsx2(Notifications_default, {}) }),
            /* @__PURE__ */ jsxs("box", { cssClasses: ["QuickSettingRow"], spacing: 10, children: [
              /* @__PURE__ */ jsx2(ButtonSmall_default, { icon: "\u{F0080}" }),
              /* @__PURE__ */ jsx2(ButtonSmall_default, { icon: "\u{F04C3}" }),
              /* @__PURE__ */ jsx2(ButtonSmall_default, { icon: "\u{F18F4}" })
            ] })
          ]
        }
      )
    }
  );
};
var QuickSettingInit = ({ gdkmonitor }) => {
  const w = QuickSetting({
    gdkmonitor
    // visible: gdkmonitor.manufacturer === "HKC OVERSEAS LIMITED",
  });
  app_default.connect("window-toggled", (_source, window) => {
    if (window.get_name() === `QuickSetting-${gdkmonitor.manufacturer}`) {
    }
  });
  return w;
};
var QuickSetting_default = QuickSettingInit;

// app.tsx
import AstalHyprland6 from "gi://AstalHyprland?version=0.1";
import AstalTray2 from "gi://AstalTray?version=0.1";

// widgets/Osd/Volume.tsx
import AstalWp2 from "gi://AstalWp?version=0.1";
import AstalHyprland5 from "gi://AstalHyprland?version=0.1";
var speaker = AstalWp2.get_default().get_default_speaker();
var hyprland5 = AstalHyprland5.get_default();
var VolumeComponent = ({ gdkmonitor, name }) => {
  const visible = Variable(false);
  const iconName = Variable("");
  const value = Variable(0);
  let firstTime = true;
  let tick = 0;
  let hideWindowTimeout;
  function show(v, icon) {
    if (hideWindowTimeout) {
      hideWindowTimeout.cancel();
      hideWindowTimeout = void 0;
    }
    if (firstTime) {
      firstTime = false;
      return;
    }
    const window = app_default.get_window(name);
    window?.show();
    visible.set(true);
    value.set(v);
    iconName.set(icon);
    tick++;
    timeout(1e3, () => {
      tick--;
      if (tick === 0) {
        visible.set(false);
        hideWindowTimeout = timeout(100, () => {
          window?.hide();
        });
      }
    });
  }
  return /* @__PURE__ */ jsx2(
    "window",
    {
      name,
      application: app_default,
      cssClasses: ["Volume"],
      gdkmonitor,
      anchor: Astal6.WindowAnchor.TOP,
      layer: Astal6.Layer.OVERLAY,
      exclusivity: Astal6.Exclusivity.IGNORE,
      visible: false,
      setup: (self) => {
        self.set_default_size(1, 1);
      },
      children: /* @__PURE__ */ jsx2(
        "box",
        {
          cssClasses: ["Container"],
          setup: (self) => {
            speaker?.connect("notify::volume", () => {
              const focusedMon = hyprland5.get_focused_monitor();
              if (focusedMon.name !== gdkmonitor.connector) {
                return;
              }
              show(speaker.volume, speaker.volumeIcon);
            });
          },
          children: /* @__PURE__ */ jsx2(
            "button",
            {
              cssClasses: ["Button"],
              onClicked: () => {
                visible.set(false);
              },
              valign: Gtk4.Align.CENTER,
              halign: Gtk4.Align.CENTER,
              children: /* @__PURE__ */ jsxs("box", { spacing: 10, children: [
                /* @__PURE__ */ jsx2("image", { iconName: iconName() }),
                /* @__PURE__ */ jsx2(
                  "levelbar",
                  {
                    valign: Gtk4.Align.CENTER,
                    widthRequest: 100,
                    value: value()
                  }
                ),
                /* @__PURE__ */ jsx2(
                  "label",
                  {
                    label: value((v) => `${Math.floor(v * 100)}%`)
                  }
                )
              ] })
            }
          )
        }
      )
    }
  );
};
var Volume = ({ gdkmonitor }) => {
  const name = `Volume-${gdkmonitor.connector}`;
  const w = VolumeComponent({
    gdkmonitor,
    name
  });
  app_default.connect("window-toggled", (_source, window) => {
    if (window.get_name() === name) {
    }
  });
  return w;
};
var Volume_default = Volume;

// widgets/Notification/NotificationItem.tsx
import AstalNotifd4 from "gi://AstalNotifd?version=0.1";
var notifd2 = AstalNotifd4.get_default();
var NotificationItem2 = ({ timer }) => {
  const notification = notifd2.get_notification(timer.id);
  if (!notification) {
    return null;
  }
  return /* @__PURE__ */ jsxs(
    "box",
    {
      cssClasses: ["NotificationItem"],
      vertical: true,
      setup: (self) => {
        self.set_css_classes([
          "NotificationItem",
          notification.urgency === AstalNotifd4.Urgency.CRITICAL ? "Critical" : ""
        ]);
      },
      onHoverEnter: () => {
        timer.stop();
      },
      onHoverLeave: () => {
        timer.start();
      },
      spacing: 5,
      vexpand: false,
      children: [
        /* @__PURE__ */ jsx2(Header_default, { notification }),
        /* @__PURE__ */ jsx2(Body_default, { notification }),
        /* @__PURE__ */ jsx2(Footer_default, { notification })
      ]
    }
  );
};
var NotificationItem_default2 = NotificationItem2;

// widgets/Notification/NotificationPopup.tsx
var manager2 = new Manager_default();
var NotificationPopup = ({ gdkmonitor }) => {
  const name = `Notification-${gdkmonitor.connector}`;
  const { TOP, RIGHT } = Astal6.WindowAnchor;
  return /* @__PURE__ */ jsx2(
    "window",
    {
      name,
      namespace: "NotificationPopup",
      application: app_default,
      cssClasses: ["NotificationPopup"],
      gdkmonitor,
      layer: Astal6.Layer.TOP,
      anchor: TOP | RIGHT,
      visible: true,
      setup: (self) => {
        self.set_default_size(1, 1);
        manager2.subscribe((entry) => {
          if (entry && entry.actives && entry.actives.length > 0) {
            self.show();
          } else {
            self.hide();
          }
        });
      },
      children: /* @__PURE__ */ jsx2(
        "box",
        {
          cssClasses: ["Container"],
          vertical: true,
          spacing: 10,
          valign: Gtk4.Align.START,
          children: bind(manager2).as((entry) => {
            return [...entry.actives].map((timer) => /* @__PURE__ */ jsx2(NotificationItem_default2, { timer }));
          })
        }
      )
    }
  );
};
var NotificationPopup_default = NotificationPopup;

// app.tsx
function initMonitor(gdkmonitor) {
  return [
    NotificationPopup_default({ gdkmonitor }),
    Volume_default({ gdkmonitor }),
    Bar_default({ gdkmonitor }),
    QuickSetting_default({ gdkmonitor })
  ];
}
var hyprland6 = AstalHyprland6.get_default();
var windows = /* @__PURE__ */ new Map();
var hyprMonitors = /* @__PURE__ */ new Map();
function onMonitorAdded(_source, monitor) {
  hyprMonitors.set(monitor.id, monitor);
  const gdkmonitor = app_default.get_monitors().find(
    (m) => m.connector === monitor.name
  );
  if (gdkmonitor) {
    windows.set(gdkmonitor, initMonitor(gdkmonitor));
  }
}
function onMonitorRemoved(_source, id) {
  const monitor = hyprMonitors.get(id);
  if (!monitor) {
    return;
  }
  const gdkmonitor = app_default.get_monitors().find(
    (m) => m.connector === monitor.name
  );
  if (gdkmonitor) {
    const windowsToRemove = windows.get(gdkmonitor);
    if (windowsToRemove) {
      windowsToRemove.forEach((window) => window.destroy());
      windows.delete(gdkmonitor);
    }
  }
  hyprMonitors.delete(id);
}
function reinit() {
  windows.forEach((winList, gdkmonitor) => {
    winList.forEach((window) => window.destroy());
    windows.delete(gdkmonitor);
  });
  hyprland6.get_monitors().forEach((monitor) => {
    const gdkmonitor = app_default.get_monitors().find(
      (m) => m.connector === monitor.name
    );
    if (gdkmonitor) {
      windows.set(gdkmonitor, initMonitor(gdkmonitor));
    }
  });
}
app_default.start({
  instanceName: "Ass",
  css: styles_default,
  main() {
    hyprland6.get_monitors().forEach((monitor) => {
      hyprMonitors.set(monitor.id, monitor);
      const gdkmonitor = app_default.get_monitors().find(
        (m) => m.connector === monitor.name
      );
      if (gdkmonitor) {
        windows.set(gdkmonitor, initMonitor(gdkmonitor));
      }
    });
    hyprland6.connect("monitor-added", onMonitorAdded);
    hyprland6.connect("monitor-removed", onMonitorRemoved);
    hyprland6.connect("submap", (_source, name) => {
      if (name === "resize") {
        execAsync("notify-send -t 1000 'Resize mode activated'");
      } else if (name === "") {
        execAsync("notify-send -t 1000 'Back to normal mode'");
      }
    });
  },
  requestHandler(request, res) {
    if (request == "say hi") {
      return res("Hello from Astaltes!");
    }
    if (request === "tray") {
      const tray = AstalTray2.get_default();
      const items = tray.get_items();
      if (items.length === 0) {
        return res("No tray items found");
      }
      const titles = items.map((item) => item.title).join(", ");
      const tooltips = items.map((item) => item.tooltipMarkup).join(", ");
      const iconNames = items.map((item) => item.iconName).join(", ");
      const iconPaths = items.map((item) => item.iconThemePath).join(", ");
      const jsons = items.map((item) => item.to_json_string()).join(",");
      return res(`Tray items: ${titles}
                
Tooltips: ${tooltips}
                
Icons: ${iconNames}
                
Icon Paths: ${iconPaths}
                
JSONs: [${jsons}]`);
    }
    if (request == "reinit") {
      reinit();
      return res("Reinitialized monitors");
    }
    if (request.includes("rmmonitor")) {
      const id = parseInt(request.split("rmmonitor")[1].trim(), 10);
      if (isNaN(id)) {
        return res("Invalid monitor ID");
      }
      onMonitorRemoved(hyprland6, id);
      return res("Monitor removed");
    }
    if (request.includes("addmonitor")) {
      const id = parseInt(request.split("addmonitor")[1].trim(), 10);
      if (isNaN(id)) {
        return res("Invalid monitor ID");
      }
      const monitor = hyprland6.get_monitor(id);
      if (monitor) {
        onMonitorAdded(hyprland6, monitor);
        return res("Monitor added");
      }
      return res("No monitor to add");
    }
    res("Unknown request");
  }
});
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vLi4vLi4vdXNyL3NoYXJlL2FzdGFsL2dqcy9ndGs0L2luZGV4LnRzIiwgIi4uLy4uLy4uLy4uLy4uL3Vzci9zaGFyZS9hc3RhbC9nanMvdmFyaWFibGUudHMiLCAiLi4vLi4vLi4vLi4vLi4vdXNyL3NoYXJlL2FzdGFsL2dqcy9iaW5kaW5nLnRzIiwgIi4uLy4uLy4uLy4uLy4uL3Vzci9zaGFyZS9hc3RhbC9nanMvdGltZS50cyIsICIuLi8uLi8uLi8uLi8uLi91c3Ivc2hhcmUvYXN0YWwvZ2pzL3Byb2Nlc3MudHMiLCAiLi4vLi4vLi4vLi4vLi4vdXNyL3NoYXJlL2FzdGFsL2dqcy9fYXN0YWwudHMiLCAiLi4vLi4vLi4vLi4vLi4vdXNyL3NoYXJlL2FzdGFsL2dqcy9ndGs0L2FzdGFsaWZ5LnRzIiwgIi4uLy4uLy4uLy4uLy4uL3Vzci9zaGFyZS9hc3RhbC9nanMvZ3RrNC9hcHAudHMiLCAiLi4vLi4vLi4vLi4vLi4vdXNyL3NoYXJlL2FzdGFsL2dqcy9vdmVycmlkZXMudHMiLCAiLi4vLi4vLi4vLi4vLi4vdXNyL3NoYXJlL2FzdGFsL2dqcy9fYXBwLnRzIiwgIi4uLy4uLy4uLy4uLy4uL3Vzci9zaGFyZS9hc3RhbC9nanMvZ3RrNC93aWRnZXQudHMiLCAic2FzczovaG9tZS9nZWdlaC9Eb2N1bWVudHMvYXN0YWwtdGVzdC9zdHlsZXMvc3R5bGVzLnNjc3MiLCAiLi4vbWlzYy9jdXJzb3IudHMiLCAiLi4vLi4vLi4vLi4vLi4vdXNyL3NoYXJlL2FzdGFsL2dqcy9pbmRleC50cyIsICIuLi8uLi8uLi8uLi8uLi91c3Ivc2hhcmUvYXN0YWwvZ2pzL2ZpbGUudHMiLCAiLi4vLi4vLi4vLi4vLi4vdXNyL3NoYXJlL2FzdGFsL2dqcy9nb2JqZWN0LnRzIiwgIi4uLy4uLy4uLy4uLy4uL3Vzci9zaGFyZS9hc3RhbC9nanMvZ3RrNC9qc3gtcnVudGltZS50cyIsICIuLi93aWRnZXRzL0Jhci9Nb2R1bGVzL0xhdW5jaGVyLnRzeCIsICIuLi93aWRnZXRzL0Jhci9Nb2R1bGVzL1dvcmtzcGFjZXMudHN4IiwgIi4uL3dpZGdldHMvQmFyL01vZHVsZXMvRm9jdXNlZENsaWVudC50c3giLCAiLi4vd2lkZ2V0cy9CYXIvU3RhcnQudHN4IiwgIi4uL3dpZGdldHMvQmFyL01vZHVsZXMvVHJheS50c3giLCAiLi4vbGliL3V0aWxzLnRzIiwgIi4uL3dpZGdldHMvQmFyL01vZHVsZXMvTWVkaWEudHN4IiwgIi4uL3dpZGdldHMvQmFyL0NlbnRlci50c3giLCAiLi4vd2lkZ2V0cy9CYXIvTW9kdWxlcy9UaW1lLnRzeCIsICIuLi93aWRnZXRzL0Jhci9Nb2R1bGVzL05ldHdvcmsudHN4IiwgIi4uL2xpYi9uZXR3b3Jrc3BlZWQudHMiLCAiLi4vd2lkZ2V0cy9CYXIvRW5kLnRzeCIsICIuLi93aWRnZXRzL0Jhci9CYXIudHN4IiwgIi4uL3dpZGdldHMvY29tbW9ucy9Qb3BvdmVyLnRzeCIsICIuLi93aWRnZXRzL1F1aWNrU2V0dGluZy9CdXR0b24udHN4IiwgIi4uL3dpZGdldHMvUXVpY2tTZXR0aW5nL0J1dHRvblNtYWxsLnRzeCIsICIuLi93aWRnZXRzL1F1aWNrU2V0dGluZy9RdWlja1NldHRpbmcudHN4IiwgIi4uL3NlcnZpY2VzL05vdGlmaWNhdGlvbi9NYW5hZ2VyLnRzIiwgIi4uL3NlcnZpY2VzL05vdGlmaWNhdGlvbi9UaW1lci50cyIsICIuLi93aWRnZXRzL1F1aWNrU2V0dGluZy9Ob3RpZmljYXRpb25JdGVtLnRzeCIsICIuLi93aWRnZXRzL05vdGlmaWNhdGlvbi9IZWFkZXIudHN4IiwgIi4uL3dpZGdldHMvTm90aWZpY2F0aW9uL0JvZHkudHN4IiwgIi4uL3dpZGdldHMvTm90aWZpY2F0aW9uL0Zvb3Rlci50c3giLCAiLi4vd2lkZ2V0cy9RdWlja1NldHRpbmcvTm90aWZpY2F0aW9ucy50c3giLCAiLi4vYXBwLnRzeCIsICIuLi93aWRnZXRzL09zZC9Wb2x1bWUudHN4IiwgIi4uL3dpZGdldHMvTm90aWZpY2F0aW9uL05vdGlmaWNhdGlvbkl0ZW0udHN4IiwgIi4uL3dpZGdldHMvTm90aWZpY2F0aW9uL05vdGlmaWNhdGlvblBvcHVwLnRzeCJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IEFzdGFsIGZyb20gXCJnaTovL0FzdGFsP3ZlcnNpb249NC4wXCJcbmltcG9ydCBHdGsgZnJvbSBcImdpOi8vR3RrP3ZlcnNpb249NC4wXCJcbmltcG9ydCBHZGsgZnJvbSBcImdpOi8vR2RrP3ZlcnNpb249NC4wXCJcbmltcG9ydCBhc3RhbGlmeSwgeyB0eXBlIENvbnN0cnVjdFByb3BzIH0gZnJvbSBcIi4vYXN0YWxpZnkuanNcIlxuXG5leHBvcnQgeyBBc3RhbCwgR3RrLCBHZGsgfVxuZXhwb3J0IHsgZGVmYXVsdCBhcyBBcHAgfSBmcm9tIFwiLi9hcHAuanNcIlxuZXhwb3J0IHsgYXN0YWxpZnksIENvbnN0cnVjdFByb3BzIH1cbmV4cG9ydCAqIGFzIFdpZGdldCBmcm9tIFwiLi93aWRnZXQuanNcIlxuZXhwb3J0IHsgaG9vayB9IGZyb20gXCIuLi9fYXN0YWxcIlxuIiwgImltcG9ydCBBc3RhbCBmcm9tIFwiZ2k6Ly9Bc3RhbElPXCJcbmltcG9ydCBCaW5kaW5nLCB7IHR5cGUgQ29ubmVjdGFibGUsIHR5cGUgU3Vic2NyaWJhYmxlIH0gZnJvbSBcIi4vYmluZGluZy5qc1wiXG5pbXBvcnQgeyBpbnRlcnZhbCB9IGZyb20gXCIuL3RpbWUuanNcIlxuaW1wb3J0IHsgZXhlY0FzeW5jLCBzdWJwcm9jZXNzIH0gZnJvbSBcIi4vcHJvY2Vzcy5qc1wiXG5cbmNsYXNzIFZhcmlhYmxlV3JhcHBlcjxUPiBleHRlbmRzIEZ1bmN0aW9uIHtcbiAgICBwcml2YXRlIHZhcmlhYmxlITogQXN0YWwuVmFyaWFibGVCYXNlXG4gICAgcHJpdmF0ZSBlcnJIYW5kbGVyPyA9IGNvbnNvbGUuZXJyb3JcblxuICAgIHByaXZhdGUgX3ZhbHVlOiBUXG4gICAgcHJpdmF0ZSBfcG9sbD86IEFzdGFsLlRpbWVcbiAgICBwcml2YXRlIF93YXRjaD86IEFzdGFsLlByb2Nlc3NcblxuICAgIHByaXZhdGUgcG9sbEludGVydmFsID0gMTAwMFxuICAgIHByaXZhdGUgcG9sbEV4ZWM/OiBzdHJpbmdbXSB8IHN0cmluZ1xuICAgIHByaXZhdGUgcG9sbFRyYW5zZm9ybT86IChzdGRvdXQ6IHN0cmluZywgcHJldjogVCkgPT4gVFxuICAgIHByaXZhdGUgcG9sbEZuPzogKHByZXY6IFQpID0+IFQgfCBQcm9taXNlPFQ+XG5cbiAgICBwcml2YXRlIHdhdGNoVHJhbnNmb3JtPzogKHN0ZG91dDogc3RyaW5nLCBwcmV2OiBUKSA9PiBUXG4gICAgcHJpdmF0ZSB3YXRjaEV4ZWM/OiBzdHJpbmdbXSB8IHN0cmluZ1xuXG4gICAgY29uc3RydWN0b3IoaW5pdDogVCkge1xuICAgICAgICBzdXBlcigpXG4gICAgICAgIHRoaXMuX3ZhbHVlID0gaW5pdFxuICAgICAgICB0aGlzLnZhcmlhYmxlID0gbmV3IEFzdGFsLlZhcmlhYmxlQmFzZSgpXG4gICAgICAgIHRoaXMudmFyaWFibGUuY29ubmVjdChcImRyb3BwZWRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdG9wV2F0Y2goKVxuICAgICAgICAgICAgdGhpcy5zdG9wUG9sbCgpXG4gICAgICAgIH0pXG4gICAgICAgIHRoaXMudmFyaWFibGUuY29ubmVjdChcImVycm9yXCIsIChfLCBlcnIpID0+IHRoaXMuZXJySGFuZGxlcj8uKGVycikpXG4gICAgICAgIHJldHVybiBuZXcgUHJveHkodGhpcywge1xuICAgICAgICAgICAgYXBwbHk6ICh0YXJnZXQsIF8sIGFyZ3MpID0+IHRhcmdldC5fY2FsbChhcmdzWzBdKSxcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBwcml2YXRlIF9jYWxsPFIgPSBUPih0cmFuc2Zvcm0/OiAodmFsdWU6IFQpID0+IFIpOiBCaW5kaW5nPFI+IHtcbiAgICAgICAgY29uc3QgYiA9IEJpbmRpbmcuYmluZCh0aGlzKVxuICAgICAgICByZXR1cm4gdHJhbnNmb3JtID8gYi5hcyh0cmFuc2Zvcm0pIDogYiBhcyB1bmtub3duIGFzIEJpbmRpbmc8Uj5cbiAgICB9XG5cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZyhgVmFyaWFibGU8JHt0aGlzLmdldCgpfT5gKVxuICAgIH1cblxuICAgIGdldCgpOiBUIHsgcmV0dXJuIHRoaXMuX3ZhbHVlIH1cbiAgICBzZXQodmFsdWU6IFQpIHtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLl92YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSB2YWx1ZVxuICAgICAgICAgICAgdGhpcy52YXJpYWJsZS5lbWl0KFwiY2hhbmdlZFwiKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhcnRQb2xsKCkge1xuICAgICAgICBpZiAodGhpcy5fcG9sbClcbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIGlmICh0aGlzLnBvbGxGbikge1xuICAgICAgICAgICAgdGhpcy5fcG9sbCA9IGludGVydmFsKHRoaXMucG9sbEludGVydmFsLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdiA9IHRoaXMucG9sbEZuISh0aGlzLmdldCgpKVxuICAgICAgICAgICAgICAgIGlmICh2IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICB2LnRoZW4odiA9PiB0aGlzLnNldCh2KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gdGhpcy52YXJpYWJsZS5lbWl0KFwiZXJyb3JcIiwgZXJyKSlcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldCh2KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wb2xsRXhlYykge1xuICAgICAgICAgICAgdGhpcy5fcG9sbCA9IGludGVydmFsKHRoaXMucG9sbEludGVydmFsLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZXhlY0FzeW5jKHRoaXMucG9sbEV4ZWMhKVxuICAgICAgICAgICAgICAgICAgICAudGhlbih2ID0+IHRoaXMuc2V0KHRoaXMucG9sbFRyYW5zZm9ybSEodiwgdGhpcy5nZXQoKSkpKVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHRoaXMudmFyaWFibGUuZW1pdChcImVycm9yXCIsIGVycikpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhcnRXYXRjaCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3dhdGNoKVxuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgdGhpcy5fd2F0Y2ggPSBzdWJwcm9jZXNzKHtcbiAgICAgICAgICAgIGNtZDogdGhpcy53YXRjaEV4ZWMhLFxuICAgICAgICAgICAgb3V0OiBvdXQgPT4gdGhpcy5zZXQodGhpcy53YXRjaFRyYW5zZm9ybSEob3V0LCB0aGlzLmdldCgpKSksXG4gICAgICAgICAgICBlcnI6IGVyciA9PiB0aGlzLnZhcmlhYmxlLmVtaXQoXCJlcnJvclwiLCBlcnIpLFxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHN0b3BQb2xsKCkge1xuICAgICAgICB0aGlzLl9wb2xsPy5jYW5jZWwoKVxuICAgICAgICBkZWxldGUgdGhpcy5fcG9sbFxuICAgIH1cblxuICAgIHN0b3BXYXRjaCgpIHtcbiAgICAgICAgdGhpcy5fd2F0Y2g/LmtpbGwoKVxuICAgICAgICBkZWxldGUgdGhpcy5fd2F0Y2hcbiAgICB9XG5cbiAgICBpc1BvbGxpbmcoKSB7IHJldHVybiAhIXRoaXMuX3BvbGwgfVxuICAgIGlzV2F0Y2hpbmcoKSB7IHJldHVybiAhIXRoaXMuX3dhdGNoIH1cblxuICAgIGRyb3AoKSB7XG4gICAgICAgIHRoaXMudmFyaWFibGUuZW1pdChcImRyb3BwZWRcIilcbiAgICB9XG5cbiAgICBvbkRyb3BwZWQoY2FsbGJhY2s6ICgpID0+IHZvaWQpIHtcbiAgICAgICAgdGhpcy52YXJpYWJsZS5jb25uZWN0KFwiZHJvcHBlZFwiLCBjYWxsYmFjaylcbiAgICAgICAgcmV0dXJuIHRoaXMgYXMgdW5rbm93biBhcyBWYXJpYWJsZTxUPlxuICAgIH1cblxuICAgIG9uRXJyb3IoY2FsbGJhY2s6IChlcnI6IHN0cmluZykgPT4gdm9pZCkge1xuICAgICAgICBkZWxldGUgdGhpcy5lcnJIYW5kbGVyXG4gICAgICAgIHRoaXMudmFyaWFibGUuY29ubmVjdChcImVycm9yXCIsIChfLCBlcnIpID0+IGNhbGxiYWNrKGVycikpXG4gICAgICAgIHJldHVybiB0aGlzIGFzIHVua25vd24gYXMgVmFyaWFibGU8VD5cbiAgICB9XG5cbiAgICBzdWJzY3JpYmUoY2FsbGJhY2s6ICh2YWx1ZTogVCkgPT4gdm9pZCkge1xuICAgICAgICBjb25zdCBpZCA9IHRoaXMudmFyaWFibGUuY29ubmVjdChcImNoYW5nZWRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgY2FsbGJhY2sodGhpcy5nZXQoKSlcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuICgpID0+IHRoaXMudmFyaWFibGUuZGlzY29ubmVjdChpZClcbiAgICB9XG5cbiAgICBwb2xsKFxuICAgICAgICBpbnRlcnZhbDogbnVtYmVyLFxuICAgICAgICBleGVjOiBzdHJpbmcgfCBzdHJpbmdbXSxcbiAgICAgICAgdHJhbnNmb3JtPzogKHN0ZG91dDogc3RyaW5nLCBwcmV2OiBUKSA9PiBUXG4gICAgKTogVmFyaWFibGU8VD5cblxuICAgIHBvbGwoXG4gICAgICAgIGludGVydmFsOiBudW1iZXIsXG4gICAgICAgIGNhbGxiYWNrOiAocHJldjogVCkgPT4gVCB8IFByb21pc2U8VD5cbiAgICApOiBWYXJpYWJsZTxUPlxuXG4gICAgcG9sbChcbiAgICAgICAgaW50ZXJ2YWw6IG51bWJlcixcbiAgICAgICAgZXhlYzogc3RyaW5nIHwgc3RyaW5nW10gfCAoKHByZXY6IFQpID0+IFQgfCBQcm9taXNlPFQ+KSxcbiAgICAgICAgdHJhbnNmb3JtOiAoc3Rkb3V0OiBzdHJpbmcsIHByZXY6IFQpID0+IFQgPSBvdXQgPT4gb3V0IGFzIFQsXG4gICAgKSB7XG4gICAgICAgIHRoaXMuc3RvcFBvbGwoKVxuICAgICAgICB0aGlzLnBvbGxJbnRlcnZhbCA9IGludGVydmFsXG4gICAgICAgIHRoaXMucG9sbFRyYW5zZm9ybSA9IHRyYW5zZm9ybVxuICAgICAgICBpZiAodHlwZW9mIGV4ZWMgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGhpcy5wb2xsRm4gPSBleGVjXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5wb2xsRXhlY1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wb2xsRXhlYyA9IGV4ZWNcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnBvbGxGblxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhcnRQb2xsKClcbiAgICAgICAgcmV0dXJuIHRoaXMgYXMgdW5rbm93biBhcyBWYXJpYWJsZTxUPlxuICAgIH1cblxuICAgIHdhdGNoKFxuICAgICAgICBleGVjOiBzdHJpbmcgfCBzdHJpbmdbXSxcbiAgICAgICAgdHJhbnNmb3JtOiAoc3Rkb3V0OiBzdHJpbmcsIHByZXY6IFQpID0+IFQgPSBvdXQgPT4gb3V0IGFzIFQsXG4gICAgKSB7XG4gICAgICAgIHRoaXMuc3RvcFdhdGNoKClcbiAgICAgICAgdGhpcy53YXRjaEV4ZWMgPSBleGVjXG4gICAgICAgIHRoaXMud2F0Y2hUcmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbiAgICAgICAgdGhpcy5zdGFydFdhdGNoKClcbiAgICAgICAgcmV0dXJuIHRoaXMgYXMgdW5rbm93biBhcyBWYXJpYWJsZTxUPlxuICAgIH1cblxuICAgIG9ic2VydmUoXG4gICAgICAgIG9ianM6IEFycmF5PFtvYmo6IENvbm5lY3RhYmxlLCBzaWduYWw6IHN0cmluZ10+LFxuICAgICAgICBjYWxsYmFjazogKC4uLmFyZ3M6IGFueVtdKSA9PiBULFxuICAgICk6IFZhcmlhYmxlPFQ+XG5cbiAgICBvYnNlcnZlKFxuICAgICAgICBvYmo6IENvbm5lY3RhYmxlLFxuICAgICAgICBzaWduYWw6IHN0cmluZyxcbiAgICAgICAgY2FsbGJhY2s6ICguLi5hcmdzOiBhbnlbXSkgPT4gVCxcbiAgICApOiBWYXJpYWJsZTxUPlxuXG4gICAgb2JzZXJ2ZShcbiAgICAgICAgb2JqczogQ29ubmVjdGFibGUgfCBBcnJheTxbb2JqOiBDb25uZWN0YWJsZSwgc2lnbmFsOiBzdHJpbmddPixcbiAgICAgICAgc2lnT3JGbjogc3RyaW5nIHwgKChvYmo6IENvbm5lY3RhYmxlLCAuLi5hcmdzOiBhbnlbXSkgPT4gVCksXG4gICAgICAgIGNhbGxiYWNrPzogKG9iajogQ29ubmVjdGFibGUsIC4uLmFyZ3M6IGFueVtdKSA9PiBULFxuICAgICkge1xuICAgICAgICBjb25zdCBmID0gdHlwZW9mIHNpZ09yRm4gPT09IFwiZnVuY3Rpb25cIiA/IHNpZ09yRm4gOiBjYWxsYmFjayA/PyAoKCkgPT4gdGhpcy5nZXQoKSlcbiAgICAgICAgY29uc3Qgc2V0ID0gKG9iajogQ29ubmVjdGFibGUsIC4uLmFyZ3M6IGFueVtdKSA9PiB0aGlzLnNldChmKG9iaiwgLi4uYXJncykpXG5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqcykpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgb2JqIG9mIG9ianMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBbbywgc10gPSBvYmpcbiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IG8uY29ubmVjdChzLCBzZXQpXG4gICAgICAgICAgICAgICAgdGhpcy5vbkRyb3BwZWQoKCkgPT4gby5kaXNjb25uZWN0KGlkKSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2lnT3JGbiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gb2Jqcy5jb25uZWN0KHNpZ09yRm4sIHNldClcbiAgICAgICAgICAgICAgICB0aGlzLm9uRHJvcHBlZCgoKSA9PiBvYmpzLmRpc2Nvbm5lY3QoaWQpKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMgYXMgdW5rbm93biBhcyBWYXJpYWJsZTxUPlxuICAgIH1cblxuICAgIHN0YXRpYyBkZXJpdmU8XG4gICAgICAgIGNvbnN0IERlcHMgZXh0ZW5kcyBBcnJheTxTdWJzY3JpYmFibGU8YW55Pj4sXG4gICAgICAgIEFyZ3MgZXh0ZW5kcyB7XG4gICAgICAgICAgICBbSyBpbiBrZXlvZiBEZXBzXTogRGVwc1tLXSBleHRlbmRzIFN1YnNjcmliYWJsZTxpbmZlciBUPiA/IFQgOiBuZXZlclxuICAgICAgICB9LFxuICAgICAgICBWID0gQXJncyxcbiAgICA+KGRlcHM6IERlcHMsIGZuOiAoLi4uYXJnczogQXJncykgPT4gViA9ICguLi5hcmdzKSA9PiBhcmdzIGFzIHVua25vd24gYXMgVikge1xuICAgICAgICBjb25zdCB1cGRhdGUgPSAoKSA9PiBmbiguLi5kZXBzLm1hcChkID0+IGQuZ2V0KCkpIGFzIEFyZ3MpXG4gICAgICAgIGNvbnN0IGRlcml2ZWQgPSBuZXcgVmFyaWFibGUodXBkYXRlKCkpXG4gICAgICAgIGNvbnN0IHVuc3VicyA9IGRlcHMubWFwKGRlcCA9PiBkZXAuc3Vic2NyaWJlKCgpID0+IGRlcml2ZWQuc2V0KHVwZGF0ZSgpKSkpXG4gICAgICAgIGRlcml2ZWQub25Ecm9wcGVkKCgpID0+IHVuc3Vicy5tYXAodW5zdWIgPT4gdW5zdWIoKSkpXG4gICAgICAgIHJldHVybiBkZXJpdmVkXG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZhcmlhYmxlPFQ+IGV4dGVuZHMgT21pdDxWYXJpYWJsZVdyYXBwZXI8VD4sIFwiYmluZFwiPiB7XG4gICAgPFI+KHRyYW5zZm9ybTogKHZhbHVlOiBUKSA9PiBSKTogQmluZGluZzxSPlxuICAgICgpOiBCaW5kaW5nPFQ+XG59XG5cbmV4cG9ydCBjb25zdCBWYXJpYWJsZSA9IG5ldyBQcm94eShWYXJpYWJsZVdyYXBwZXIgYXMgYW55LCB7XG4gICAgYXBwbHk6IChfdCwgX2EsIGFyZ3MpID0+IG5ldyBWYXJpYWJsZVdyYXBwZXIoYXJnc1swXSksXG59KSBhcyB7XG4gICAgZGVyaXZlOiB0eXBlb2YgVmFyaWFibGVXcmFwcGVyW1wiZGVyaXZlXCJdXG4gICAgPFQ+KGluaXQ6IFQpOiBWYXJpYWJsZTxUPlxuICAgIG5ldzxUPihpbml0OiBUKTogVmFyaWFibGU8VD5cbn1cblxuZXhwb3J0IGNvbnN0IHsgZGVyaXZlIH0gPSBWYXJpYWJsZVxuZXhwb3J0IGRlZmF1bHQgVmFyaWFibGVcbiIsICJleHBvcnQgY29uc3Qgc25ha2VpZnkgPSAoc3RyOiBzdHJpbmcpID0+IHN0clxuICAgIC5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCBcIiQxXyQyXCIpXG4gICAgLnJlcGxhY2VBbGwoXCItXCIsIFwiX1wiKVxuICAgIC50b0xvd2VyQ2FzZSgpXG5cbmV4cG9ydCBjb25zdCBrZWJhYmlmeSA9IChzdHI6IHN0cmluZykgPT4gc3RyXG4gICAgLnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pL2csIFwiJDEtJDJcIilcbiAgICAucmVwbGFjZUFsbChcIl9cIiwgXCItXCIpXG4gICAgLnRvTG93ZXJDYXNlKClcblxuZXhwb3J0IGludGVyZmFjZSBTdWJzY3JpYmFibGU8VCA9IHVua25vd24+IHtcbiAgICBzdWJzY3JpYmUoY2FsbGJhY2s6ICh2YWx1ZTogVCkgPT4gdm9pZCk6ICgpID0+IHZvaWRcbiAgICBnZXQoKTogVFxuICAgIFtrZXk6IHN0cmluZ106IGFueVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbm5lY3RhYmxlIHtcbiAgICBjb25uZWN0KHNpZ25hbDogc3RyaW5nLCBjYWxsYmFjazogKC4uLmFyZ3M6IGFueVtdKSA9PiB1bmtub3duKTogbnVtYmVyXG4gICAgZGlzY29ubmVjdChpZDogbnVtYmVyKTogdm9pZFxuICAgIFtrZXk6IHN0cmluZ106IGFueVxufVxuXG5leHBvcnQgY2xhc3MgQmluZGluZzxWYWx1ZT4ge1xuICAgIHByaXZhdGUgdHJhbnNmb3JtRm4gPSAodjogYW55KSA9PiB2XG5cbiAgICAjZW1pdHRlcjogU3Vic2NyaWJhYmxlPFZhbHVlPiB8IENvbm5lY3RhYmxlXG4gICAgI3Byb3A/OiBzdHJpbmdcblxuICAgIHN0YXRpYyBiaW5kPFxuICAgICAgICBUIGV4dGVuZHMgQ29ubmVjdGFibGUsXG4gICAgICAgIFAgZXh0ZW5kcyBrZXlvZiBULFxuICAgID4ob2JqZWN0OiBULCBwcm9wZXJ0eTogUCk6IEJpbmRpbmc8VFtQXT5cblxuICAgIHN0YXRpYyBiaW5kPFQ+KG9iamVjdDogU3Vic2NyaWJhYmxlPFQ+KTogQmluZGluZzxUPlxuXG4gICAgc3RhdGljIGJpbmQoZW1pdHRlcjogQ29ubmVjdGFibGUgfCBTdWJzY3JpYmFibGUsIHByb3A/OiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCaW5kaW5nKGVtaXR0ZXIsIHByb3ApXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihlbWl0dGVyOiBDb25uZWN0YWJsZSB8IFN1YnNjcmliYWJsZTxWYWx1ZT4sIHByb3A/OiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy4jZW1pdHRlciA9IGVtaXR0ZXJcbiAgICAgICAgdGhpcy4jcHJvcCA9IHByb3AgJiYga2ViYWJpZnkocHJvcClcbiAgICB9XG5cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGBCaW5kaW5nPCR7dGhpcy4jZW1pdHRlcn0ke3RoaXMuI3Byb3AgPyBgLCBcIiR7dGhpcy4jcHJvcH1cImAgOiBcIlwifT5gXG4gICAgfVxuXG4gICAgYXM8VD4oZm46ICh2OiBWYWx1ZSkgPT4gVCk6IEJpbmRpbmc8VD4ge1xuICAgICAgICBjb25zdCBiaW5kID0gbmV3IEJpbmRpbmcodGhpcy4jZW1pdHRlciwgdGhpcy4jcHJvcClcbiAgICAgICAgYmluZC50cmFuc2Zvcm1GbiA9ICh2OiBWYWx1ZSkgPT4gZm4odGhpcy50cmFuc2Zvcm1Gbih2KSlcbiAgICAgICAgcmV0dXJuIGJpbmQgYXMgdW5rbm93biBhcyBCaW5kaW5nPFQ+XG4gICAgfVxuXG4gICAgZ2V0KCk6IFZhbHVlIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLiNlbWl0dGVyLmdldCA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtRm4odGhpcy4jZW1pdHRlci5nZXQoKSlcblxuICAgICAgICBpZiAodHlwZW9mIHRoaXMuI3Byb3AgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGdldHRlciA9IGBnZXRfJHtzbmFrZWlmeSh0aGlzLiNwcm9wKX1gXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuI2VtaXR0ZXJbZ2V0dGVyXSA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybUZuKHRoaXMuI2VtaXR0ZXJbZ2V0dGVyXSgpKVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm1Gbih0aGlzLiNlbWl0dGVyW3RoaXMuI3Byb3BdKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgRXJyb3IoXCJjYW4gbm90IGdldCB2YWx1ZSBvZiBiaW5kaW5nXCIpXG4gICAgfVxuXG4gICAgc3Vic2NyaWJlKGNhbGxiYWNrOiAodmFsdWU6IFZhbHVlKSA9PiB2b2lkKTogKCkgPT4gdm9pZCB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy4jZW1pdHRlci5zdWJzY3JpYmUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuI2VtaXR0ZXIuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayh0aGlzLmdldCgpKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhpcy4jZW1pdHRlci5jb25uZWN0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHNpZ25hbCA9IGBub3RpZnk6OiR7dGhpcy4jcHJvcH1gXG4gICAgICAgICAgICBjb25zdCBpZCA9IHRoaXMuI2VtaXR0ZXIuY29ubmVjdChzaWduYWwsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayh0aGlzLmdldCgpKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgKHRoaXMuI2VtaXR0ZXIuZGlzY29ubmVjdCBhcyBDb25uZWN0YWJsZVtcImRpc2Nvbm5lY3RcIl0pKGlkKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRocm93IEVycm9yKGAke3RoaXMuI2VtaXR0ZXJ9IGlzIG5vdCBiaW5kYWJsZWApXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgeyBiaW5kIH0gPSBCaW5kaW5nXG5leHBvcnQgZGVmYXVsdCBCaW5kaW5nXG4iLCAiaW1wb3J0IEFzdGFsIGZyb20gXCJnaTovL0FzdGFsSU9cIlxuXG5leHBvcnQgdHlwZSBUaW1lID0gQXN0YWwuVGltZVxuZXhwb3J0IGNvbnN0IFRpbWUgPSBBc3RhbC5UaW1lXG5cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnZhbChpbnRlcnZhbDogbnVtYmVyLCBjYWxsYmFjaz86ICgpID0+IHZvaWQpIHtcbiAgICByZXR1cm4gQXN0YWwuVGltZS5pbnRlcnZhbChpbnRlcnZhbCwgKCkgPT4gdm9pZCBjYWxsYmFjaz8uKCkpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0aW1lb3V0KHRpbWVvdXQ6IG51bWJlciwgY2FsbGJhY2s/OiAoKSA9PiB2b2lkKSB7XG4gICAgcmV0dXJuIEFzdGFsLlRpbWUudGltZW91dCh0aW1lb3V0LCAoKSA9PiB2b2lkIGNhbGxiYWNrPy4oKSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlkbGUoY2FsbGJhY2s/OiAoKSA9PiB2b2lkKSB7XG4gICAgcmV0dXJuIEFzdGFsLlRpbWUuaWRsZSgoKSA9PiB2b2lkIGNhbGxiYWNrPy4oKSlcbn1cbiIsICJpbXBvcnQgQXN0YWwgZnJvbSBcImdpOi8vQXN0YWxJT1wiXG5cbnR5cGUgQXJncyA9IHtcbiAgICBjbWQ6IHN0cmluZyB8IHN0cmluZ1tdXG4gICAgb3V0PzogKHN0ZG91dDogc3RyaW5nKSA9PiB2b2lkXG4gICAgZXJyPzogKHN0ZGVycjogc3RyaW5nKSA9PiB2b2lkXG59XG5cbmV4cG9ydCB0eXBlIFByb2Nlc3MgPSBBc3RhbC5Qcm9jZXNzXG5leHBvcnQgY29uc3QgUHJvY2VzcyA9IEFzdGFsLlByb2Nlc3NcblxuZXhwb3J0IGZ1bmN0aW9uIHN1YnByb2Nlc3MoYXJnczogQXJncyk6IEFzdGFsLlByb2Nlc3NcblxuZXhwb3J0IGZ1bmN0aW9uIHN1YnByb2Nlc3MoXG4gICAgY21kOiBzdHJpbmcgfCBzdHJpbmdbXSxcbiAgICBvbk91dD86IChzdGRvdXQ6IHN0cmluZykgPT4gdm9pZCxcbiAgICBvbkVycj86IChzdGRlcnI6IHN0cmluZykgPT4gdm9pZCxcbik6IEFzdGFsLlByb2Nlc3NcblxuZXhwb3J0IGZ1bmN0aW9uIHN1YnByb2Nlc3MoXG4gICAgYXJnc09yQ21kOiBBcmdzIHwgc3RyaW5nIHwgc3RyaW5nW10sXG4gICAgb25PdXQ6IChzdGRvdXQ6IHN0cmluZykgPT4gdm9pZCA9IHByaW50LFxuICAgIG9uRXJyOiAoc3RkZXJyOiBzdHJpbmcpID0+IHZvaWQgPSBwcmludGVycixcbikge1xuICAgIGNvbnN0IGFyZ3MgPSBBcnJheS5pc0FycmF5KGFyZ3NPckNtZCkgfHwgdHlwZW9mIGFyZ3NPckNtZCA9PT0gXCJzdHJpbmdcIlxuICAgIGNvbnN0IHsgY21kLCBlcnIsIG91dCB9ID0ge1xuICAgICAgICBjbWQ6IGFyZ3MgPyBhcmdzT3JDbWQgOiBhcmdzT3JDbWQuY21kLFxuICAgICAgICBlcnI6IGFyZ3MgPyBvbkVyciA6IGFyZ3NPckNtZC5lcnIgfHwgb25FcnIsXG4gICAgICAgIG91dDogYXJncyA/IG9uT3V0IDogYXJnc09yQ21kLm91dCB8fCBvbk91dCxcbiAgICB9XG5cbiAgICBjb25zdCBwcm9jID0gQXJyYXkuaXNBcnJheShjbWQpXG4gICAgICAgID8gQXN0YWwuUHJvY2Vzcy5zdWJwcm9jZXNzdihjbWQpXG4gICAgICAgIDogQXN0YWwuUHJvY2Vzcy5zdWJwcm9jZXNzKGNtZClcblxuICAgIHByb2MuY29ubmVjdChcInN0ZG91dFwiLCAoXywgc3Rkb3V0OiBzdHJpbmcpID0+IG91dChzdGRvdXQpKVxuICAgIHByb2MuY29ubmVjdChcInN0ZGVyclwiLCAoXywgc3RkZXJyOiBzdHJpbmcpID0+IGVycihzdGRlcnIpKVxuICAgIHJldHVybiBwcm9jXG59XG5cbi8qKiBAdGhyb3dzIHtHTGliLkVycm9yfSBUaHJvd3Mgc3RkZXJyICovXG5leHBvcnQgZnVuY3Rpb24gZXhlYyhjbWQ6IHN0cmluZyB8IHN0cmluZ1tdKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoY21kKVxuICAgICAgICA/IEFzdGFsLlByb2Nlc3MuZXhlY3YoY21kKVxuICAgICAgICA6IEFzdGFsLlByb2Nlc3MuZXhlYyhjbWQpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleGVjQXN5bmMoY21kOiBzdHJpbmcgfCBzdHJpbmdbXSk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY21kKSkge1xuICAgICAgICAgICAgQXN0YWwuUHJvY2Vzcy5leGVjX2FzeW5jdihjbWQsIChfLCByZXMpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKEFzdGFsLlByb2Nlc3MuZXhlY19hc3luY3ZfZmluaXNoKHJlcykpXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBBc3RhbC5Qcm9jZXNzLmV4ZWNfYXN5bmMoY21kLCAoXywgcmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShBc3RhbC5Qcm9jZXNzLmV4ZWNfZmluaXNoKHJlcykpXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9KVxufVxuIiwgImltcG9ydCBWYXJpYWJsZSBmcm9tIFwiLi92YXJpYWJsZS5qc1wiXG5pbXBvcnQgeyBleGVjQXN5bmMgfSBmcm9tIFwiLi9wcm9jZXNzLmpzXCJcbmltcG9ydCBCaW5kaW5nLCB7IENvbm5lY3RhYmxlLCBrZWJhYmlmeSwgc25ha2VpZnksIFN1YnNjcmliYWJsZSB9IGZyb20gXCIuL2JpbmRpbmcuanNcIlxuXG5leHBvcnQgY29uc3Qgbm9JbXBsaWNpdERlc3Ryb3kgPSBTeW1ib2woXCJubyBubyBpbXBsaWNpdCBkZXN0cm95XCIpXG5leHBvcnQgY29uc3Qgc2V0Q2hpbGRyZW4gPSBTeW1ib2woXCJjaGlsZHJlbiBzZXR0ZXIgbWV0aG9kXCIpXG5cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZUJpbmRpbmdzKGFycmF5OiBhbnlbXSkge1xuICAgIGZ1bmN0aW9uIGdldFZhbHVlcyguLi5hcmdzOiBhbnlbXSkge1xuICAgICAgICBsZXQgaSA9IDBcbiAgICAgICAgcmV0dXJuIGFycmF5Lm1hcCh2YWx1ZSA9PiB2YWx1ZSBpbnN0YW5jZW9mIEJpbmRpbmdcbiAgICAgICAgICAgID8gYXJnc1tpKytdXG4gICAgICAgICAgICA6IHZhbHVlLFxuICAgICAgICApXG4gICAgfVxuXG4gICAgY29uc3QgYmluZGluZ3MgPSBhcnJheS5maWx0ZXIoaSA9PiBpIGluc3RhbmNlb2YgQmluZGluZylcblxuICAgIGlmIChiaW5kaW5ncy5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiBhcnJheVxuXG4gICAgaWYgKGJpbmRpbmdzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgcmV0dXJuIGJpbmRpbmdzWzBdLmFzKGdldFZhbHVlcylcblxuICAgIHJldHVybiBWYXJpYWJsZS5kZXJpdmUoYmluZGluZ3MsIGdldFZhbHVlcykoKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0UHJvcChvYmo6IGFueSwgcHJvcDogc3RyaW5nLCB2YWx1ZTogYW55KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc2V0dGVyID0gYHNldF8ke3NuYWtlaWZ5KHByb3ApfWBcbiAgICAgICAgaWYgKHR5cGVvZiBvYmpbc2V0dGVyXSA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICAgICAgcmV0dXJuIG9ialtzZXR0ZXJdKHZhbHVlKVxuXG4gICAgICAgIHJldHVybiAob2JqW3Byb3BdID0gdmFsdWUpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgY291bGQgbm90IHNldCBwcm9wZXJ0eSBcIiR7cHJvcH1cIiBvbiAke29ian06YCwgZXJyb3IpXG4gICAgfVxufVxuXG5leHBvcnQgdHlwZSBCaW5kYWJsZVByb3BzPFQ+ID0ge1xuICAgIFtLIGluIGtleW9mIFRdOiBCaW5kaW5nPFRbS10+IHwgVFtLXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhvb2s8V2lkZ2V0IGV4dGVuZHMgQ29ubmVjdGFibGU+KFxuICAgIHdpZGdldDogV2lkZ2V0LFxuICAgIG9iamVjdDogQ29ubmVjdGFibGUgfCBTdWJzY3JpYmFibGUsXG4gICAgc2lnbmFsT3JDYWxsYmFjazogc3RyaW5nIHwgKChzZWxmOiBXaWRnZXQsIC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkKSxcbiAgICBjYWxsYmFjaz86IChzZWxmOiBXaWRnZXQsIC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkLFxuKSB7XG4gICAgaWYgKHR5cGVvZiBvYmplY3QuY29ubmVjdCA9PT0gXCJmdW5jdGlvblwiICYmIGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IGlkID0gb2JqZWN0LmNvbm5lY3Qoc2lnbmFsT3JDYWxsYmFjaywgKF86IGFueSwgLi4uYXJnczogdW5rbm93bltdKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sod2lkZ2V0LCAuLi5hcmdzKVxuICAgICAgICB9KVxuICAgICAgICB3aWRnZXQuY29ubmVjdChcImRlc3Ryb3lcIiwgKCkgPT4ge1xuICAgICAgICAgICAgKG9iamVjdC5kaXNjb25uZWN0IGFzIENvbm5lY3RhYmxlW1wiZGlzY29ubmVjdFwiXSkoaWQpXG4gICAgICAgIH0pXG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqZWN0LnN1YnNjcmliZSA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBzaWduYWxPckNhbGxiYWNrID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgY29uc3QgdW5zdWIgPSBvYmplY3Quc3Vic2NyaWJlKCguLi5hcmdzOiB1bmtub3duW10pID0+IHtcbiAgICAgICAgICAgIHNpZ25hbE9yQ2FsbGJhY2sod2lkZ2V0LCAuLi5hcmdzKVxuICAgICAgICB9KVxuICAgICAgICB3aWRnZXQuY29ubmVjdChcImRlc3Ryb3lcIiwgdW5zdWIpXG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29uc3RydWN0PFdpZGdldCBleHRlbmRzIENvbm5lY3RhYmxlICYgeyBbc2V0Q2hpbGRyZW5dOiAoY2hpbGRyZW46IGFueVtdKSA9PiB2b2lkIH0+KHdpZGdldDogV2lkZ2V0LCBjb25maWc6IGFueSkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItY29uc3RcbiAgICBsZXQgeyBzZXR1cCwgY2hpbGQsIGNoaWxkcmVuID0gW10sIC4uLnByb3BzIH0gPSBjb25maWdcblxuICAgIGlmIChjaGlsZHJlbiBpbnN0YW5jZW9mIEJpbmRpbmcpIHtcbiAgICAgICAgY2hpbGRyZW4gPSBbY2hpbGRyZW5dXG4gICAgfVxuXG4gICAgaWYgKGNoaWxkKSB7XG4gICAgICAgIGNoaWxkcmVuLnVuc2hpZnQoY2hpbGQpXG4gICAgfVxuXG4gICAgLy8gcmVtb3ZlIHVuZGVmaW5lZCB2YWx1ZXNcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhwcm9wcykpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBwcm9wc1trZXldXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBjb2xsZWN0IGJpbmRpbmdzXG4gICAgY29uc3QgYmluZGluZ3M6IEFycmF5PFtzdHJpbmcsIEJpbmRpbmc8YW55Pl0+ID0gT2JqZWN0XG4gICAgICAgIC5rZXlzKHByb3BzKVxuICAgICAgICAucmVkdWNlKChhY2M6IGFueSwgcHJvcCkgPT4ge1xuICAgICAgICAgICAgaWYgKHByb3BzW3Byb3BdIGluc3RhbmNlb2YgQmluZGluZykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJpbmRpbmcgPSBwcm9wc1twcm9wXVxuICAgICAgICAgICAgICAgIGRlbGV0ZSBwcm9wc1twcm9wXVxuICAgICAgICAgICAgICAgIHJldHVybiBbLi4uYWNjLCBbcHJvcCwgYmluZGluZ11dXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYWNjXG4gICAgICAgIH0sIFtdKVxuXG4gICAgLy8gY29sbGVjdCBzaWduYWwgaGFuZGxlcnNcbiAgICBjb25zdCBvbkhhbmRsZXJzOiBBcnJheTxbc3RyaW5nLCBzdHJpbmcgfCAoKCkgPT4gdW5rbm93bildPiA9IE9iamVjdFxuICAgICAgICAua2V5cyhwcm9wcylcbiAgICAgICAgLnJlZHVjZSgoYWNjOiBhbnksIGtleSkgPT4ge1xuICAgICAgICAgICAgaWYgKGtleS5zdGFydHNXaXRoKFwib25cIikpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzaWcgPSBrZWJhYmlmeShrZXkpLnNwbGl0KFwiLVwiKS5zbGljZSgxKS5qb2luKFwiLVwiKVxuICAgICAgICAgICAgICAgIGNvbnN0IGhhbmRsZXIgPSBwcm9wc1trZXldXG4gICAgICAgICAgICAgICAgZGVsZXRlIHByb3BzW2tleV1cbiAgICAgICAgICAgICAgICByZXR1cm4gWy4uLmFjYywgW3NpZywgaGFuZGxlcl1dXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYWNjXG4gICAgICAgIH0sIFtdKVxuXG4gICAgLy8gc2V0IGNoaWxkcmVuXG4gICAgY29uc3QgbWVyZ2VkQ2hpbGRyZW4gPSBtZXJnZUJpbmRpbmdzKGNoaWxkcmVuLmZsYXQoSW5maW5pdHkpKVxuICAgIGlmIChtZXJnZWRDaGlsZHJlbiBpbnN0YW5jZW9mIEJpbmRpbmcpIHtcbiAgICAgICAgd2lkZ2V0W3NldENoaWxkcmVuXShtZXJnZWRDaGlsZHJlbi5nZXQoKSlcbiAgICAgICAgd2lkZ2V0LmNvbm5lY3QoXCJkZXN0cm95XCIsIG1lcmdlZENoaWxkcmVuLnN1YnNjcmliZSgodikgPT4ge1xuICAgICAgICAgICAgd2lkZ2V0W3NldENoaWxkcmVuXSh2KVxuICAgICAgICB9KSlcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobWVyZ2VkQ2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgd2lkZ2V0W3NldENoaWxkcmVuXShtZXJnZWRDaGlsZHJlbilcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIHNldHVwIHNpZ25hbCBoYW5kbGVyc1xuICAgIGZvciAoY29uc3QgW3NpZ25hbCwgY2FsbGJhY2tdIG9mIG9uSGFuZGxlcnMpIHtcbiAgICAgICAgY29uc3Qgc2lnID0gc2lnbmFsLnN0YXJ0c1dpdGgoXCJub3RpZnlcIilcbiAgICAgICAgICAgID8gc2lnbmFsLnJlcGxhY2UoXCItXCIsIFwiOjpcIilcbiAgICAgICAgICAgIDogc2lnbmFsXG5cbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB3aWRnZXQuY29ubmVjdChzaWcsIGNhbGxiYWNrKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2lkZ2V0LmNvbm5lY3Qoc2lnLCAoKSA9PiBleGVjQXN5bmMoY2FsbGJhY2spXG4gICAgICAgICAgICAgICAgLnRoZW4ocHJpbnQpLmNhdGNoKGNvbnNvbGUuZXJyb3IpKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gc2V0dXAgYmluZGluZ3MgaGFuZGxlcnNcbiAgICBmb3IgKGNvbnN0IFtwcm9wLCBiaW5kaW5nXSBvZiBiaW5kaW5ncykge1xuICAgICAgICBpZiAocHJvcCA9PT0gXCJjaGlsZFwiIHx8IHByb3AgPT09IFwiY2hpbGRyZW5cIikge1xuICAgICAgICAgICAgd2lkZ2V0LmNvbm5lY3QoXCJkZXN0cm95XCIsIGJpbmRpbmcuc3Vic2NyaWJlKCh2OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICB3aWRnZXRbc2V0Q2hpbGRyZW5dKHYpXG4gICAgICAgICAgICB9KSlcbiAgICAgICAgfVxuICAgICAgICB3aWRnZXQuY29ubmVjdChcImRlc3Ryb3lcIiwgYmluZGluZy5zdWJzY3JpYmUoKHY6IGFueSkgPT4ge1xuICAgICAgICAgICAgc2V0UHJvcCh3aWRnZXQsIHByb3AsIHYpXG4gICAgICAgIH0pKVxuICAgICAgICBzZXRQcm9wKHdpZGdldCwgcHJvcCwgYmluZGluZy5nZXQoKSlcbiAgICB9XG5cbiAgICAvLyBmaWx0ZXIgdW5kZWZpbmVkIHZhbHVlc1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHByb3BzKSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGVsZXRlIHByb3BzW2tleV1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIE9iamVjdC5hc3NpZ24od2lkZ2V0LCBwcm9wcylcbiAgICBzZXR1cD8uKHdpZGdldClcbiAgICByZXR1cm4gd2lkZ2V0XG59XG5cbmZ1bmN0aW9uIGlzQXJyb3dGdW5jdGlvbihmdW5jOiBhbnkpOiBmdW5jIGlzIChhcmdzOiBhbnkpID0+IGFueSB7XG4gICAgcmV0dXJuICFPYmplY3QuaGFzT3duKGZ1bmMsIFwicHJvdG90eXBlXCIpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBqc3goXG4gICAgY3RvcnM6IFJlY29yZDxzdHJpbmcsIHsgbmV3KHByb3BzOiBhbnkpOiBhbnkgfSB8ICgocHJvcHM6IGFueSkgPT4gYW55KT4sXG4gICAgY3Rvcjogc3RyaW5nIHwgKChwcm9wczogYW55KSA9PiBhbnkpIHwgeyBuZXcocHJvcHM6IGFueSk6IGFueSB9LFxuICAgIHsgY2hpbGRyZW4sIC4uLnByb3BzIH06IGFueSxcbikge1xuICAgIGNoaWxkcmVuID8/PSBbXVxuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGNoaWxkcmVuKSlcbiAgICAgICAgY2hpbGRyZW4gPSBbY2hpbGRyZW5dXG5cbiAgICBjaGlsZHJlbiA9IGNoaWxkcmVuLmZpbHRlcihCb29sZWFuKVxuXG4gICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgcHJvcHMuY2hpbGQgPSBjaGlsZHJlblswXVxuICAgIGVsc2UgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDEpXG4gICAgICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRyZW5cblxuICAgIGlmICh0eXBlb2YgY3RvciA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBpZiAoaXNBcnJvd0Z1bmN0aW9uKGN0b3JzW2N0b3JdKSlcbiAgICAgICAgICAgIHJldHVybiBjdG9yc1tjdG9yXShwcm9wcylcblxuICAgICAgICByZXR1cm4gbmV3IGN0b3JzW2N0b3JdKHByb3BzKVxuICAgIH1cblxuICAgIGlmIChpc0Fycm93RnVuY3Rpb24oY3RvcikpXG4gICAgICAgIHJldHVybiBjdG9yKHByb3BzKVxuXG4gICAgcmV0dXJuIG5ldyBjdG9yKHByb3BzKVxufVxuIiwgImltcG9ydCB7IG5vSW1wbGljaXREZXN0cm95LCBzZXRDaGlsZHJlbiwgdHlwZSBCaW5kYWJsZVByb3BzLCBjb25zdHJ1Y3QgfSBmcm9tIFwiLi4vX2FzdGFsLmpzXCJcbmltcG9ydCBHdGsgZnJvbSBcImdpOi8vR3RrP3ZlcnNpb249NC4wXCJcbmltcG9ydCBHZGsgZnJvbSBcImdpOi8vR2RrP3ZlcnNpb249NC4wXCJcbmltcG9ydCBCaW5kaW5nIGZyb20gXCIuLi9iaW5kaW5nLmpzXCJcblxuZXhwb3J0IGNvbnN0IHR5cGUgPSBTeW1ib2woXCJjaGlsZCB0eXBlXCIpXG5jb25zdCBkdW1teUJ1bGRlciA9IG5ldyBHdGsuQnVpbGRlclxuXG5mdW5jdGlvbiBfZ2V0Q2hpbGRyZW4od2lkZ2V0OiBHdGsuV2lkZ2V0KTogQXJyYXk8R3RrLldpZGdldD4ge1xuICAgIGlmIChcImdldF9jaGlsZFwiIGluIHdpZGdldCAmJiB0eXBlb2Ygd2lkZ2V0LmdldF9jaGlsZCA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIHdpZGdldC5nZXRfY2hpbGQoKSA/IFt3aWRnZXQuZ2V0X2NoaWxkKCldIDogW11cbiAgICB9XG5cbiAgICBjb25zdCBjaGlsZHJlbjogQXJyYXk8R3RrLldpZGdldD4gPSBbXVxuICAgIGxldCBjaCA9IHdpZGdldC5nZXRfZmlyc3RfY2hpbGQoKVxuICAgIHdoaWxlIChjaCAhPT0gbnVsbCkge1xuICAgICAgICBjaGlsZHJlbi5wdXNoKGNoKVxuICAgICAgICBjaCA9IGNoLmdldF9uZXh0X3NpYmxpbmcoKVxuICAgIH1cbiAgICByZXR1cm4gY2hpbGRyZW5cbn1cblxuZnVuY3Rpb24gX3NldENoaWxkcmVuKHdpZGdldDogR3RrLldpZGdldCwgY2hpbGRyZW46IGFueVtdKSB7XG4gICAgY2hpbGRyZW4gPSBjaGlsZHJlbi5mbGF0KEluZmluaXR5KS5tYXAoY2ggPT4gY2ggaW5zdGFuY2VvZiBHdGsuV2lkZ2V0XG4gICAgICAgID8gY2hcbiAgICAgICAgOiBuZXcgR3RrLkxhYmVsKHsgdmlzaWJsZTogdHJ1ZSwgbGFiZWw6IFN0cmluZyhjaCkgfSkpXG5cblxuICAgIGZvciAoY29uc3QgY2hpbGQgb2YgY2hpbGRyZW4pIHtcbiAgICAgICAgd2lkZ2V0LnZmdW5jX2FkZF9jaGlsZChcbiAgICAgICAgICAgIGR1bW15QnVsZGVyLFxuICAgICAgICAgICAgY2hpbGQsXG4gICAgICAgICAgICB0eXBlIGluIGNoaWxkID8gY2hpbGRbdHlwZV0gOiBudWxsLFxuICAgICAgICApXG4gICAgfVxufVxuXG50eXBlIENvbmZpZzxUIGV4dGVuZHMgR3RrLldpZGdldD4gPSB7XG4gICAgc2V0Q2hpbGRyZW4od2lkZ2V0OiBULCBjaGlsZHJlbjogYW55W10pOiB2b2lkXG4gICAgZ2V0Q2hpbGRyZW4od2lkZ2V0OiBUKTogQXJyYXk8R3RrLldpZGdldD5cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXN0YWxpZnk8XG4gICAgV2lkZ2V0IGV4dGVuZHMgR3RrLldpZGdldCxcbiAgICBQcm9wcyBleHRlbmRzIEd0ay5XaWRnZXQuQ29uc3RydWN0b3JQcm9wcyA9IEd0ay5XaWRnZXQuQ29uc3RydWN0b3JQcm9wcyxcbiAgICBTaWduYWxzIGV4dGVuZHMgUmVjb3JkPGBvbiR7c3RyaW5nfWAsIEFycmF5PHVua25vd24+PiA9IFJlY29yZDxgb24ke3N0cmluZ31gLCBhbnlbXT4sXG4+KGNsczogeyBuZXcoLi4uYXJnczogYW55W10pOiBXaWRnZXQgfSwgY29uZmlnOiBQYXJ0aWFsPENvbmZpZzxXaWRnZXQ+PiA9IHt9KSB7XG4gICAgT2JqZWN0LmFzc2lnbihjbHMucHJvdG90eXBlLCB7XG4gICAgICAgIFtzZXRDaGlsZHJlbl0oY2hpbGRyZW46IGFueVtdKSB7XG4gICAgICAgICAgICBjb25zdCB3ID0gdGhpcyBhcyB1bmtub3duIGFzIFdpZGdldFxuICAgICAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiAoY29uZmlnLmdldENoaWxkcmVuPy4odykgfHwgX2dldENoaWxkcmVuKHcpKSkge1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIEd0ay5XaWRnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQudW5wYXJlbnQoKVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoaWxkcmVuLmluY2x1ZGVzKGNoaWxkKSAmJiBub0ltcGxpY2l0RGVzdHJveSBpbiB0aGlzKVxuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQucnVuX2Rpc3Bvc2UoKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNvbmZpZy5zZXRDaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5zZXRDaGlsZHJlbih3LCBjaGlsZHJlbilcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgX3NldENoaWxkcmVuKHcsIGNoaWxkcmVuKVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH0pXG5cbiAgICByZXR1cm4ge1xuICAgICAgICBbY2xzLm5hbWVdOiAoXG4gICAgICAgICAgICBwcm9wczogQ29uc3RydWN0UHJvcHM8V2lkZ2V0LCBQcm9wcywgU2lnbmFscz4gPSB7fSxcbiAgICAgICAgICAgIC4uLmNoaWxkcmVuOiBhbnlbXVxuICAgICAgICApOiBXaWRnZXQgPT4ge1xuICAgICAgICAgICAgY29uc3Qgd2lkZ2V0ID0gbmV3IGNscyhcImNzc05hbWVcIiBpbiBwcm9wcyA/IHsgY3NzTmFtZTogcHJvcHMuY3NzTmFtZSB9IDoge30pXG5cbiAgICAgICAgICAgIGlmIChcImNzc05hbWVcIiBpbiBwcm9wcykge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBwcm9wcy5jc3NOYW1lXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwcm9wcy5ub0ltcGxpY2l0RGVzdHJveSkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24od2lkZ2V0LCB7IFtub0ltcGxpY2l0RGVzdHJveV06IHRydWUgfSlcbiAgICAgICAgICAgICAgICBkZWxldGUgcHJvcHMubm9JbXBsaWNpdERlc3Ryb3lcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHByb3BzLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHdpZGdldCwgeyBbdHlwZV06IHByb3BzLnR5cGUgfSlcbiAgICAgICAgICAgICAgICBkZWxldGUgcHJvcHMudHlwZVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ocHJvcHMsIHsgY2hpbGRyZW4gfSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGNvbnN0cnVjdCh3aWRnZXQgYXMgYW55LCBzZXR1cENvbnRyb2xsZXJzKHdpZGdldCwgcHJvcHMgYXMgYW55KSlcbiAgICAgICAgfSxcbiAgICB9W2Nscy5uYW1lXVxufVxuXG50eXBlIFNpZ0hhbmRsZXI8XG4gICAgVyBleHRlbmRzIEluc3RhbmNlVHlwZTx0eXBlb2YgR3RrLldpZGdldD4sXG4gICAgQXJncyBleHRlbmRzIEFycmF5PHVua25vd24+LFxuPiA9ICgoc2VsZjogVywgLi4uYXJnczogQXJncykgPT4gdW5rbm93bikgfCBzdHJpbmcgfCBzdHJpbmdbXVxuXG5leHBvcnQgeyBCaW5kYWJsZVByb3BzIH1cbmV4cG9ydCB0eXBlIEJpbmRhYmxlQ2hpbGQgPSBHdGsuV2lkZ2V0IHwgQmluZGluZzxHdGsuV2lkZ2V0PlxuXG5leHBvcnQgdHlwZSBDb25zdHJ1Y3RQcm9wczxcbiAgICBTZWxmIGV4dGVuZHMgSW5zdGFuY2VUeXBlPHR5cGVvZiBHdGsuV2lkZ2V0PixcbiAgICBQcm9wcyBleHRlbmRzIEd0ay5XaWRnZXQuQ29uc3RydWN0b3JQcm9wcyxcbiAgICBTaWduYWxzIGV4dGVuZHMgUmVjb3JkPGBvbiR7c3RyaW5nfWAsIEFycmF5PHVua25vd24+PiA9IFJlY29yZDxgb24ke3N0cmluZ31gLCBhbnlbXT4sXG4+ID0gUGFydGlhbDx7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBjYW4ndCBhc3NpZ24gdG8gdW5rbm93biwgYnV0IGl0IHdvcmtzIGFzIGV4cGVjdGVkIHRob3VnaFxuICAgIFtTIGluIGtleW9mIFNpZ25hbHNdOiBTaWdIYW5kbGVyPFNlbGYsIFNpZ25hbHNbU10+XG59PiAmIFBhcnRpYWw8e1xuICAgIFtLZXkgaW4gYG9uJHtzdHJpbmd9YF06IFNpZ0hhbmRsZXI8U2VsZiwgYW55W10+XG59PiAmIFBhcnRpYWw8QmluZGFibGVQcm9wczxPbWl0PFByb3BzLCBcImNzc05hbWVcIiB8IFwiY3NzX25hbWVcIj4+PiAmIHtcbiAgICBub0ltcGxpY2l0RGVzdHJveT86IHRydWVcbiAgICB0eXBlPzogc3RyaW5nXG4gICAgY3NzTmFtZT86IHN0cmluZ1xufSAmIEV2ZW50Q29udHJvbGxlcjxTZWxmPiAmIHtcbiAgICBvbkRlc3Ryb3k/OiAoc2VsZjogU2VsZikgPT4gdW5rbm93blxuICAgIHNldHVwPzogKHNlbGY6IFNlbGYpID0+IHZvaWRcbn1cblxudHlwZSBFdmVudENvbnRyb2xsZXI8U2VsZiBleHRlbmRzIEd0ay5XaWRnZXQ+ID0ge1xuICAgIG9uRm9jdXNFbnRlcj86IChzZWxmOiBTZWxmKSA9PiB2b2lkXG4gICAgb25Gb2N1c0xlYXZlPzogKHNlbGY6IFNlbGYpID0+IHZvaWRcblxuICAgIG9uS2V5UHJlc3NlZD86IChzZWxmOiBTZWxmLCBrZXl2YWw6IG51bWJlciwga2V5Y29kZTogbnVtYmVyLCBzdGF0ZTogR2RrLk1vZGlmaWVyVHlwZSkgPT4gdm9pZFxuICAgIG9uS2V5UmVsZWFzZWQ/OiAoc2VsZjogU2VsZiwga2V5dmFsOiBudW1iZXIsIGtleWNvZGU6IG51bWJlciwgc3RhdGU6IEdkay5Nb2RpZmllclR5cGUpID0+IHZvaWRcbiAgICBvbktleU1vZGlmaWVyPzogKHNlbGY6IFNlbGYsIHN0YXRlOiBHZGsuTW9kaWZpZXJUeXBlKSA9PiB2b2lkXG5cbiAgICBvbkxlZ2FjeT86IChzZWxmOiBTZWxmLCBldmVudDogR2RrLkV2ZW50KSA9PiB2b2lkXG4gICAgb25CdXR0b25QcmVzc2VkPzogKHNlbGY6IFNlbGYsIHN0YXRlOiBHZGsuQnV0dG9uRXZlbnQpID0+IHZvaWRcbiAgICBvbkJ1dHRvblJlbGVhc2VkPzogKHNlbGY6IFNlbGYsIHN0YXRlOiBHZGsuQnV0dG9uRXZlbnQpID0+IHZvaWRcblxuICAgIG9uSG92ZXJFbnRlcj86IChzZWxmOiBTZWxmLCB4OiBudW1iZXIsIHk6IG51bWJlcikgPT4gdm9pZFxuICAgIG9uSG92ZXJMZWF2ZT86IChzZWxmOiBTZWxmKSA9PiB2b2lkXG4gICAgb25Nb3Rpb24/OiAoc2VsZjogU2VsZiwgeDogbnVtYmVyLCB5OiBudW1iZXIpID0+IHZvaWRcblxuICAgIG9uU2Nyb2xsPzogKHNlbGY6IFNlbGYsIGR4OiBudW1iZXIsIGR5OiBudW1iZXIpID0+IHZvaWRcbiAgICBvblNjcm9sbERlY2VsZXJhdGU/OiAoc2VsZjogU2VsZiwgdmVsX3g6IG51bWJlciwgdmVsX3k6IG51bWJlcikgPT4gdm9pZFxufVxuXG5mdW5jdGlvbiBzZXR1cENvbnRyb2xsZXJzPFQ+KHdpZGdldDogR3RrLldpZGdldCwge1xuICAgIG9uRm9jdXNFbnRlcixcbiAgICBvbkZvY3VzTGVhdmUsXG4gICAgb25LZXlQcmVzc2VkLFxuICAgIG9uS2V5UmVsZWFzZWQsXG4gICAgb25LZXlNb2RpZmllcixcbiAgICBvbkxlZ2FjeSxcbiAgICBvbkJ1dHRvblByZXNzZWQsXG4gICAgb25CdXR0b25SZWxlYXNlZCxcbiAgICBvbkhvdmVyRW50ZXIsXG4gICAgb25Ib3ZlckxlYXZlLFxuICAgIG9uTW90aW9uLFxuICAgIG9uU2Nyb2xsLFxuICAgIG9uU2Nyb2xsRGVjZWxlcmF0ZSxcbiAgICAuLi5wcm9wc1xufTogRXZlbnRDb250cm9sbGVyPEd0ay5XaWRnZXQ+ICYgVCkge1xuICAgIGlmIChvbkZvY3VzRW50ZXIgfHwgb25Gb2N1c0xlYXZlKSB7XG4gICAgICAgIGNvbnN0IGZvY3VzID0gbmV3IEd0ay5FdmVudENvbnRyb2xsZXJGb2N1c1xuICAgICAgICB3aWRnZXQuYWRkX2NvbnRyb2xsZXIoZm9jdXMpXG5cbiAgICAgICAgaWYgKG9uRm9jdXNFbnRlcilcbiAgICAgICAgICAgIGZvY3VzLmNvbm5lY3QoXCJlbnRlclwiLCAoKSA9PiBvbkZvY3VzRW50ZXIod2lkZ2V0KSlcblxuICAgICAgICBpZiAob25Gb2N1c0xlYXZlKVxuICAgICAgICAgICAgZm9jdXMuY29ubmVjdChcImxlYXZlXCIsICgpID0+IG9uRm9jdXNMZWF2ZSh3aWRnZXQpKVxuICAgIH1cblxuICAgIGlmIChvbktleVByZXNzZWQgfHwgb25LZXlSZWxlYXNlZCB8fCBvbktleU1vZGlmaWVyKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IG5ldyBHdGsuRXZlbnRDb250cm9sbGVyS2V5XG4gICAgICAgIHdpZGdldC5hZGRfY29udHJvbGxlcihrZXkpXG5cbiAgICAgICAgaWYgKG9uS2V5UHJlc3NlZClcbiAgICAgICAgICAgIGtleS5jb25uZWN0KFwia2V5LXByZXNzZWRcIiwgKF8sIHZhbCwgY29kZSwgc3RhdGUpID0+IG9uS2V5UHJlc3NlZCh3aWRnZXQsIHZhbCwgY29kZSwgc3RhdGUpKVxuXG4gICAgICAgIGlmIChvbktleVJlbGVhc2VkKVxuICAgICAgICAgICAga2V5LmNvbm5lY3QoXCJrZXktcmVsZWFzZWRcIiwgKF8sIHZhbCwgY29kZSwgc3RhdGUpID0+IG9uS2V5UmVsZWFzZWQod2lkZ2V0LCB2YWwsIGNvZGUsIHN0YXRlKSlcblxuICAgICAgICBpZiAob25LZXlNb2RpZmllcilcbiAgICAgICAgICAgIGtleS5jb25uZWN0KFwibW9kaWZpZXJzXCIsIChfLCBzdGF0ZSkgPT4gb25LZXlNb2RpZmllcih3aWRnZXQsIHN0YXRlKSlcbiAgICB9XG5cbiAgICBpZiAob25MZWdhY3kgfHwgb25CdXR0b25QcmVzc2VkIHx8IG9uQnV0dG9uUmVsZWFzZWQpIHtcbiAgICAgICAgY29uc3QgbGVnYWN5ID0gbmV3IEd0ay5FdmVudENvbnRyb2xsZXJMZWdhY3lcbiAgICAgICAgd2lkZ2V0LmFkZF9jb250cm9sbGVyKGxlZ2FjeSlcblxuICAgICAgICBsZWdhY3kuY29ubmVjdChcImV2ZW50XCIsIChfLCBldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmdldF9ldmVudF90eXBlKCkgPT09IEdkay5FdmVudFR5cGUuQlVUVE9OX1BSRVNTKSB7XG4gICAgICAgICAgICAgICAgb25CdXR0b25QcmVzc2VkPy4od2lkZ2V0LCBldmVudCBhcyBHZGsuQnV0dG9uRXZlbnQpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChldmVudC5nZXRfZXZlbnRfdHlwZSgpID09PSBHZGsuRXZlbnRUeXBlLkJVVFRPTl9SRUxFQVNFKSB7XG4gICAgICAgICAgICAgICAgb25CdXR0b25SZWxlYXNlZD8uKHdpZGdldCwgZXZlbnQgYXMgR2RrLkJ1dHRvbkV2ZW50KVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvbkxlZ2FjeT8uKHdpZGdldCwgZXZlbnQpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKG9uTW90aW9uIHx8IG9uSG92ZXJFbnRlciB8fCBvbkhvdmVyTGVhdmUpIHtcbiAgICAgICAgY29uc3QgaG92ZXIgPSBuZXcgR3RrLkV2ZW50Q29udHJvbGxlck1vdGlvblxuICAgICAgICB3aWRnZXQuYWRkX2NvbnRyb2xsZXIoaG92ZXIpXG5cbiAgICAgICAgaWYgKG9uSG92ZXJFbnRlcilcbiAgICAgICAgICAgIGhvdmVyLmNvbm5lY3QoXCJlbnRlclwiLCAoXywgeCwgeSkgPT4gb25Ib3ZlckVudGVyKHdpZGdldCwgeCwgeSkpXG5cbiAgICAgICAgaWYgKG9uSG92ZXJMZWF2ZSlcbiAgICAgICAgICAgIGhvdmVyLmNvbm5lY3QoXCJsZWF2ZVwiLCAoKSA9PiBvbkhvdmVyTGVhdmUod2lkZ2V0KSlcblxuICAgICAgICBpZiAob25Nb3Rpb24pXG4gICAgICAgICAgICBob3Zlci5jb25uZWN0KFwibW90aW9uXCIsIChfLCB4LCB5KSA9PiBvbk1vdGlvbih3aWRnZXQsIHgsIHkpKVxuICAgIH1cblxuICAgIGlmIChvblNjcm9sbCB8fCBvblNjcm9sbERlY2VsZXJhdGUpIHtcbiAgICAgICAgY29uc3Qgc2Nyb2xsID0gbmV3IEd0ay5FdmVudENvbnRyb2xsZXJTY3JvbGxcbiAgICAgICAgc2Nyb2xsLmZsYWdzID0gR3RrLkV2ZW50Q29udHJvbGxlclNjcm9sbEZsYWdzLkJPVEhfQVhFUyB8IEd0ay5FdmVudENvbnRyb2xsZXJTY3JvbGxGbGFncy5LSU5FVElDXG4gICAgICAgIHdpZGdldC5hZGRfY29udHJvbGxlcihzY3JvbGwpXG5cbiAgICAgICAgaWYgKG9uU2Nyb2xsKVxuICAgICAgICAgICAgc2Nyb2xsLmNvbm5lY3QoXCJzY3JvbGxcIiwgKF8sIHgsIHkpID0+IG9uU2Nyb2xsKHdpZGdldCwgeCwgeSkpXG5cbiAgICAgICAgaWYgKG9uU2Nyb2xsRGVjZWxlcmF0ZSlcbiAgICAgICAgICAgIHNjcm9sbC5jb25uZWN0KFwiZGVjZWxlcmF0ZVwiLCAoXywgeCwgeSkgPT4gb25TY3JvbGxEZWNlbGVyYXRlKHdpZGdldCwgeCwgeSkpXG4gICAgfVxuXG4gICAgcmV0dXJuIHByb3BzXG59XG4iLCAiaW1wb3J0IEdMaWIgZnJvbSBcImdpOi8vR0xpYj92ZXJzaW9uPTIuMFwiXG5pbXBvcnQgR3RrIGZyb20gXCJnaTovL0d0az92ZXJzaW9uPTQuMFwiXG5pbXBvcnQgQXN0YWwgZnJvbSBcImdpOi8vQXN0YWw/dmVyc2lvbj00LjBcIlxuaW1wb3J0IHsgbWtBcHAgfSBmcm9tIFwiLi4vX2FwcFwiXG5cbkd0ay5pbml0KClcblxuLy8gc3RvcCB0aGlzIGZyb20gbGVha2luZyBpbnRvIHN1YnByb2Nlc3Nlc1xuLy8gYW5kIGdpbyBsYXVuY2ggaW52b2NhdGlvbnNcbkdMaWIudW5zZXRlbnYoXCJMRF9QUkVMT0FEXCIpXG5cbi8vIHVzZXJzIG1pZ2h0IHdhbnQgdG8gdXNlIEFkd2FpdGEgaW4gd2hpY2ggY2FzZSBpdCBoYXMgdG8gYmUgaW5pdGlhbGl6ZWRcbi8vIGl0IG1pZ2h0IGJlIGNvbW1vbiBwaXRmYWxsIHRvIGZvcmdldCBpdCBiZWNhdXNlIGBBcHBgIGlzIG5vdCBgQWR3LkFwcGxpY2F0aW9uYFxuYXdhaXQgaW1wb3J0KFwiZ2k6Ly9BZHc/dmVyc2lvbj0xXCIpXG4gICAgLnRoZW4oKHsgZGVmYXVsdDogQWR3IH0pID0+IEFkdy5pbml0KCkpXG4gICAgLmNhdGNoKCgpID0+IHZvaWQgMClcblxuZXhwb3J0IGRlZmF1bHQgbWtBcHAoQXN0YWwuQXBwbGljYXRpb24pXG4iLCAiLyoqXG4gKiBXb3JrYXJvdW5kIGZvciBcIkNhbid0IGNvbnZlcnQgbm9uLW51bGwgcG9pbnRlciB0byBKUyB2YWx1ZSBcIlxuICovXG5cbmV4cG9ydCB7IH1cblxuY29uc3Qgc25ha2VpZnkgPSAoc3RyOiBzdHJpbmcpID0+IHN0clxuICAgIC5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCBcIiQxXyQyXCIpXG4gICAgLnJlcGxhY2VBbGwoXCItXCIsIFwiX1wiKVxuICAgIC50b0xvd2VyQ2FzZSgpXG5cbmFzeW5jIGZ1bmN0aW9uIHN1cHByZXNzPFQ+KG1vZDogUHJvbWlzZTx7IGRlZmF1bHQ6IFQgfT4sIHBhdGNoOiAobTogVCkgPT4gdm9pZCkge1xuICAgIHJldHVybiBtb2QudGhlbihtID0+IHBhdGNoKG0uZGVmYXVsdCkpLmNhdGNoKCgpID0+IHZvaWQgMClcbn1cblxuZnVuY3Rpb24gcGF0Y2g8UCBleHRlbmRzIG9iamVjdD4ocHJvdG86IFAsIHByb3A6IEV4dHJhY3Q8a2V5b2YgUCwgc3RyaW5nPikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90bywgcHJvcCwge1xuICAgICAgICBnZXQoKSB7IHJldHVybiB0aGlzW2BnZXRfJHtzbmFrZWlmeShwcm9wKX1gXSgpIH0sXG4gICAgfSlcbn1cblxuYXdhaXQgc3VwcHJlc3MoaW1wb3J0KFwiZ2k6Ly9Bc3RhbEFwcHNcIiksICh7IEFwcHMsIEFwcGxpY2F0aW9uIH0pID0+IHtcbiAgICBwYXRjaChBcHBzLnByb3RvdHlwZSwgXCJsaXN0XCIpXG4gICAgcGF0Y2goQXBwbGljYXRpb24ucHJvdG90eXBlLCBcImtleXdvcmRzXCIpXG4gICAgcGF0Y2goQXBwbGljYXRpb24ucHJvdG90eXBlLCBcImNhdGVnb3JpZXNcIilcbn0pXG5cbmF3YWl0IHN1cHByZXNzKGltcG9ydChcImdpOi8vQXN0YWxCYXR0ZXJ5XCIpLCAoeyBVUG93ZXIgfSkgPT4ge1xuICAgIHBhdGNoKFVQb3dlci5wcm90b3R5cGUsIFwiZGV2aWNlc1wiKVxufSlcblxuYXdhaXQgc3VwcHJlc3MoaW1wb3J0KFwiZ2k6Ly9Bc3RhbEJsdWV0b290aFwiKSwgKHsgQWRhcHRlciwgQmx1ZXRvb3RoLCBEZXZpY2UgfSkgPT4ge1xuICAgIHBhdGNoKEFkYXB0ZXIucHJvdG90eXBlLCBcInV1aWRzXCIpXG4gICAgcGF0Y2goQmx1ZXRvb3RoLnByb3RvdHlwZSwgXCJhZGFwdGVyc1wiKVxuICAgIHBhdGNoKEJsdWV0b290aC5wcm90b3R5cGUsIFwiZGV2aWNlc1wiKVxuICAgIHBhdGNoKERldmljZS5wcm90b3R5cGUsIFwidXVpZHNcIilcbn0pXG5cbmF3YWl0IHN1cHByZXNzKGltcG9ydChcImdpOi8vQXN0YWxDYXZhXCIpLCAoeyBDYXZhIH0pID0+IHtcbiAgICBwYXRjaChDYXZhLnByb3RvdHlwZSwgXCJ2YWx1ZXNcIilcbn0pXG5cbmF3YWl0IHN1cHByZXNzKGltcG9ydChcImdpOi8vQXN0YWxIeXBybGFuZFwiKSwgKHsgSHlwcmxhbmQsIE1vbml0b3IsIFdvcmtzcGFjZSB9KSA9PiB7XG4gICAgcGF0Y2goSHlwcmxhbmQucHJvdG90eXBlLCBcImJpbmRzXCIpXG4gICAgcGF0Y2goSHlwcmxhbmQucHJvdG90eXBlLCBcIm1vbml0b3JzXCIpXG4gICAgcGF0Y2goSHlwcmxhbmQucHJvdG90eXBlLCBcIndvcmtzcGFjZXNcIilcbiAgICBwYXRjaChIeXBybGFuZC5wcm90b3R5cGUsIFwiY2xpZW50c1wiKVxuICAgIHBhdGNoKE1vbml0b3IucHJvdG90eXBlLCBcImF2YWlsYWJsZU1vZGVzXCIpXG4gICAgcGF0Y2goTW9uaXRvci5wcm90b3R5cGUsIFwiYXZhaWxhYmxlX21vZGVzXCIpXG4gICAgcGF0Y2goV29ya3NwYWNlLnByb3RvdHlwZSwgXCJjbGllbnRzXCIpXG59KVxuXG5hd2FpdCBzdXBwcmVzcyhpbXBvcnQoXCJnaTovL0FzdGFsTXByaXNcIiksICh7IE1wcmlzLCBQbGF5ZXIgfSkgPT4ge1xuICAgIHBhdGNoKE1wcmlzLnByb3RvdHlwZSwgXCJwbGF5ZXJzXCIpXG4gICAgcGF0Y2goUGxheWVyLnByb3RvdHlwZSwgXCJzdXBwb3J0ZWRfdXJpX3NjaGVtZXNcIilcbiAgICBwYXRjaChQbGF5ZXIucHJvdG90eXBlLCBcInN1cHBvcnRlZFVyaVNjaGVtZXNcIilcbiAgICBwYXRjaChQbGF5ZXIucHJvdG90eXBlLCBcInN1cHBvcnRlZF9taW1lX3R5cGVzXCIpXG4gICAgcGF0Y2goUGxheWVyLnByb3RvdHlwZSwgXCJzdXBwb3J0ZWRNaW1lVHlwZXNcIilcbiAgICBwYXRjaChQbGF5ZXIucHJvdG90eXBlLCBcImNvbW1lbnRzXCIpXG59KVxuXG5hd2FpdCBzdXBwcmVzcyhpbXBvcnQoXCJnaTovL0FzdGFsTmV0d29ya1wiKSwgKHsgV2lmaSB9KSA9PiB7XG4gICAgcGF0Y2goV2lmaS5wcm90b3R5cGUsIFwiYWNjZXNzX3BvaW50c1wiKVxuICAgIHBhdGNoKFdpZmkucHJvdG90eXBlLCBcImFjY2Vzc1BvaW50c1wiKVxufSlcblxuYXdhaXQgc3VwcHJlc3MoaW1wb3J0KFwiZ2k6Ly9Bc3RhbE5vdGlmZFwiKSwgKHsgTm90aWZkLCBOb3RpZmljYXRpb24gfSkgPT4ge1xuICAgIHBhdGNoKE5vdGlmZC5wcm90b3R5cGUsIFwibm90aWZpY2F0aW9uc1wiKVxuICAgIHBhdGNoKE5vdGlmaWNhdGlvbi5wcm90b3R5cGUsIFwiYWN0aW9uc1wiKVxufSlcblxuYXdhaXQgc3VwcHJlc3MoaW1wb3J0KFwiZ2k6Ly9Bc3RhbFBvd2VyUHJvZmlsZXNcIiksICh7IFBvd2VyUHJvZmlsZXMgfSkgPT4ge1xuICAgIHBhdGNoKFBvd2VyUHJvZmlsZXMucHJvdG90eXBlLCBcImFjdGlvbnNcIilcbn0pXG5cbmF3YWl0IHN1cHByZXNzKGltcG9ydChcImdpOi8vQXN0YWxSaXZlclwiKSwgKHsgUml2ZXIgfSkgPT4ge1xuICBwYXRjaChSaXZlci5wcm90b3R5cGUsIFwib3V0cHV0c1wiKVxufSlcblxuYXdhaXQgc3VwcHJlc3MoaW1wb3J0KFwiZ2k6Ly9Bc3RhbFRyYXlcIiksICh7IFRyYXkgfSkgPT4ge1xuICBwYXRjaChUcmF5LnByb3RvdHlwZSwgXCJpdGVtc1wiKVxufSlcblxuYXdhaXQgc3VwcHJlc3MoaW1wb3J0KFwiZ2k6Ly9Bc3RhbFdwXCIpLCAoeyBXcCwgQXVkaW8sIFZpZGVvLCBOb2RlLCBFbmRwb2ludCwgRGV2aWNlIH0pID0+IHtcbiAgICBwYXRjaChXcC5wcm90b3R5cGUsIFwibm9kZXNcIilcbiAgICBwYXRjaChXcC5wcm90b3R5cGUsIFwiZGV2aWNlc1wiKVxuICAgIHBhdGNoKEF1ZGlvLnByb3RvdHlwZSwgXCJzdHJlYW1zXCIpXG4gICAgcGF0Y2goQXVkaW8ucHJvdG90eXBlLCBcInJlY29yZGVyc1wiKVxuICAgIHBhdGNoKEF1ZGlvLnByb3RvdHlwZSwgXCJtaWNyb3Bob25lc1wiKVxuICAgIHBhdGNoKEF1ZGlvLnByb3RvdHlwZSwgXCJzcGVha2Vyc1wiKVxuICAgIHBhdGNoKEF1ZGlvLnByb3RvdHlwZSwgXCJkZXZpY2VzXCIpXG4gICAgcGF0Y2goVmlkZW8ucHJvdG90eXBlLCBcInN0cmVhbXNcIilcbiAgICBwYXRjaChWaWRlby5wcm90b3R5cGUsIFwicmVjb3JkZXJzXCIpXG4gICAgcGF0Y2goVmlkZW8ucHJvdG90eXBlLCBcInNpbmtzXCIpXG4gICAgcGF0Y2goVmlkZW8ucHJvdG90eXBlLCBcInNvdXJjZXNcIilcbiAgICBwYXRjaChWaWRlby5wcm90b3R5cGUsIFwiZGV2aWNlc1wiKVxuICAgIHBhdGNoKEVuZHBvaW50LnByb3RvdHlwZSwgXCJyb3V0ZXNcIilcbiAgICBwYXRjaChOb2RlLnByb3RvdHlwZSwgXCJjaGFubmVsc1wiKVxuICAgIHBhdGNoKERldmljZS5wcm90b3R5cGUsIFwicHJvZmlsZXNcIilcbiAgICBwYXRjaChEZXZpY2UucHJvdG90eXBlLCBcInJvdXRlc1wiKVxuICAgIHBhdGNoKERldmljZS5wcm90b3R5cGUsIFwiaW5wdXRfcm91dGVzXCIpXG4gICAgcGF0Y2goRGV2aWNlLnByb3RvdHlwZSwgXCJpbnB1dFJvdXRlc1wiKVxuICAgIHBhdGNoKERldmljZS5wcm90b3R5cGUsIFwib3V0cHV0X3JvdXRlc1wiKVxuICAgIHBhdGNoKERldmljZS5wcm90b3R5cGUsIFwib3V0cHV0Um91dGVzXCIpXG59KVxuIiwgImltcG9ydCBcIi4vb3ZlcnJpZGVzLmpzXCJcbmltcG9ydCB7IHNldENvbnNvbGVMb2dEb21haW4gfSBmcm9tIFwiY29uc29sZVwiXG5pbXBvcnQgeyBleGl0LCBwcm9ncmFtQXJncyB9IGZyb20gXCJzeXN0ZW1cIlxuaW1wb3J0IElPIGZyb20gXCJnaTovL0FzdGFsSU9cIlxuaW1wb3J0IEdPYmplY3QgZnJvbSBcImdpOi8vR09iamVjdFwiXG5pbXBvcnQgR2lvIGZyb20gXCJnaTovL0dpbz92ZXJzaW9uPTIuMFwiXG5pbXBvcnQgdHlwZSBBc3RhbDMgZnJvbSBcImdpOi8vQXN0YWw/dmVyc2lvbj0zLjBcIlxuaW1wb3J0IHR5cGUgQXN0YWw0IGZyb20gXCJnaTovL0FzdGFsP3ZlcnNpb249NC4wXCJcblxudHlwZSBDb25maWcgPSBQYXJ0aWFsPHtcbiAgICBpbnN0YW5jZU5hbWU6IHN0cmluZ1xuICAgIGNzczogc3RyaW5nXG4gICAgaWNvbnM6IHN0cmluZ1xuICAgIGd0a1RoZW1lOiBzdHJpbmdcbiAgICBpY29uVGhlbWU6IHN0cmluZ1xuICAgIGN1cnNvclRoZW1lOiBzdHJpbmdcbiAgICBob2xkOiBib29sZWFuXG4gICAgcmVxdWVzdEhhbmRsZXIocmVxdWVzdDogc3RyaW5nLCByZXM6IChyZXNwb25zZTogYW55KSA9PiB2b2lkKTogdm9pZFxuICAgIG1haW4oLi4uYXJnczogc3RyaW5nW10pOiB2b2lkXG4gICAgY2xpZW50KG1lc3NhZ2U6IChtc2c6IHN0cmluZykgPT4gc3RyaW5nLCAuLi5hcmdzOiBzdHJpbmdbXSk6IHZvaWRcbn0+XG5cbmludGVyZmFjZSBBc3RhbDNKUyBleHRlbmRzIEFzdGFsMy5BcHBsaWNhdGlvbiB7XG4gICAgZXZhbChib2R5OiBzdHJpbmcpOiBQcm9taXNlPGFueT5cbiAgICByZXF1ZXN0SGFuZGxlcjogQ29uZmlnW1wicmVxdWVzdEhhbmRsZXJcIl1cbiAgICBhcHBseV9jc3Moc3R5bGU6IHN0cmluZywgcmVzZXQ/OiBib29sZWFuKTogdm9pZFxuICAgIHF1aXQoY29kZT86IG51bWJlcik6IHZvaWRcbiAgICBzdGFydChjb25maWc/OiBDb25maWcpOiB2b2lkXG59XG5cbmludGVyZmFjZSBBc3RhbDRKUyBleHRlbmRzIEFzdGFsNC5BcHBsaWNhdGlvbiB7XG4gICAgZXZhbChib2R5OiBzdHJpbmcpOiBQcm9taXNlPGFueT5cbiAgICByZXF1ZXN0SGFuZGxlcj86IENvbmZpZ1tcInJlcXVlc3RIYW5kbGVyXCJdXG4gICAgYXBwbHlfY3NzKHN0eWxlOiBzdHJpbmcsIHJlc2V0PzogYm9vbGVhbik6IHZvaWRcbiAgICBxdWl0KGNvZGU/OiBudW1iZXIpOiB2b2lkXG4gICAgc3RhcnQoY29uZmlnPzogQ29uZmlnKTogdm9pZFxufVxuXG50eXBlIEFwcDMgPSB0eXBlb2YgQXN0YWwzLkFwcGxpY2F0aW9uXG50eXBlIEFwcDQgPSB0eXBlb2YgQXN0YWw0LkFwcGxpY2F0aW9uXG5cbmV4cG9ydCBmdW5jdGlvbiBta0FwcDxBcHAgZXh0ZW5kcyBBcHAzPihBcHA6IEFwcCk6IEFzdGFsM0pTXG5leHBvcnQgZnVuY3Rpb24gbWtBcHA8QXBwIGV4dGVuZHMgQXBwND4oQXBwOiBBcHApOiBBc3RhbDRKU1xuXG5leHBvcnQgZnVuY3Rpb24gbWtBcHAoQXBwOiBBcHAzIHwgQXBwNCkge1xuICAgIHJldHVybiBuZXcgKGNsYXNzIEFzdGFsSlMgZXh0ZW5kcyBBcHAge1xuICAgICAgICBzdGF0aWMgeyBHT2JqZWN0LnJlZ2lzdGVyQ2xhc3MoeyBHVHlwZU5hbWU6IFwiQXN0YWxKU1wiIH0sIHRoaXMgYXMgYW55KSB9XG5cbiAgICAgICAgZXZhbChib2R5OiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZuID0gRnVuY3Rpb24oYHJldHVybiAoYXN5bmMgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAke2JvZHkuaW5jbHVkZXMoXCI7XCIpID8gYm9keSA6IGByZXR1cm4gJHtib2R5fTtgfVxuICAgICAgICAgICAgICAgICAgICB9KWApXG4gICAgICAgICAgICAgICAgICAgIGZuKCkoKS50aGVuKHJlcykuY2F0Y2gocmVqKVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlaihlcnJvcilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgcmVxdWVzdEhhbmRsZXI/OiBDb25maWdbXCJyZXF1ZXN0SGFuZGxlclwiXVxuXG4gICAgICAgIHZmdW5jX3JlcXVlc3QobXNnOiBzdHJpbmcsIGNvbm46IEdpby5Tb2NrZXRDb25uZWN0aW9uKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMucmVxdWVzdEhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHRoaXMucmVxdWVzdEhhbmRsZXIobXNnLCAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgSU8ud3JpdGVfc29jayhjb25uLCBTdHJpbmcocmVzcG9uc2UpLCAoXywgcmVzKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgSU8ud3JpdGVfc29ja19maW5pc2gocmVzKSxcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN1cGVyLnZmdW5jX3JlcXVlc3QobXNnLCBjb25uKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYXBwbHlfY3NzKHN0eWxlOiBzdHJpbmcsIHJlc2V0ID0gZmFsc2UpIHtcbiAgICAgICAgICAgIHN1cGVyLmFwcGx5X2NzcyhzdHlsZSwgcmVzZXQpXG4gICAgICAgIH1cblxuICAgICAgICBxdWl0KGNvZGU/OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgICAgIHN1cGVyLnF1aXQoKVxuICAgICAgICAgICAgZXhpdChjb2RlID8/IDApXG4gICAgICAgIH1cblxuICAgICAgICBzdGFydCh7IHJlcXVlc3RIYW5kbGVyLCBjc3MsIGhvbGQsIG1haW4sIGNsaWVudCwgaWNvbnMsIC4uLmNmZyB9OiBDb25maWcgPSB7fSkge1xuICAgICAgICAgICAgY29uc3QgYXBwID0gdGhpcyBhcyB1bmtub3duIGFzIEluc3RhbmNlVHlwZTxBcHAzIHwgQXBwND5cblxuICAgICAgICAgICAgY2xpZW50ID8/PSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcHJpbnQoYEFzdGFsIGluc3RhbmNlIFwiJHthcHAuaW5zdGFuY2VOYW1lfVwiIGFscmVhZHkgcnVubmluZ2ApXG4gICAgICAgICAgICAgICAgZXhpdCgxKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMsIGNmZylcbiAgICAgICAgICAgIHNldENvbnNvbGVMb2dEb21haW4oYXBwLmluc3RhbmNlTmFtZSlcblxuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0SGFuZGxlciA9IHJlcXVlc3RIYW5kbGVyXG4gICAgICAgICAgICBhcHAuY29ubmVjdChcImFjdGl2YXRlXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBtYWluPy4oLi4ucHJvZ3JhbUFyZ3MpXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGFwcC5hY3F1aXJlX3NvY2tldCgpXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBjbGllbnQobXNnID0+IElPLnNlbmRfcmVxdWVzdChhcHAuaW5zdGFuY2VOYW1lLCBtc2cpISwgLi4ucHJvZ3JhbUFyZ3MpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjc3MpXG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseV9jc3MoY3NzLCBmYWxzZSlcblxuICAgICAgICAgICAgaWYgKGljb25zKVxuICAgICAgICAgICAgICAgIGFwcC5hZGRfaWNvbnMoaWNvbnMpXG5cbiAgICAgICAgICAgIGhvbGQgPz89IHRydWVcbiAgICAgICAgICAgIGlmIChob2xkKVxuICAgICAgICAgICAgICAgIGFwcC5ob2xkKClcblxuICAgICAgICAgICAgYXBwLnJ1bkFzeW5jKFtdKVxuICAgICAgICB9XG4gICAgfSlcbn1cbiIsICJpbXBvcnQgQXN0YWwgZnJvbSBcImdpOi8vQXN0YWw/dmVyc2lvbj00LjBcIlxuaW1wb3J0IEd0ayBmcm9tIFwiZ2k6Ly9HdGs/dmVyc2lvbj00LjBcIlxuaW1wb3J0IGFzdGFsaWZ5LCB7IHR5cGUsIHR5cGUgQ29uc3RydWN0UHJvcHMgfSBmcm9tIFwiLi9hc3RhbGlmeS5qc1wiXG5cbmZ1bmN0aW9uIGZpbHRlcihjaGlsZHJlbjogYW55W10pIHtcbiAgICByZXR1cm4gY2hpbGRyZW4uZmxhdChJbmZpbml0eSkubWFwKGNoID0+IGNoIGluc3RhbmNlb2YgR3RrLldpZGdldFxuICAgICAgICA/IGNoXG4gICAgICAgIDogbmV3IEd0ay5MYWJlbCh7IHZpc2libGU6IHRydWUsIGxhYmVsOiBTdHJpbmcoY2gpIH0pKVxufVxuXG4vLyBCb3hcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShBc3RhbC5Cb3gucHJvdG90eXBlLCBcImNoaWxkcmVuXCIsIHtcbiAgICBnZXQoKSB7IHJldHVybiB0aGlzLmdldF9jaGlsZHJlbigpIH0sXG4gICAgc2V0KHYpIHsgdGhpcy5zZXRfY2hpbGRyZW4odikgfSxcbn0pXG5cbmV4cG9ydCB0eXBlIEJveFByb3BzID0gQ29uc3RydWN0UHJvcHM8QXN0YWwuQm94LCBBc3RhbC5Cb3guQ29uc3RydWN0b3JQcm9wcz5cbmV4cG9ydCBjb25zdCBCb3ggPSBhc3RhbGlmeTxBc3RhbC5Cb3gsIEFzdGFsLkJveC5Db25zdHJ1Y3RvclByb3BzPihBc3RhbC5Cb3gsIHtcbiAgICBnZXRDaGlsZHJlbihzZWxmKSB7IHJldHVybiBzZWxmLmdldF9jaGlsZHJlbigpIH0sXG4gICAgc2V0Q2hpbGRyZW4oc2VsZiwgY2hpbGRyZW4pIHsgcmV0dXJuIHNlbGYuc2V0X2NoaWxkcmVuKGZpbHRlcihjaGlsZHJlbikpIH0sXG59KVxuXG4vLyBCdXR0b25cbnR5cGUgQnV0dG9uU2lnbmFscyA9IHtcbiAgICBvbkNsaWNrZWQ6IFtdXG59XG5cbmV4cG9ydCB0eXBlIEJ1dHRvblByb3BzID0gQ29uc3RydWN0UHJvcHM8R3RrLkJ1dHRvbiwgR3RrLkJ1dHRvbi5Db25zdHJ1Y3RvclByb3BzLCBCdXR0b25TaWduYWxzPlxuZXhwb3J0IGNvbnN0IEJ1dHRvbiA9IGFzdGFsaWZ5PEd0ay5CdXR0b24sIEd0ay5CdXR0b24uQ29uc3RydWN0b3JQcm9wcywgQnV0dG9uU2lnbmFscz4oR3RrLkJ1dHRvbilcblxuLy8gQ2VudGVyQm94XG5leHBvcnQgdHlwZSBDZW50ZXJCb3hQcm9wcyA9IENvbnN0cnVjdFByb3BzPEd0ay5DZW50ZXJCb3gsIEd0ay5DZW50ZXJCb3guQ29uc3RydWN0b3JQcm9wcz5cbmV4cG9ydCBjb25zdCBDZW50ZXJCb3ggPSBhc3RhbGlmeTxHdGsuQ2VudGVyQm94LCBHdGsuQ2VudGVyQm94LkNvbnN0cnVjdG9yUHJvcHM+KEd0ay5DZW50ZXJCb3gsIHtcbiAgICBnZXRDaGlsZHJlbihib3gpIHtcbiAgICAgICAgcmV0dXJuIFtib3guc3RhcnRXaWRnZXQsIGJveC5jZW50ZXJXaWRnZXQsIGJveC5lbmRXaWRnZXRdXG4gICAgfSxcbiAgICBzZXRDaGlsZHJlbihib3gsIGNoaWxkcmVuKSB7XG4gICAgICAgIGNvbnN0IGNoID0gZmlsdGVyKGNoaWxkcmVuKVxuICAgICAgICBib3guc3RhcnRXaWRnZXQgPSBjaFswXSB8fCBuZXcgR3RrLkJveFxuICAgICAgICBib3guY2VudGVyV2lkZ2V0ID0gY2hbMV0gfHwgbmV3IEd0ay5Cb3hcbiAgICAgICAgYm94LmVuZFdpZGdldCA9IGNoWzJdIHx8IG5ldyBHdGsuQm94XG4gICAgfSxcbn0pXG5cbi8vIFRPRE86IENpcmN1bGFyUHJvZ3Jlc3Ncbi8vIFRPRE86IERyYXdpbmdBcmVhXG5cbi8vIEVudHJ5XG50eXBlIEVudHJ5U2lnbmFscyA9IHtcbiAgICBvbkFjdGl2YXRlOiBbXVxuICAgIG9uTm90aWZ5VGV4dDogW11cbn1cblxuZXhwb3J0IHR5cGUgRW50cnlQcm9wcyA9IENvbnN0cnVjdFByb3BzPEd0ay5FbnRyeSwgR3RrLkVudHJ5LkNvbnN0cnVjdG9yUHJvcHMsIEVudHJ5U2lnbmFscz5cbmV4cG9ydCBjb25zdCBFbnRyeSA9IGFzdGFsaWZ5PEd0ay5FbnRyeSwgR3RrLkVudHJ5LkNvbnN0cnVjdG9yUHJvcHMsIEVudHJ5U2lnbmFscz4oR3RrLkVudHJ5LCB7XG4gICAgZ2V0Q2hpbGRyZW4oKSB7IHJldHVybiBbXSB9LFxufSlcblxuLy8gSW1hZ2VcbmV4cG9ydCB0eXBlIEltYWdlUHJvcHMgPSBDb25zdHJ1Y3RQcm9wczxHdGsuSW1hZ2UsIEd0ay5JbWFnZS5Db25zdHJ1Y3RvclByb3BzPlxuZXhwb3J0IGNvbnN0IEltYWdlID0gYXN0YWxpZnk8R3RrLkltYWdlLCBHdGsuSW1hZ2UuQ29uc3RydWN0b3JQcm9wcz4oR3RrLkltYWdlLCB7XG4gICAgZ2V0Q2hpbGRyZW4oKSB7IHJldHVybiBbXSB9LFxufSlcblxuLy8gTGFiZWxcbmV4cG9ydCB0eXBlIExhYmVsUHJvcHMgPSBDb25zdHJ1Y3RQcm9wczxHdGsuTGFiZWwsIEd0ay5MYWJlbC5Db25zdHJ1Y3RvclByb3BzPlxuZXhwb3J0IGNvbnN0IExhYmVsID0gYXN0YWxpZnk8R3RrLkxhYmVsLCBHdGsuTGFiZWwuQ29uc3RydWN0b3JQcm9wcz4oR3RrLkxhYmVsLCB7XG4gICAgZ2V0Q2hpbGRyZW4oKSB7IHJldHVybiBbXSB9LFxuICAgIHNldENoaWxkcmVuKHNlbGYsIGNoaWxkcmVuKSB7IHNlbGYubGFiZWwgPSBTdHJpbmcoY2hpbGRyZW4pIH0sXG59KVxuXG4vLyBMZXZlbEJhclxuZXhwb3J0IHR5cGUgTGV2ZWxCYXJQcm9wcyA9IENvbnN0cnVjdFByb3BzPEd0ay5MZXZlbEJhciwgR3RrLkxldmVsQmFyLkNvbnN0cnVjdG9yUHJvcHM+XG5leHBvcnQgY29uc3QgTGV2ZWxCYXIgPSBhc3RhbGlmeTxHdGsuTGV2ZWxCYXIsIEd0ay5MZXZlbEJhci5Db25zdHJ1Y3RvclByb3BzPihHdGsuTGV2ZWxCYXIsIHtcbiAgICBnZXRDaGlsZHJlbigpIHsgcmV0dXJuIFtdIH0sXG59KVxuXG4vLyBUT0RPOiBMaXN0Qm94XG5cbi8vIE92ZXJsYXlcbmV4cG9ydCB0eXBlIE92ZXJsYXlQcm9wcyA9IENvbnN0cnVjdFByb3BzPEd0ay5PdmVybGF5LCBHdGsuT3ZlcmxheS5Db25zdHJ1Y3RvclByb3BzPlxuZXhwb3J0IGNvbnN0IE92ZXJsYXkgPSBhc3RhbGlmeTxHdGsuT3ZlcmxheSwgR3RrLk92ZXJsYXkuQ29uc3RydWN0b3JQcm9wcz4oR3RrLk92ZXJsYXksIHtcbiAgICBnZXRDaGlsZHJlbihzZWxmKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuOiBBcnJheTxHdGsuV2lkZ2V0PiA9IFtdXG4gICAgICAgIGxldCBjaCA9IHNlbGYuZ2V0X2ZpcnN0X2NoaWxkKClcbiAgICAgICAgd2hpbGUgKGNoICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjaGlsZHJlbi5wdXNoKGNoKVxuICAgICAgICAgICAgY2ggPSBjaC5nZXRfbmV4dF9zaWJsaW5nKClcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjaGlsZHJlbi5maWx0ZXIoY2ggPT4gY2ggIT09IHNlbGYuY2hpbGQpXG4gICAgfSxcbiAgICBzZXRDaGlsZHJlbihzZWxmLCBjaGlsZHJlbikge1xuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIGZpbHRlcihjaGlsZHJlbikpIHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGVzID0gdHlwZSBpbiBjaGlsZFxuICAgICAgICAgICAgICAgID8gKGNoaWxkW3R5cGVdIGFzIHN0cmluZykuc3BsaXQoL1xccysvKVxuICAgICAgICAgICAgICAgIDogW11cblxuICAgICAgICAgICAgaWYgKHR5cGVzLmluY2x1ZGVzKFwib3ZlcmxheVwiKSkge1xuICAgICAgICAgICAgICAgIHNlbGYuYWRkX292ZXJsYXkoY2hpbGQpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlbGYuc2V0X2NoaWxkKGNoaWxkKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZWxmLnNldF9tZWFzdXJlX292ZXJsYXkoY2hpbGQsIHR5cGVzLmluY2x1ZGVzKFwibWVhc3VyZVwiKSlcbiAgICAgICAgICAgIHNlbGYuc2V0X2NsaXBfb3ZlcmxheShjaGlsZCwgdHlwZXMuaW5jbHVkZXMoXCJjbGlwXCIpKVxuICAgICAgICB9XG4gICAgfSxcbn0pXG5cbi8vIFJldmVhbGVyXG5leHBvcnQgdHlwZSBSZXZlYWxlclByb3BzID0gQ29uc3RydWN0UHJvcHM8R3RrLlJldmVhbGVyLCBHdGsuUmV2ZWFsZXIuQ29uc3RydWN0b3JQcm9wcz5cbmV4cG9ydCBjb25zdCBSZXZlYWxlciA9IGFzdGFsaWZ5PEd0ay5SZXZlYWxlciwgR3RrLlJldmVhbGVyLkNvbnN0cnVjdG9yUHJvcHM+KEd0ay5SZXZlYWxlcilcblxuLy8gU2xpZGVyXG50eXBlIFNsaWRlclNpZ25hbHMgPSB7XG4gICAgb25DaGFuZ2VWYWx1ZTogW11cbn1cblxuZXhwb3J0IHR5cGUgU2xpZGVyUHJvcHMgPSBDb25zdHJ1Y3RQcm9wczxBc3RhbC5TbGlkZXIsIEFzdGFsLlNsaWRlci5Db25zdHJ1Y3RvclByb3BzLCBTbGlkZXJTaWduYWxzPlxuZXhwb3J0IGNvbnN0IFNsaWRlciA9IGFzdGFsaWZ5PEFzdGFsLlNsaWRlciwgQXN0YWwuU2xpZGVyLkNvbnN0cnVjdG9yUHJvcHMsIFNsaWRlclNpZ25hbHM+KEFzdGFsLlNsaWRlciwge1xuICAgIGdldENoaWxkcmVuKCkgeyByZXR1cm4gW10gfSxcbn0pXG5cbi8vIFN0YWNrXG5leHBvcnQgdHlwZSBTdGFja1Byb3BzID0gQ29uc3RydWN0UHJvcHM8R3RrLlN0YWNrLCBHdGsuU3RhY2suQ29uc3RydWN0b3JQcm9wcz5cbmV4cG9ydCBjb25zdCBTdGFjayA9IGFzdGFsaWZ5PEd0ay5TdGFjaywgR3RrLlN0YWNrLkNvbnN0cnVjdG9yUHJvcHM+KEd0ay5TdGFjaywge1xuICAgIHNldENoaWxkcmVuKHNlbGYsIGNoaWxkcmVuKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgZmlsdGVyKGNoaWxkcmVuKSkge1xuICAgICAgICAgICAgaWYgKGNoaWxkLm5hbWUgIT0gXCJcIiAmJiBjaGlsZC5uYW1lICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmFkZF9uYW1lZChjaGlsZCwgY2hpbGQubmFtZSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VsZi5hZGRfY2hpbGQoY2hpbGQpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxufSlcblxuLy8gU3dpdGNoXG5leHBvcnQgdHlwZSBTd2l0Y2hQcm9wcyA9IENvbnN0cnVjdFByb3BzPEd0ay5Td2l0Y2gsIEd0ay5Td2l0Y2guQ29uc3RydWN0b3JQcm9wcz5cbmV4cG9ydCBjb25zdCBTd2l0Y2ggPSBhc3RhbGlmeTxHdGsuU3dpdGNoLCBHdGsuU3dpdGNoLkNvbnN0cnVjdG9yUHJvcHM+KEd0ay5Td2l0Y2gsIHtcbiAgICBnZXRDaGlsZHJlbigpIHsgcmV0dXJuIFtdIH0sXG59KVxuXG4vLyBXaW5kb3dcbmV4cG9ydCB0eXBlIFdpbmRvd1Byb3BzID0gQ29uc3RydWN0UHJvcHM8QXN0YWwuV2luZG93LCBBc3RhbC5XaW5kb3cuQ29uc3RydWN0b3JQcm9wcz5cbmV4cG9ydCBjb25zdCBXaW5kb3cgPSBhc3RhbGlmeTxBc3RhbC5XaW5kb3csIEFzdGFsLldpbmRvdy5Db25zdHJ1Y3RvclByb3BzPihBc3RhbC5XaW5kb3cpXG5cbi8vIE1lbnVCdXR0b25cbmV4cG9ydCB0eXBlIE1lbnVCdXR0b25Qcm9wcyA9IENvbnN0cnVjdFByb3BzPEd0ay5NZW51QnV0dG9uLCBHdGsuTWVudUJ1dHRvbi5Db25zdHJ1Y3RvclByb3BzPlxuZXhwb3J0IGNvbnN0IE1lbnVCdXR0b24gPSBhc3RhbGlmeTxHdGsuTWVudUJ1dHRvbiwgR3RrLk1lbnVCdXR0b24uQ29uc3RydWN0b3JQcm9wcz4oR3RrLk1lbnVCdXR0b24sIHtcbiAgICBnZXRDaGlsZHJlbihzZWxmKSB7IHJldHVybiBbc2VsZi5wb3BvdmVyLCBzZWxmLmNoaWxkXSB9LFxuICAgIHNldENoaWxkcmVuKHNlbGYsIGNoaWxkcmVuKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgZmlsdGVyKGNoaWxkcmVuKSkge1xuICAgICAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgR3RrLlBvcG92ZXIpIHtcbiAgICAgICAgICAgICAgICBzZWxmLnNldF9wb3BvdmVyKGNoaWxkKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWxmLnNldF9jaGlsZChjaGlsZClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG59KVxuXG4vLyBQb3BvcGVyXG5leHBvcnQgdHlwZSBQb3BvdmVyUHJvcHMgPSBDb25zdHJ1Y3RQcm9wczxHdGsuUG9wb3ZlciwgR3RrLlBvcG92ZXIuQ29uc3RydWN0b3JQcm9wcz5cbmV4cG9ydCBjb25zdCBQb3BvdmVyID0gYXN0YWxpZnk8R3RrLlBvcG92ZXIsIEd0ay5Qb3BvdmVyLkNvbnN0cnVjdG9yUHJvcHM+KEd0ay5Qb3BvdmVyKVxuIiwgIndpbmRvdyB7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICBjb2xvcjogIzNjMzgzNjtcbiAgZm9udC1mYW1pbHk6IFwiSmV0QnJhaW5zTW9ubyBOZXJkIEZvbnRcIiwgc2Fucy1zZXJpZjtcbiAgZm9udC1zaXplOiAxNHB4O1xufVxuXG5idXR0b24ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgY29sb3I6ICMzYzM4MzY7XG4gIHBhZGRpbmc6IDA7XG4gIGJvcmRlcjogbm9uZTtcbiAgYm9yZGVyLXJhZGl1czogMDtcbn1cblxubGFiZWwge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbn1cblxuYm94IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG59XG5cbi5JY29uIHtcbiAgZm9udC1mYW1pbHk6IFwiSmV0QnJhaW5zTW9ubyBOZXJkIEZvbnQgTW9ub1wiLCBtb25vc3BhY2U7XG59XG5cbi5EZWJ1ZyB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJlZDtcbiAgY29sb3I6IGdyZWVuO1xufVxuXG5idXR0b246aG92ZXIge1xuICBjb2xvcjogIzdlNzc3MDtcbn1cblxuYnV0dG9uLkRlYnVnIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xuICBjb2xvcjogZ3JlZW47XG59XG5cbmJ1dHRvbi5QYWRkaW5nIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIGNvbG9yOiAjN2U3NzcwO1xufVxuXG53aW5kb3cuQmFyIHtcbiAgcGFkZGluZzogMC41cmVtIDFyZW0gMC42cmVtIDAuNnJlbTtcbn1cbndpbmRvdy5CYXIgYm94LkJhckNlbnRlcmJveCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmYmYxYzc7XG4gIGNvbG9yOiAjM2MzODM2O1xuICBib3JkZXItcmFkaXVzOiAwLjVyZW07XG4gIGJveC1zaGFkb3c6IDVweCA1cHggMCAwICMzYzM4MzY7XG59XG53aW5kb3cuQmFyIGJveC5CYXJDZW50ZXJib3ggYm94LkJhclNlY3Rpb24ge1xuICBwYWRkaW5nOiAwIDAuNHJlbTtcbn1cbndpbmRvdy5CYXIgYm94LkJhckNlbnRlcmJveCBzZXBhcmF0b3Ige1xuICBtYXJnaW46IDAuNXJlbSAwLjVyZW07XG4gIG1pbi13aWR0aDogMC4ycmVtO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRTdERkJFO1xuICBib3JkZXItcmFkaXVzOiAxcmVtO1xufVxud2luZG93LkJhciBib3guQmFyQ2VudGVyYm94IGJveC5MYXVuY2hlciBidXR0b24uTGF1bmNoZXJCdXR0b24ge1xuICBmb250LXNpemU6IDI4cHg7XG4gIHBhZGRpbmctbGVmdDogMC4ycmVtO1xuICBwYWRkaW5nLXJpZ2h0OiAwLjJyZW07XG59XG53aW5kb3cuQmFyIGJveC5CYXJDZW50ZXJib3ggYm94Lk5ldHdvcmsgbGFiZWwge1xuICBmb250LXNpemU6IDEycHg7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG59XG53aW5kb3cuQmFyIGJveC5CYXJDZW50ZXJib3ggYm94LlRpbWUgbGFiZWwge1xuICBmb250LXdlaWdodDogNjAwO1xufVxud2luZG93LkJhciBib3guQmFyQ2VudGVyYm94IGJveC5NZWRpYSBib3guTWVkaWFQbGF5YmFjayB7XG4gIG1hcmdpbjogMCAwLjRyZW0gMCAwO1xufVxud2luZG93LkJhciBib3guQmFyQ2VudGVyYm94IGJveC5NZWRpYSBib3guTWVkaWFQbGF5YmFjayBidXR0b24uTWVkaWFQbGF5YmFja0J1dHRvbiB7XG4gIGZvbnQtc2l6ZTogMjJweDtcbiAgcGFkZGluZzogMCAwLjNyZW07XG59XG53aW5kb3cuQmFyIGJveC5CYXJDZW50ZXJib3ggYm94Lk1lZGlhIGJveC5NZWRpYVBsYXliYWNrIGJ1dHRvbi5NZWRpYVBsYXliYWNrQnV0dG9uLkRpc2FibGVkIHtcbiAgY29sb3I6ICM3ZTc3NzA7XG59XG53aW5kb3cuQmFyIGJveC5CYXJDZW50ZXJib3ggYm94Lk1lZGlhIGltYWdlLk1lZGlhSW1hZ2VDb3ZlckFydCB7XG4gIG1hcmdpbjogMCAwLjVyZW0gMCAwO1xufVxud2luZG93LkJhciBib3guQmFyQ2VudGVyYm94IGJveC5NZWRpYSBsYWJlbC5NZWRpYVRpdGxlQnV0dG9uTGFiZWwge1xuICBmb250LXNpemU6IDEycHg7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG59XG53aW5kb3cuQmFyIGJveC5CYXJDZW50ZXJib3ggYm94LldvcmtzcGFjZXMgYnV0dG9uLldvcmtzcGFjZUJ1dHRvbiB7XG4gIGNvbG9yOiAjQTU5RTg2O1xufVxud2luZG93LkJhciBib3guQmFyQ2VudGVyYm94IGJveC5Xb3Jrc3BhY2VzIGJ1dHRvbi5Xb3Jrc3BhY2VCdXR0b24uQWN0aXZlIHtcbiAgY29sb3I6ICMzYzM4MzY7XG59XG53aW5kb3cuQmFyIGJveC5CYXJDZW50ZXJib3ggYm94LldvcmtzcGFjZXMgYnV0dG9uLldvcmtzcGFjZUJ1dHRvbi5BY3RpdmUgPiBsYWJlbCB7XG4gIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xufVxud2luZG93LkJhciBib3guQmFyQ2VudGVyYm94IGJveC5Xb3Jrc3BhY2VzIGJ1dHRvbi5Xb3Jrc3BhY2VCdXR0b24uSGFzQ2xpZW50IHtcbiAgY29sb3I6ICMzYzM4MzY7XG59XG53aW5kb3cuQmFyIGJveC5CYXJDZW50ZXJib3ggYm94LkZvY3VzZWRDbGllbnQgbGFiZWwuRm9jdXNlZENsaWVudExhYmVsIHtcbiAgZm9udC1zaXplOiAxMnB4O1xuICBmb250LXdlaWdodDogNTAwO1xufVxud2luZG93LkJhciBib3guQmFyQ2VudGVyYm94IGJveC5UcmF5IG1lbnVidXR0b24uVHJheU1lbnVCdXR0b24gbGFiZWwuVHJheUxhYmVsSWNvbiB7XG4gIGZvbnQtc2l6ZTogMThweDtcbn1cbndpbmRvdy5CYXIgYm94LkJhckNlbnRlcmJveCBib3guVHJheSBtZW51YnV0dG9uLlRyYXlNZW51QnV0dG9uIGltYWdlLlRyYXlJbWFnZUljb24ge1xuICBtaW4td2lkdGg6IDE4cHg7XG59XG5cbndpbmRvdy5RdWlja1NldHRpbmcge1xuICBwYWRkaW5nOiAwLjI1cmVtIDFyZW0gMC42cmVtIDAuNnJlbTtcbn1cbndpbmRvdy5RdWlja1NldHRpbmcgYm94LlF1aWNrU2V0dGluZ0NvbnRhaW5lciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmYmYxYzc7XG4gIGNvbG9yOiAjM2MzODM2O1xuICBib3JkZXItcmFkaXVzOiAwLjVyZW07XG4gIGJveC1zaGFkb3c6IDVweCA1cHggMCAwICMzYzM4MzY7XG4gIHBhZGRpbmc6IDAuNXJlbTtcbn1cbndpbmRvdy5RdWlja1NldHRpbmcgYm94LlF1aWNrU2V0dGluZ0NvbnRhaW5lciBib3guUXVpY2tTZXR0aW5nUm93IGJveC5Ob3RpZmljYXRpb25zIHNjcm9sbGVkd2luZG93Lk5vdGlmaWNhdGlvbkxpc3RTY3JvbGxlZFdpbmRvdyBib3guTm90aWZpY2F0aW9uTGlzdCBib3guTm90aWZpY2F0aW9uSXRlbSB7XG4gIGJvcmRlcjogMXB4IHNvbGlkICMzYzM4MzY7XG4gIGJveC1zaGFkb3c6IG5vbmU7XG59XG53aW5kb3cuUXVpY2tTZXR0aW5nIGJveC5RdWlja1NldHRpbmdDb250YWluZXIgYm94LlF1aWNrU2V0dGluZ1JvdyBidXR0b24uUXVpY2tTZXR0aW5nQnV0dG9uIHtcbiAgcGFkZGluZzogMC41cmVtIDFyZW07XG4gIGJhY2tncm91bmQtY29sb3I6ICNFN0RGQkU7XG4gIGNvbG9yOiAjM2MzODM2O1xuICBtaW4td2lkdGg6IDEyMHB4O1xuICBtaW4taGVpZ2h0OiA1MHB4O1xuICBmb250LXNpemU6IDE0cHg7XG4gIGJvcmRlci1yYWRpdXM6IDAuNXJlbTtcbn1cbndpbmRvdy5RdWlja1NldHRpbmcgYm94LlF1aWNrU2V0dGluZ0NvbnRhaW5lciBib3guUXVpY2tTZXR0aW5nUm93IGJ1dHRvbi5RdWlja1NldHRpbmdCdXR0b246aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjN2U3NzcwO1xuICBjb2xvcjogI2YyZTlkNDtcbn1cbndpbmRvdy5RdWlja1NldHRpbmcgYm94LlF1aWNrU2V0dGluZ0NvbnRhaW5lciBib3guUXVpY2tTZXR0aW5nUm93IGJ1dHRvbi5RdWlja1NldHRpbmdCdXR0b24uU21hbGwge1xuICBtaW4td2lkdGg6IDYwcHg7XG4gIG1pbi1oZWlnaHQ6IDMwcHg7XG59XG53aW5kb3cuUXVpY2tTZXR0aW5nIGJveC5RdWlja1NldHRpbmdDb250YWluZXIgYm94LlF1aWNrU2V0dGluZ1JvdyBidXR0b24uUXVpY2tTZXR0aW5nQnV0dG9uIC5JY29uIHtcbiAgZm9udC1zaXplOiAyNHB4O1xufVxud2luZG93LlF1aWNrU2V0dGluZyBib3guUXVpY2tTZXR0aW5nQ29udGFpbmVyIGJveC5RdWlja1NldHRpbmdSb3cgYnV0dG9uLlF1aWNrU2V0dGluZ0J1dHRvbiAuQ2hldnJvbiB7XG4gIGZvbnQtc2l6ZTogMjBweDtcbn1cbndpbmRvdy5RdWlja1NldHRpbmcgYm94LlF1aWNrU2V0dGluZ0NvbnRhaW5lciBib3guUXVpY2tTZXR0aW5nUm93IGJ1dHRvbi5RdWlja1NldHRpbmdCdXR0b24gLkxhYmVsMSB7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG59XG53aW5kb3cuUXVpY2tTZXR0aW5nIGJveC5RdWlja1NldHRpbmdDb250YWluZXIgYm94LlF1aWNrU2V0dGluZ1JvdyBidXR0b24uUXVpY2tTZXR0aW5nQnV0dG9uIC5MYWJlbDIge1xuICBmb250LXNpemU6IDEycHg7XG4gIGNvbG9yOiAjN2U3NzcwO1xufVxud2luZG93LlF1aWNrU2V0dGluZyBib3guUXVpY2tTZXR0aW5nQ29udGFpbmVyIGltYWdlIHtcbiAgY29sb3I6ICMzYzM4MzY7XG59XG53aW5kb3cuUXVpY2tTZXR0aW5nIGJveC5RdWlja1NldHRpbmdDb250YWluZXIgc2NhbGUge1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDA7XG59XG53aW5kb3cuUXVpY2tTZXR0aW5nIGJveC5RdWlja1NldHRpbmdDb250YWluZXIgc2NhbGUgdHJvdWdoIHtcbiAgYm9yZGVyLXJhZGl1czogMXJlbTtcbn1cbndpbmRvdy5RdWlja1NldHRpbmcgYm94LlF1aWNrU2V0dGluZ0NvbnRhaW5lciBzY2FsZSB0cm91Z2ggaGlnaGxpZ2h0IHtcbiAgbWluLWhlaWdodDogMjBweDtcbiAgbWluLXdpZHRoOiAyMHB4O1xuICBib3JkZXItcmFkaXVzOiAxcmVtO1xuICBvdXRsaW5lOiB1bnNldDtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzNjMzgzNjtcbn1cbndpbmRvdy5RdWlja1NldHRpbmcgYm94LlF1aWNrU2V0dGluZ0NvbnRhaW5lciBzY2FsZSB0cm91Z2ggc2xpZGVyIHtcbiAgYm94LXNoYWRvdzogbm9uZTtcbiAgb3V0bGluZTogdW5zZXQ7XG4gIGJvcmRlcjogMDtcbiAgbWluLWhlaWdodDogMjBweDtcbiAgbWluLXdpZHRoOiAyMHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbn1cblxud2luZG93LlZvbHVtZSB7XG4gIG1hcmdpbi10b3A6IDMuNXJlbTtcbiAgbWluLWhlaWdodDogMTAwcHg7XG4gIG1pbi13aWR0aDogMTAwcHg7XG59XG53aW5kb3cuVm9sdW1lIGJveC5Db250YWluZXIge1xuICBwYWRkaW5nOiAxcmVtO1xufVxud2luZG93LlZvbHVtZSBib3guQ29udGFpbmVyIGJ1dHRvbi5CdXR0b24ge1xuICBwYWRkaW5nOiAwLjVyZW07XG4gIGJvcmRlci1yYWRpdXM6IDAuNXJlbTtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZiZjFjNztcbiAgYm94LXNoYWRvdzogNXB4IDVweCAwIDAgIzNjMzgzNjtcbn1cblxud2luZG93Lk5vdGlmaWNhdGlvblBvcHVwIHtcbiAgcGFkZGluZzogMC4yNXJlbSAxcmVtIDAuNnJlbSAwLjZyZW07XG59XG5cbmJveC5Ob3RpZmljYXRpb25JdGVtIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZiZjFjNztcbiAgY29sb3I6ICMzYzM4MzY7XG4gIGJvcmRlci1yYWRpdXM6IDAuNXJlbTtcbiAgYm94LXNoYWRvdzogNXB4IDVweCAwIDAgIzNjMzgzNjtcbiAgbWluLXdpZHRoOiAzMDBweDtcbiAgcGFkZGluZzogMHJlbSAwLjVyZW07XG59XG5ib3guTm90aWZpY2F0aW9uSXRlbSBib3guSGVhZGVyIHtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICM3ZTc3NzA7XG59XG5ib3guTm90aWZpY2F0aW9uSXRlbSBib3guSGVhZGVyIGJveC5IZWFkZXJSaWdodCBsYWJlbC5IZWFkZXJUaW1lIHtcbiAgZm9udC1zaXplOiAxNHB4O1xufVxuYm94Lk5vdGlmaWNhdGlvbkl0ZW0gYm94LkhlYWRlciBib3guSGVhZGVyUmlnaHQgYnV0dG9uLkNsb3NlQnV0dG9uIGxhYmVsIHtcbiAgZm9udC1zaXplOiAyMHB4O1xufVxuYm94Lk5vdGlmaWNhdGlvbkl0ZW0gYm94LkJvZHkge1xuICBtaW4taGVpZ2h0OiA1MHB4O1xufVxuYm94Lk5vdGlmaWNhdGlvbkl0ZW0gYm94LkJvZHkgbGFiZWwuU3VtbWFyeSB7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbn1cbmJveC5Ob3RpZmljYXRpb25JdGVtIGJveC5Cb2R5IGxhYmVsLkJvZHkge1xuICBmb250LXNpemU6IDEzcHg7XG59XG5ib3guTm90aWZpY2F0aW9uSXRlbSBib3guRm9vdGVyIHtcbiAgbWluLWhlaWdodDogMXB4O1xufVxuYm94Lk5vdGlmaWNhdGlvbkl0ZW0uQ3JpdGljYWwge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJlOWQ0O1xufSIsICJpbXBvcnQgeyBHZGsgfSBmcm9tIFwiYXN0YWwvZ3RrNFwiXG5cbmV4cG9ydCBjb25zdCBfZGVmYXVsdCA9IEdkay5DdXJzb3IubmV3X2Zyb21fbmFtZShcImRlZmF1bHRcIiwgbnVsbClcbmV4cG9ydCBjb25zdCBwb2ludGVyID0gR2RrLkN1cnNvci5uZXdfZnJvbV9uYW1lKFwicG9pbnRlclwiLCBudWxsKVxuZXhwb3J0IGNvbnN0IG5vdEFsbG93ZWQgPSBHZGsuQ3Vyc29yLm5ld19mcm9tX25hbWUoXCJub3QtYWxsb3dlZFwiLCBudWxsKVxuIiwgImltcG9ydCBcIi4vb3ZlcnJpZGVzLmpzXCJcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXN0YWxJTyB9IGZyb20gXCJnaTovL0FzdGFsSU8/dmVyc2lvbj0wLjFcIlxuZXhwb3J0ICogZnJvbSBcIi4vcHJvY2Vzcy5qc1wiXG5leHBvcnQgKiBmcm9tIFwiLi90aW1lLmpzXCJcbmV4cG9ydCAqIGZyb20gXCIuL2ZpbGUuanNcIlxuZXhwb3J0ICogZnJvbSBcIi4vZ29iamVjdC5qc1wiXG5leHBvcnQgeyBCaW5kaW5nLCBiaW5kIH0gZnJvbSBcIi4vYmluZGluZy5qc1wiXG5leHBvcnQgeyBWYXJpYWJsZSwgZGVyaXZlIH0gZnJvbSBcIi4vdmFyaWFibGUuanNcIlxuIiwgImltcG9ydCBBc3RhbCBmcm9tIFwiZ2k6Ly9Bc3RhbElPXCJcbmltcG9ydCBHaW8gZnJvbSBcImdpOi8vR2lvP3ZlcnNpb249Mi4wXCJcblxuZXhwb3J0IHsgR2lvIH1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlYWRGaWxlKHBhdGg6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIEFzdGFsLnJlYWRfZmlsZShwYXRoKSB8fCBcIlwiXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWFkRmlsZUFzeW5jKHBhdGg6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgQXN0YWwucmVhZF9maWxlX2FzeW5jKHBhdGgsIChfLCByZXMpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShBc3RhbC5yZWFkX2ZpbGVfZmluaXNoKHJlcykgfHwgXCJcIilcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3cml0ZUZpbGUocGF0aDogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBBc3RhbC53cml0ZV9maWxlKHBhdGgsIGNvbnRlbnQpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3cml0ZUZpbGVBc3luYyhwYXRoOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIEFzdGFsLndyaXRlX2ZpbGVfYXN5bmMocGF0aCwgY29udGVudCwgKF8sIHJlcykgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKEFzdGFsLndyaXRlX2ZpbGVfZmluaXNoKHJlcykpXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbW9uaXRvckZpbGUoXG4gICAgcGF0aDogc3RyaW5nLFxuICAgIGNhbGxiYWNrOiAoZmlsZTogc3RyaW5nLCBldmVudDogR2lvLkZpbGVNb25pdG9yRXZlbnQpID0+IHZvaWQsXG4pOiBHaW8uRmlsZU1vbml0b3Ige1xuICAgIHJldHVybiBBc3RhbC5tb25pdG9yX2ZpbGUocGF0aCwgKGZpbGU6IHN0cmluZywgZXZlbnQ6IEdpby5GaWxlTW9uaXRvckV2ZW50KSA9PiB7XG4gICAgICAgIGNhbGxiYWNrKGZpbGUsIGV2ZW50KVxuICAgIH0pIVxufVxuIiwgImltcG9ydCBHT2JqZWN0IGZyb20gXCJnaTovL0dPYmplY3RcIlxuXG5leHBvcnQgeyBkZWZhdWx0IGFzIEdMaWIgfSBmcm9tIFwiZ2k6Ly9HTGliP3ZlcnNpb249Mi4wXCJcbmV4cG9ydCB7IEdPYmplY3QsIEdPYmplY3QgYXMgZGVmYXVsdCB9XG5cbmNvbnN0IG1ldGEgPSBTeW1ib2woXCJtZXRhXCIpXG5jb25zdCBwcml2ID0gU3ltYm9sKFwicHJpdlwiKVxuXG5jb25zdCB7IFBhcmFtU3BlYywgUGFyYW1GbGFncyB9ID0gR09iamVjdFxuXG5jb25zdCBrZWJhYmlmeSA9IChzdHI6IHN0cmluZykgPT4gc3RyXG4gICAgLnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pL2csIFwiJDEtJDJcIilcbiAgICAucmVwbGFjZUFsbChcIl9cIiwgXCItXCIpXG4gICAgLnRvTG93ZXJDYXNlKClcblxudHlwZSBTaWduYWxEZWNsYXJhdGlvbiA9IHtcbiAgICBmbGFncz86IEdPYmplY3QuU2lnbmFsRmxhZ3NcbiAgICBhY2N1bXVsYXRvcj86IEdPYmplY3QuQWNjdW11bGF0b3JUeXBlXG4gICAgcmV0dXJuX3R5cGU/OiBHT2JqZWN0LkdUeXBlXG4gICAgcGFyYW1fdHlwZXM/OiBBcnJheTxHT2JqZWN0LkdUeXBlPlxufVxuXG50eXBlIFByb3BlcnR5RGVjbGFyYXRpb24gPVxuICAgIHwgSW5zdGFuY2VUeXBlPHR5cGVvZiBHT2JqZWN0LlBhcmFtU3BlYz5cbiAgICB8IHsgJGd0eXBlOiBHT2JqZWN0LkdUeXBlIH1cbiAgICB8IHR5cGVvZiBTdHJpbmdcbiAgICB8IHR5cGVvZiBOdW1iZXJcbiAgICB8IHR5cGVvZiBCb29sZWFuXG4gICAgfCB0eXBlb2YgT2JqZWN0XG5cbnR5cGUgR09iamVjdENvbnN0cnVjdG9yID0ge1xuICAgIFttZXRhXT86IHtcbiAgICAgICAgUHJvcGVydGllcz86IHsgW2tleTogc3RyaW5nXTogR09iamVjdC5QYXJhbVNwZWMgfVxuICAgICAgICBTaWduYWxzPzogeyBba2V5OiBzdHJpbmddOiBHT2JqZWN0LlNpZ25hbERlZmluaXRpb24gfVxuICAgIH1cbiAgICBuZXcoLi4uYXJnczogYW55W10pOiBhbnlcbn1cblxudHlwZSBNZXRhSW5mbyA9IEdPYmplY3QuTWV0YUluZm88bmV2ZXIsIEFycmF5PHsgJGd0eXBlOiBHT2JqZWN0LkdUeXBlIH0+LCBuZXZlcj5cblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyKG9wdGlvbnM6IE1ldGFJbmZvID0ge30pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGNsczogR09iamVjdENvbnN0cnVjdG9yKSB7XG4gICAgICAgIGNvbnN0IHQgPSBvcHRpb25zLlRlbXBsYXRlXG4gICAgICAgIGlmICh0eXBlb2YgdCA9PT0gXCJzdHJpbmdcIiAmJiAhdC5zdGFydHNXaXRoKFwicmVzb3VyY2U6Ly9cIikgJiYgIXQuc3RhcnRzV2l0aChcImZpbGU6Ly9cIikpIHtcbiAgICAgICAgICAgIC8vIGFzc3VtZSB4bWwgdGVtcGxhdGVcbiAgICAgICAgICAgIG9wdGlvbnMuVGVtcGxhdGUgPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUodClcbiAgICAgICAgfVxuXG4gICAgICAgIEdPYmplY3QucmVnaXN0ZXJDbGFzcyh7XG4gICAgICAgICAgICBTaWduYWxzOiB7IC4uLmNsc1ttZXRhXT8uU2lnbmFscyB9LFxuICAgICAgICAgICAgUHJvcGVydGllczogeyAuLi5jbHNbbWV0YV0/LlByb3BlcnRpZXMgfSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH0sIGNscylcblxuICAgICAgICBkZWxldGUgY2xzW21ldGFdXG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvcGVydHkoZGVjbGFyYXRpb246IFByb3BlcnR5RGVjbGFyYXRpb24gPSBPYmplY3QpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldDogYW55LCBwcm9wOiBhbnksIGRlc2M/OiBQcm9wZXJ0eURlc2NyaXB0b3IpIHtcbiAgICAgICAgdGFyZ2V0LmNvbnN0cnVjdG9yW21ldGFdID8/PSB7fVxuICAgICAgICB0YXJnZXQuY29uc3RydWN0b3JbbWV0YV0uUHJvcGVydGllcyA/Pz0ge31cblxuICAgICAgICBjb25zdCBuYW1lID0ga2ViYWJpZnkocHJvcClcblxuICAgICAgICBpZiAoIWRlc2MpIHtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3AsIHtcbiAgICAgICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW3ByaXZdPy5bcHJvcF0gPz8gZGVmYXVsdFZhbHVlKGRlY2xhcmF0aW9uKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0KHY6IGFueSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodiAhPT0gdGhpc1twcm9wXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1twcml2XSA/Pz0ge31cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbcHJpdl1bcHJvcF0gPSB2XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeShuYW1lKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGBzZXRfJHtuYW1lLnJlcGxhY2UoXCItXCIsIFwiX1wiKX1gLCB7XG4gICAgICAgICAgICAgICAgdmFsdWUodjogYW55KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbcHJvcF0gPSB2XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGBnZXRfJHtuYW1lLnJlcGxhY2UoXCItXCIsIFwiX1wiKX1gLCB7XG4gICAgICAgICAgICAgICAgdmFsdWUoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW3Byb3BdXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIHRhcmdldC5jb25zdHJ1Y3RvclttZXRhXS5Qcm9wZXJ0aWVzW2tlYmFiaWZ5KHByb3ApXSA9IHBzcGVjKG5hbWUsIFBhcmFtRmxhZ3MuUkVBRFdSSVRFLCBkZWNsYXJhdGlvbilcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBmbGFncyA9IDBcbiAgICAgICAgICAgIGlmIChkZXNjLmdldCkgZmxhZ3MgfD0gUGFyYW1GbGFncy5SRUFEQUJMRVxuICAgICAgICAgICAgaWYgKGRlc2Muc2V0KSBmbGFncyB8PSBQYXJhbUZsYWdzLldSSVRBQkxFXG5cbiAgICAgICAgICAgIHRhcmdldC5jb25zdHJ1Y3RvclttZXRhXS5Qcm9wZXJ0aWVzW2tlYmFiaWZ5KHByb3ApXSA9IHBzcGVjKG5hbWUsIGZsYWdzLCBkZWNsYXJhdGlvbilcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNpZ25hbCguLi5wYXJhbXM6IEFycmF5PHsgJGd0eXBlOiBHT2JqZWN0LkdUeXBlIH0gfCB0eXBlb2YgT2JqZWN0Pik6XG4odGFyZ2V0OiBhbnksIHNpZ25hbDogYW55LCBkZXNjPzogUHJvcGVydHlEZXNjcmlwdG9yKSA9PiB2b2lkXG5cbmV4cG9ydCBmdW5jdGlvbiBzaWduYWwoZGVjbGFyYXRpb24/OiBTaWduYWxEZWNsYXJhdGlvbik6XG4odGFyZ2V0OiBhbnksIHNpZ25hbDogYW55LCBkZXNjPzogUHJvcGVydHlEZXNjcmlwdG9yKSA9PiB2b2lkXG5cbmV4cG9ydCBmdW5jdGlvbiBzaWduYWwoXG4gICAgZGVjbGFyYXRpb24/OiBTaWduYWxEZWNsYXJhdGlvbiB8IHsgJGd0eXBlOiBHT2JqZWN0LkdUeXBlIH0gfCB0eXBlb2YgT2JqZWN0LFxuICAgIC4uLnBhcmFtczogQXJyYXk8eyAkZ3R5cGU6IEdPYmplY3QuR1R5cGUgfSB8IHR5cGVvZiBPYmplY3Q+XG4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldDogYW55LCBzaWduYWw6IGFueSwgZGVzYz86IFByb3BlcnR5RGVzY3JpcHRvcikge1xuICAgICAgICB0YXJnZXQuY29uc3RydWN0b3JbbWV0YV0gPz89IHt9XG4gICAgICAgIHRhcmdldC5jb25zdHJ1Y3RvclttZXRhXS5TaWduYWxzID8/PSB7fVxuXG4gICAgICAgIGNvbnN0IG5hbWUgPSBrZWJhYmlmeShzaWduYWwpXG5cbiAgICAgICAgaWYgKGRlY2xhcmF0aW9uIHx8IHBhcmFtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRPRE86IHR5cGUgYXNzZXJ0XG4gICAgICAgICAgICBjb25zdCBhcnIgPSBbZGVjbGFyYXRpb24sIC4uLnBhcmFtc10ubWFwKHYgPT4gdi4kZ3R5cGUpXG4gICAgICAgICAgICB0YXJnZXQuY29uc3RydWN0b3JbbWV0YV0uU2lnbmFsc1tuYW1lXSA9IHtcbiAgICAgICAgICAgICAgICBwYXJhbV90eXBlczogYXJyLFxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0LmNvbnN0cnVjdG9yW21ldGFdLlNpZ25hbHNbbmFtZV0gPSBkZWNsYXJhdGlvbiB8fCB7XG4gICAgICAgICAgICAgICAgcGFyYW1fdHlwZXM6IFtdLFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkZXNjKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBzaWduYWwsIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gKC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChuYW1lLCAuLi5hcmdzKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgb2c6ICgoLi4uYXJnczogYW55W10pID0+IHZvaWQpID0gZGVzYy52YWx1ZVxuICAgICAgICAgICAgZGVzYy52YWx1ZSA9IGZ1bmN0aW9uICguLi5hcmdzOiBhbnlbXSkge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3Igbm90IHR5cGVkXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KG5hbWUsIC4uLmFyZ3MpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBgb25fJHtuYW1lLnJlcGxhY2UoXCItXCIsIFwiX1wiKX1gLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uICguLi5hcmdzOiBhbnlbXSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2cuYXBwbHkodGhpcywgYXJncylcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gcHNwZWMobmFtZTogc3RyaW5nLCBmbGFnczogbnVtYmVyLCBkZWNsYXJhdGlvbjogUHJvcGVydHlEZWNsYXJhdGlvbikge1xuICAgIGlmIChkZWNsYXJhdGlvbiBpbnN0YW5jZW9mIFBhcmFtU3BlYylcbiAgICAgICAgcmV0dXJuIGRlY2xhcmF0aW9uXG5cbiAgICBzd2l0Y2ggKGRlY2xhcmF0aW9uKSB7XG4gICAgICAgIGNhc2UgU3RyaW5nOlxuICAgICAgICAgICAgcmV0dXJuIFBhcmFtU3BlYy5zdHJpbmcobmFtZSwgXCJcIiwgXCJcIiwgZmxhZ3MsIFwiXCIpXG4gICAgICAgIGNhc2UgTnVtYmVyOlxuICAgICAgICAgICAgcmV0dXJuIFBhcmFtU3BlYy5kb3VibGUobmFtZSwgXCJcIiwgXCJcIiwgZmxhZ3MsIC1OdW1iZXIuTUFYX1ZBTFVFLCBOdW1iZXIuTUFYX1ZBTFVFLCAwKVxuICAgICAgICBjYXNlIEJvb2xlYW46XG4gICAgICAgICAgICByZXR1cm4gUGFyYW1TcGVjLmJvb2xlYW4obmFtZSwgXCJcIiwgXCJcIiwgZmxhZ3MsIGZhbHNlKVxuICAgICAgICBjYXNlIE9iamVjdDpcbiAgICAgICAgICAgIHJldHVybiBQYXJhbVNwZWMuanNvYmplY3QobmFtZSwgXCJcIiwgXCJcIiwgZmxhZ3MpXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIG1pc3N0eXBlZFxuICAgICAgICAgICAgcmV0dXJuIFBhcmFtU3BlYy5vYmplY3QobmFtZSwgXCJcIiwgXCJcIiwgZmxhZ3MsIGRlY2xhcmF0aW9uLiRndHlwZSlcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRWYWx1ZShkZWNsYXJhdGlvbjogUHJvcGVydHlEZWNsYXJhdGlvbikge1xuICAgIGlmIChkZWNsYXJhdGlvbiBpbnN0YW5jZW9mIFBhcmFtU3BlYylcbiAgICAgICAgcmV0dXJuIGRlY2xhcmF0aW9uLmdldF9kZWZhdWx0X3ZhbHVlKClcblxuICAgIHN3aXRjaCAoZGVjbGFyYXRpb24pIHtcbiAgICAgICAgY2FzZSBTdHJpbmc6XG4gICAgICAgICAgICByZXR1cm4gXCJcIlxuICAgICAgICBjYXNlIE51bWJlcjpcbiAgICAgICAgICAgIHJldHVybiAwXG4gICAgICAgIGNhc2UgQm9vbGVhbjpcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICBjYXNlIE9iamVjdDpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgfVxufVxuIiwgImltcG9ydCBHdGsgZnJvbSBcImdpOi8vR3RrP3ZlcnNpb249NC4wXCJcbmltcG9ydCB7IHR5cGUgQmluZGFibGVDaGlsZCB9IGZyb20gXCIuL2FzdGFsaWZ5LmpzXCJcbmltcG9ydCB7IG1lcmdlQmluZGluZ3MsIGpzeCBhcyBfanN4IH0gZnJvbSBcIi4uL19hc3RhbC5qc1wiXG5pbXBvcnQgKiBhcyBXaWRnZXQgZnJvbSBcIi4vd2lkZ2V0LmpzXCJcblxuZXhwb3J0IGZ1bmN0aW9uIEZyYWdtZW50KHsgY2hpbGRyZW4gPSBbXSwgY2hpbGQgfToge1xuICAgIGNoaWxkPzogQmluZGFibGVDaGlsZFxuICAgIGNoaWxkcmVuPzogQXJyYXk8QmluZGFibGVDaGlsZD5cbn0pIHtcbiAgICBpZiAoY2hpbGQpIGNoaWxkcmVuLnB1c2goY2hpbGQpXG4gICAgcmV0dXJuIG1lcmdlQmluZGluZ3MoY2hpbGRyZW4pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBqc3goXG4gICAgY3Rvcjoga2V5b2YgdHlwZW9mIGN0b3JzIHwgdHlwZW9mIEd0ay5XaWRnZXQsXG4gICAgcHJvcHM6IGFueSxcbikge1xuICAgIHJldHVybiBfanN4KGN0b3JzLCBjdG9yIGFzIGFueSwgcHJvcHMpXG59XG5cbmNvbnN0IGN0b3JzID0ge1xuICAgIGJveDogV2lkZ2V0LkJveCxcbiAgICBidXR0b246IFdpZGdldC5CdXR0b24sXG4gICAgY2VudGVyYm94OiBXaWRnZXQuQ2VudGVyQm94LFxuICAgIC8vIGNpcmN1bGFycHJvZ3Jlc3M6IFdpZGdldC5DaXJjdWxhclByb2dyZXNzLFxuICAgIC8vIGRyYXdpbmdhcmVhOiBXaWRnZXQuRHJhd2luZ0FyZWEsXG4gICAgZW50cnk6IFdpZGdldC5FbnRyeSxcbiAgICBpbWFnZTogV2lkZ2V0LkltYWdlLFxuICAgIGxhYmVsOiBXaWRnZXQuTGFiZWwsXG4gICAgbGV2ZWxiYXI6IFdpZGdldC5MZXZlbEJhcixcbiAgICBvdmVybGF5OiBXaWRnZXQuT3ZlcmxheSxcbiAgICByZXZlYWxlcjogV2lkZ2V0LlJldmVhbGVyLFxuICAgIHNsaWRlcjogV2lkZ2V0LlNsaWRlcixcbiAgICBzdGFjazogV2lkZ2V0LlN0YWNrLFxuICAgIHN3aXRjaDogV2lkZ2V0LlN3aXRjaCxcbiAgICB3aW5kb3c6IFdpZGdldC5XaW5kb3csXG4gICAgbWVudWJ1dHRvbjogV2lkZ2V0Lk1lbnVCdXR0b24sXG4gICAgcG9wb3ZlcjogV2lkZ2V0LlBvcG92ZXIsXG59XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5hbWVzcGFjZVxuICAgIG5hbWVzcGFjZSBKU1gge1xuICAgICAgICB0eXBlIEVsZW1lbnQgPSBHdGsuV2lkZ2V0XG4gICAgICAgIHR5cGUgRWxlbWVudENsYXNzID0gR3RrLldpZGdldFxuICAgICAgICBpbnRlcmZhY2UgSW50cmluc2ljRWxlbWVudHMge1xuICAgICAgICAgICAgYm94OiBXaWRnZXQuQm94UHJvcHNcbiAgICAgICAgICAgIGJ1dHRvbjogV2lkZ2V0LkJ1dHRvblByb3BzXG4gICAgICAgICAgICBjZW50ZXJib3g6IFdpZGdldC5DZW50ZXJCb3hQcm9wc1xuICAgICAgICAgICAgLy8gY2lyY3VsYXJwcm9ncmVzczogV2lkZ2V0LkNpcmN1bGFyUHJvZ3Jlc3NQcm9wc1xuICAgICAgICAgICAgLy8gZHJhd2luZ2FyZWE6IFdpZGdldC5EcmF3aW5nQXJlYVByb3BzXG4gICAgICAgICAgICBlbnRyeTogV2lkZ2V0LkVudHJ5UHJvcHNcbiAgICAgICAgICAgIGltYWdlOiBXaWRnZXQuSW1hZ2VQcm9wc1xuICAgICAgICAgICAgbGFiZWw6IFdpZGdldC5MYWJlbFByb3BzXG4gICAgICAgICAgICBsZXZlbGJhcjogV2lkZ2V0LkxldmVsQmFyUHJvcHNcbiAgICAgICAgICAgIG92ZXJsYXk6IFdpZGdldC5PdmVybGF5UHJvcHNcbiAgICAgICAgICAgIHJldmVhbGVyOiBXaWRnZXQuUmV2ZWFsZXJQcm9wc1xuICAgICAgICAgICAgc2xpZGVyOiBXaWRnZXQuU2xpZGVyUHJvcHNcbiAgICAgICAgICAgIHN0YWNrOiBXaWRnZXQuU3RhY2tQcm9wc1xuICAgICAgICAgICAgc3dpdGNoOiBXaWRnZXQuU3dpdGNoUHJvcHNcbiAgICAgICAgICAgIHdpbmRvdzogV2lkZ2V0LldpbmRvd1Byb3BzXG4gICAgICAgICAgICBtZW51YnV0dG9uOiBXaWRnZXQuTWVudUJ1dHRvblByb3BzXG4gICAgICAgICAgICBwb3BvdmVyOiBXaWRnZXQuUG9wb3ZlclByb3BzXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBqc3hzID0ganN4XG4iLCAiaW1wb3J0IHsgcG9pbnRlciB9IGZyb20gXCIuLi8uLi8uLi9taXNjL2N1cnNvclwiXG5pbXBvcnQgeyBleGVjQXN5bmMgfSBmcm9tIFwiYXN0YWxcIlxuXG5jb25zdCBMYXVuY2hlciA9ICgpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8Ym94IG5hbWU9e1wiTGF1bmNoZXJcIn0gY3NzQ2xhc3Nlcz17W1wiTGF1bmNoZXJcIl19PlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG5hbWU9e1wiTGF1bmNoZXJCdXR0b25cIn1cbiAgICAgICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJJY29uXCIsIFwiTGF1bmNoZXJCdXR0b25cIl19XG4gICAgICAgICAgICAgICAgb25DbGlja2VkPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGV4ZWNBc3luYyhcbiAgICAgICAgICAgICAgICAgICAgICAgIGByb2ZpIC1zaG93IGRydW4gLXJ1bi1jb21tYW5kIFwidXdzbSBhcHAgLS0ge2NtZH1cImBcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgdG9vbHRpcFRleHQ9e1wiTGF1bmNoZXJcIn1cbiAgICAgICAgICAgICAgICBjdXJzb3I9e3BvaW50ZXJ9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGxhYmVsPXtcIlx1REI4Mlx1RENDN1wifSAvPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvYm94PlxuICAgIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgTGF1bmNoZXJcbiIsICJpbXBvcnQgeyBiaW5kLCBWYXJpYWJsZSB9IGZyb20gXCJhc3RhbFwiXG5pbXBvcnQgeyBHZGssIEd0ayB9IGZyb20gXCJhc3RhbC9ndGs0XCJcbmltcG9ydCBBc3RhbEh5cHJsYW5kIGZyb20gXCJnaTovL0FzdGFsSHlwcmxhbmQ/dmVyc2lvbj0wLjFcIlxuaW1wb3J0IHsgX2RlZmF1bHQsIHBvaW50ZXIgfSBmcm9tIFwiLi4vLi4vLi4vbWlzYy9jdXJzb3JcIlxuXG5jb25zdCBtYXhXb3Jrc3BhY2VzID0gNVxuY29uc3Qgd29ya3NwYWNlcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IG1heFdvcmtzcGFjZXMgLSAxIH0sIChfLCBpKSA9PiBpKVxuY29uc3QgaHlwcmxhbmQgPSBBc3RhbEh5cHJsYW5kLmdldF9kZWZhdWx0KClcblxuY29uc3QgV29ya3NwYWNlcyA9ICgpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8Ym94XG4gICAgICAgICAgICBuYW1lPXtcIldvcmtzcGFjZXNcIn1cbiAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIldvcmtzcGFjZXNcIl19XG4gICAgICAgICAgICBoYWxpZ249e0d0ay5BbGlnbi5DRU5URVJ9XG4gICAgICAgICAgICB2YWxpZ249e0d0ay5BbGlnbi5CQVNFTElORX1cbiAgICAgICAgICAgIHNwYWNpbmc9ezN9XG4gICAgICAgID5cbiAgICAgICAgICAgIHt3b3Jrc3BhY2VzLm1hcCgoaSkgPT4gKFxuICAgICAgICAgICAgICAgIDxXb3Jrc3BhY2VCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgd29ya3NwYWNlPXtBc3RhbEh5cHJsYW5kLldvcmtzcGFjZS5kdW1teShpICsgMSwgbnVsbCl9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkpfVxuXG4gICAgICAgICAgICB7YmluZChoeXBybGFuZCwgXCJmb2N1c2VkV29ya3NwYWNlXCIpLmFzKChmb2N1c2VkKSA9PiAoXG4gICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAge2ZvY3VzZWQgJiYgZm9jdXNlZC5pZCA+IG1heFdvcmtzcGFjZXMgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8V29ya3NwYWNlQnV0dG9uIHdvcmtzcGFjZT17Zm9jdXNlZH0gLz5cbiAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxXb3Jrc3BhY2VCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3Jrc3BhY2U9e0FzdGFsSHlwcmxhbmQuV29ya3NwYWNlLmR1bW15KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhXb3Jrc3BhY2VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgPC9ib3g+XG4gICAgKVxufVxuXG5pbnRlcmZhY2UgV29ya3NwYWNlQnV0dG9uUHJvcHMge1xuICAgIHdvcmtzcGFjZTogQXN0YWxIeXBybGFuZC5Xb3Jrc3BhY2Vcbn1cblxuY29uc3QgV29ya3NwYWNlQnV0dG9uID0gKHsgd29ya3NwYWNlIH06IFdvcmtzcGFjZUJ1dHRvblByb3BzKSA9PiB7XG4gICAgY29uc3QgY29uZlZhciA9IFZhcmlhYmxlLmRlcml2ZShcbiAgICAgICAgW2JpbmQoaHlwcmxhbmQsIFwiZm9jdXNlZFdvcmtzcGFjZVwiKSwgYmluZChoeXBybGFuZCwgXCJjbGllbnRzXCIpXSxcbiAgICAgICAgKGZvY3VzZWQsIF9jbGllbnRzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjbGFzc2VzID0gW1wiV29ya3NwYWNlQnV0dG9uXCJdXG4gICAgICAgICAgICBsZXQgY3Vyc29yOiBHZGsuQ3Vyc29yID0gcG9pbnRlclxuICAgICAgICAgICAgbGV0IHRvb2x0aXBUZXh0OiBzdHJpbmcgPSBgU3dpdGNoIFdvcmtzcGFjZSAke3dvcmtzcGFjZS5pZH1gXG5cbiAgICAgICAgICAgIGlmIChmb2N1c2VkICYmIGZvY3VzZWQuaWQgPT09IHdvcmtzcGFjZS5pZCkge1xuICAgICAgICAgICAgICAgIGNsYXNzZXMucHVzaChcIkFjdGl2ZVwiKVxuICAgICAgICAgICAgICAgIGN1cnNvciA9IF9kZWZhdWx0XG4gICAgICAgICAgICAgICAgdG9vbHRpcFRleHQgPSBcIlwiXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGNsaWVudHMgPVxuICAgICAgICAgICAgICAgIGh5cHJsYW5kLmdldF93b3Jrc3BhY2Uod29ya3NwYWNlLmlkKT8uZ2V0X2NsaWVudHMoKSB8fCBbXVxuXG4gICAgICAgICAgICBpZiAoY2xpZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKFwiSGFzQ2xpZW50XCIpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY2xhc3NlcyxcbiAgICAgICAgICAgICAgICBjdXJzb3IsXG4gICAgICAgICAgICAgICAgdG9vbHRpcFRleHQsXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICApXG4gICAgY29uc3QgY29uZiA9IGNvbmZWYXIoKVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgbmFtZT17YFdvcmtzcGFjZUJ1dHRvbi0ke3dvcmtzcGFjZS5pZH1gfVxuICAgICAgICAgICAgY3NzQ2xhc3Nlcz17Y29uZi5hcygoYykgPT4gYy5jbGFzc2VzKX1cbiAgICAgICAgICAgIG9uQ2xpY2tlZD17KCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh3b3Jrc3BhY2UuaWQgPT09IGh5cHJsYW5kLmdldF9mb2N1c2VkX3dvcmtzcGFjZSgpPy5pZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB3b3Jrc3BhY2UuZm9jdXMoKVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIG9uRGVzdHJveT17KCkgPT4gY29uZlZhci5kcm9wKCl9XG4gICAgICAgICAgICB0b29sdGlwVGV4dD17Y29uZi5hcygoYykgPT4gYy50b29sdGlwVGV4dCl9XG4gICAgICAgICAgICBjdXJzb3I9e2NvbmYuYXMoKGMpID0+IGMuY3Vyc29yKX1cbiAgICAgICAgPlxuICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgbGFiZWw9e3dvcmtzcGFjZS5uYW1lID09IFwiMTBcIiA/IFwiMFwiIDogd29ya3NwYWNlLm5hbWV9XG4gICAgICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiV29ya3NwYWNlQnV0dG9uTGFiZWxcIl19XG4gICAgICAgICAgICAgICAgdXNlVW5kZXJsaW5lPXt0cnVlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgPC9idXR0b24+XG4gICAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBXb3Jrc3BhY2VzXG4iLCAiaW1wb3J0IHsgYmluZCwgVmFyaWFibGUgfSBmcm9tIFwiYXN0YWxcIlxuaW1wb3J0IHsgR3RrIH0gZnJvbSBcImFzdGFsL2d0azRcIlxuaW1wb3J0IEFzdGFsSHlwcmxhbmQgZnJvbSBcImdpOi8vQXN0YWxIeXBybGFuZD92ZXJzaW9uPTAuMVwiXG5pbXBvcnQgUGFuZ28gZnJvbSBcImdpOi8vUGFuZ28/dmVyc2lvbj0xLjBcIlxuXG5jb25zdCBoeXBybGFuZCA9IEFzdGFsSHlwcmxhbmQuZ2V0X2RlZmF1bHQoKVxuXG5jb25zdCBGb2N1c2VkQ2xpZW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IGZvY3VzZWRDbGllbnQgPSBWYXJpYWJsZS5kZXJpdmUoXG4gICAgICAgIFtiaW5kKGh5cHJsYW5kLCBcImZvY3VzZWRDbGllbnRcIiksIGJpbmQoaHlwcmxhbmQsIFwiY2xpZW50c1wiKV0sXG4gICAgICAgIChmb2N1c2VkQ2xpZW50LCBfY2xpZW50cykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGZvY3VzZWRDbGllbnQ/LnRpdGxlIHx8IFwiXCJcbiAgICAgICAgfVxuICAgIClcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxib3hcbiAgICAgICAgICAgIG5hbWU9e1wiRm9jdXNlZENsaWVudFwifVxuICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiRm9jdXNlZENsaWVudFwiXX1cbiAgICAgICAgICAgIGhhbGlnbj17R3RrLkFsaWduLkNFTlRFUn1cbiAgICAgICAgICAgIHZhbGlnbj17R3RrLkFsaWduLkJBU0VMSU5FfVxuICAgICAgICA+XG4gICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICBsYWJlbD17Zm9jdXNlZENsaWVudCgpfVxuICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIkZvY3VzZWRDbGllbnRMYWJlbFwiXX1cbiAgICAgICAgICAgICAgICBvbkRlc3Ryb3k9eygpID0+IGZvY3VzZWRDbGllbnQuZHJvcCgpfVxuICAgICAgICAgICAgICAgIG1heFdpZHRoQ2hhcnM9ezM2fVxuICAgICAgICAgICAgICAgIGVsbGlwc2l6ZT17UGFuZ28uRWxsaXBzaXplTW9kZS5NSURETEV9XG4gICAgICAgICAgICAvPlxuICAgICAgICA8L2JveD5cbiAgICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IEZvY3VzZWRDbGllbnRcbiIsICJpbXBvcnQgeyBHdGsgfSBmcm9tIFwiYXN0YWwvZ3RrNFwiXG5pbXBvcnQgTGF1bmNoZXIgZnJvbSBcIi4vTW9kdWxlcy9MYXVuY2hlclwiXG5pbXBvcnQgV29ya3NwYWNlcyBmcm9tIFwiLi9Nb2R1bGVzL1dvcmtzcGFjZXNcIlxuaW1wb3J0IEZvY3VzZWRDbGllbnQgZnJvbSBcIi4vTW9kdWxlcy9Gb2N1c2VkQ2xpZW50XCJcblxuZXhwb3J0IGludGVyZmFjZSBTdGFydFByb3BzIHtcbiAgICBuYW1lOiBzdHJpbmdcbn1cblxuY29uc3QgU3RhcnQgPSAoeyBuYW1lIH06IFN0YXJ0UHJvcHMpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8Ym94XG4gICAgICAgICAgICBuYW1lPXtgQmFyU3RhcnQtJHtuYW1lfWB9XG4gICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJCYXJTZWN0aW9uXCIsIFwiQmFyU3RhcnRcIl19XG4gICAgICAgICAgICBoZXhwYW5kPXt0cnVlfVxuICAgICAgICA+XG4gICAgICAgICAgICA8TGF1bmNoZXIgLz5cblxuICAgICAgICAgICAgey8qIHNlcGFyYXRvciAqL31cbiAgICAgICAgICAgIDxHdGsuU2VwYXJhdG9yXG4gICAgICAgICAgICAgICAgb3JpZW50YXRpb249e0d0ay5PcmllbnRhdGlvbi5WRVJUSUNBTH1cbiAgICAgICAgICAgICAgICB2aXNpYmxlPXt0cnVlfVxuICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgey8qIHdvcmtzcGFjZXMgKi99XG4gICAgICAgICAgICA8V29ya3NwYWNlcyAvPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7Lyogc2VwYXJhdG9yICovfVxuICAgICAgICAgICAgPEd0ay5TZXBhcmF0b3JcbiAgICAgICAgICAgICAgICBvcmllbnRhdGlvbj17R3RrLk9yaWVudGF0aW9uLlZFUlRJQ0FMfVxuICAgICAgICAgICAgICAgIHZpc2libGU9e3RydWV9XG4gICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICB7LyogZm9jdXNlZCBjbGllbnQgKi99XG4gICAgICAgICAgICA8Rm9jdXNlZENsaWVudCAvPlxuICAgICAgICA8L2JveD5cbiAgICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IFN0YXJ0XG4iLCAiaW1wb3J0IHsgYmluZH0gZnJvbSBcImFzdGFsXCJcbmltcG9ydCB7IEd0ayB9IGZyb20gXCJhc3RhbC9ndGs0XCJcbmltcG9ydCBBc3RhbFRyYXkgZnJvbSBcImdpOi8vQXN0YWxUcmF5P3ZlcnNpb249MC4xXCJcbmltcG9ydCB7IHBvaW50ZXIgfSBmcm9tIFwiLi4vLi4vLi4vbWlzYy9jdXJzb3JcIlxuaW1wb3J0IHsgdG9UaXRsZUNhc2UgfSBmcm9tIFwiLi4vLi4vLi4vbGliL3V0aWxzXCJcblxuY29uc3QgVVNFX0NVU1RPTV9JQ09OUyA9IFsvc3RlYW0vaV1cbmNvbnN0IENVU1RPTV9JQ09OUzogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICBkaXNjb3JkOiBcIlx1RjFGRlwiLFxuICAgIHN0ZWFtOiBcIlx1RjFCNlwiLFxuICAgIHNwb3RpZnk6IFwiXHVGMUJDXCIsXG59XG5cbmNvbnN0IGdldFNlYXJjaFdpdGggPSAoaXRlbTogQXN0YWxUcmF5LlRyYXlJdGVtKSA9PiB7XG4gICAgY29uc3QgdGl0bGUgPSBpdGVtLnRpdGxlXG4gICAgY29uc3QgdG9vbHRpcE1hcmt1cCA9IGl0ZW0udG9vbHRpcE1hcmt1cFxuICAgIHJldHVybiB0aXRsZSAmJiB0aXRsZS5sZW5ndGggPyB0aXRsZSA6IHRvb2x0aXBNYXJrdXBcbn1cblxuY29uc3Qgc2hvdWxkVXNlQ3VzdG9tSWNvbiA9IChpdGVtOiBBc3RhbFRyYXkuVHJheUl0ZW0pID0+IHtcbiAgICBjb25zdCBzZWFyY2hXaXRoID0gZ2V0U2VhcmNoV2l0aChpdGVtKVxuXG4gICAgcmV0dXJuIFVTRV9DVVNUT01fSUNPTlMuc29tZSgocmVnZXgpID0+IHNlYXJjaFdpdGgubWF0Y2gocmVnZXgpKVxufVxuXG5jb25zdCBnZXRDdXN0b21JY29uID0gKGl0ZW06IEFzdGFsVHJheS5UcmF5SXRlbSkgPT4ge1xuICAgIGNvbnN0IHNlYXJjaFdpdGggPSBnZXRTZWFyY2hXaXRoKGl0ZW0pXG5cbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhDVVNUT01fSUNPTlMpKSB7XG4gICAgICAgIGlmIChzZWFyY2hXaXRoLm1hdGNoKG5ldyBSZWdFeHAoa2V5LCBcImlcIikpKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWVcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBcIlx1REI4Mlx1REMyQlwiXG59XG5cbmNvbnN0IGdldFRvb2x0aXBNYXJrdXAgPSAoaXRlbTogQXN0YWxUcmF5LlRyYXlJdGVtKSA9PiB7XG4gICAgLy8geWVhaCBjYW4gdXNlIHRoaXMgdG8gZ2V0IHRoZSB0b29sdGlwIG1hcmt1cFxuICAgIHJldHVybiB0b1RpdGxlQ2FzZShnZXRTZWFyY2hXaXRoKGl0ZW0pKVxufVxuXG5jb25zdCBJbWFnZUljb24gPSAoeyBpdGVtIH06IHsgaXRlbTogQXN0YWxUcmF5LlRyYXlJdGVtIH0pID0+IHtcbiAgICBpZiAoc2hvdWxkVXNlQ3VzdG9tSWNvbihpdGVtKSkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiVHJheUxhYmVsSWNvblwiXX1cbiAgICAgICAgICAgICAgICBsYWJlbD17Z2V0Q3VzdG9tSWNvbihpdGVtKX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgIClcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8aW1hZ2VcbiAgICAgICAgICAgIGdpY29uPXtiaW5kKGl0ZW0sIFwiZ2ljb25cIil9XG4gICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJUcmF5SW1hZ2VJY29uXCJdfVxuICAgICAgICAgICAgcGl4ZWxTaXplPXsxOH0gLy8gRG9uJ3QgZm9nZXQgdG8gYWRqdXN0IC5UcmF5TGFiZWxJY29uIHN0eWxlIHRvb1xuICAgICAgICAvPlxuICAgIClcbn1cblxuY29uc3QgTWVudUJ1dHRvbiA9ICh7IGl0ZW0gfTogeyBpdGVtOiBBc3RhbFRyYXkuVHJheUl0ZW0gfSkgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxtZW51YnV0dG9uXG4gICAgICAgICAgICBzZXR1cD17KHNlbGYpID0+IHtcbiAgICAgICAgICAgICAgICBzZWxmLmluc2VydF9hY3Rpb25fZ3JvdXAoXCJkYnVzbWVudVwiLCBpdGVtLmFjdGlvbkdyb3VwKVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIGN1cnNvcj17cG9pbnRlcn1cbiAgICAgICAgICAgIHRvb2x0aXBNYXJrdXA9e2dldFRvb2x0aXBNYXJrdXAoaXRlbSl9XG4gICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJUcmF5TWVudUJ1dHRvblwiXX1cbiAgICAgICAgICAgIGhhbGlnbj17R3RrLkFsaWduLkNFTlRFUn1cbiAgICAgICAgICAgIHZhbGlnbj17R3RrLkFsaWduLkNFTlRFUn1cbiAgICAgICAgPlxuICAgICAgICAgICAgPEltYWdlSWNvbiBpdGVtPXtpdGVtfSAvPlxuICAgICAgICAgICAge0d0ay5Qb3BvdmVyTWVudS5uZXdfZnJvbV9tb2RlbChpdGVtLm1lbnVNb2RlbCl9XG4gICAgICAgIDwvbWVudWJ1dHRvbj5cbiAgICApXG59XG5cbmNvbnN0IFRyYXkgPSAoKSA9PiB7XG4gICAgY29uc3QgdHJheSA9IEFzdGFsVHJheS5nZXRfZGVmYXVsdCgpXG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8Ym94XG4gICAgICAgICAgICBuYW1lPXtcIlRyYXlcIn1cbiAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIlRyYXlcIl19XG4gICAgICAgICAgICBzcGFjaW5nPXsxMH1cbiAgICAgICAgICAgIHZhbGlnbj17R3RrLkFsaWduLkNFTlRFUn1cbiAgICAgICAgPlxuICAgICAgICAgICAge2JpbmQodHJheSwgXCJpdGVtc1wiKS5hcygoaXRlbXMpID0+XG4gICAgICAgICAgICAgICAgaXRlbXMubWFwKChpdGVtKSA9PiA8TWVudUJ1dHRvbiBpdGVtPXtpdGVtfSAvPilcbiAgICAgICAgICAgICl9XG4gICAgICAgIDwvYm94PlxuICAgIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgVHJheVxuIiwgImV4cG9ydCBjb25zdCB0b1RpdGxlQ2FzZSA9IChzdHI6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiBzdHJcbiAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgLnNwbGl0KFwiIFwiKVxuICAgICAgICAubWFwKCh3b3JkKSA9PiB3b3JkLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgd29yZC5zbGljZSgxKSlcbiAgICAgICAgLmpvaW4oXCIgXCIpXG59XG5cbmV4cG9ydCBjb25zdCBkZWJvdW5jZSA9IChjYWxsYmFjazogYW55LCB3YWl0OiBudW1iZXIpID0+IHtcbiAgICBsZXQgdGltZW91dDogbnVtYmVyIHwgbnVsbCA9IG51bGxcblxuICAgIHJldHVybiAoLi4uYXJnczogdW5rbm93bltdKSA9PiB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0IGFzIG51bWJlcilcblxuICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBjYWxsYmFjayguLi5hcmdzKVxuICAgICAgICB9LCB3YWl0KSBhcyB1bmtub3duIGFzIG51bWJlclxuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBiaW5kLCBWYXJpYWJsZSB9IGZyb20gXCJhc3RhbFwiXG5pbXBvcnQgeyBHZGssIEd0ayB9IGZyb20gXCJhc3RhbC9ndGs0XCJcbmltcG9ydCBBc3RhbE1wcmlzIGZyb20gXCJnaTovL0FzdGFsTXByaXNcIlxuaW1wb3J0IFBhbmdvIGZyb20gXCJnaTovL1BhbmdvP3ZlcnNpb249MS4wXCJcbmltcG9ydCB7IG5vdEFsbG93ZWQsIHBvaW50ZXIgfSBmcm9tIFwiLi4vLi4vLi4vbWlzYy9jdXJzb3JcIlxuaW1wb3J0IEFzdGFsSHlwcmxhbmQgZnJvbSBcImdpOi8vQXN0YWxIeXBybGFuZD92ZXJzaW9uPTAuMVwiXG5cbmNvbnN0IGh5cHJsYW5kID0gQXN0YWxIeXBybGFuZC5nZXRfZGVmYXVsdCgpXG5cbmludGVyZmFjZSBNZWRpYVByb3Mge1xuICAgIHBsYXllcjogQXN0YWxNcHJpcy5QbGF5ZXJcbn1cblxuY29uc3QgTWVkaWEgPSAoeyBwbGF5ZXIgfTogTWVkaWFQcm9zKSA9PiB7XG4gICAgaWYgKCFwbGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuIDxib3ggLz5cbiAgICB9XG5cbiAgICBjb25zdCBjb3ZlckFydCA9IGJpbmQocGxheWVyLCBcImNvdmVyQXJ0XCIpXG4gICAgY29uc3QgdGl0bGUgPSBiaW5kKHBsYXllciwgXCJ0aXRsZVwiKS5hcygodCkgPT4gdClcbiAgICBjb25zdCBwbGF5SWNvbiA9IGJpbmQocGxheWVyLCBcInBsYXliYWNrU3RhdHVzXCIpLmFzKChzKSA9PlxuICAgICAgICBzID09PSBBc3RhbE1wcmlzLlBsYXliYWNrU3RhdHVzLlBMQVlJTkcgPyBcIlx1RjA0QlwiIDogXCJcdUYwNENcIlxuICAgIClcblxuICAgIGNvbnN0IGdvUHJldkN1cnNvciA9IGJpbmQocGxheWVyLCBcImNhbkdvUHJldmlvdXNcIikuYXMoKGNhbkdvKSA9PlxuICAgICAgICBjYW5HbyA/IHBvaW50ZXIgOiBub3RBbGxvd2VkXG4gICAgKVxuICAgIGNvbnN0IGdvTmV4dEN1cnNvciA9IGJpbmQocGxheWVyLCBcImNhbkdvTmV4dFwiKS5hcygoY2FuR28pID0+XG4gICAgICAgIGNhbkdvID8gcG9pbnRlciA6IG5vdEFsbG93ZWRcbiAgICApXG4gICAgY29uc3QgY2xhc3Nlc3NWYXJzID0gVmFyaWFibGUuZGVyaXZlKFxuICAgICAgICBbYmluZChwbGF5ZXIsIFwiY2FuR29QcmV2aW91c1wiKSwgYmluZChwbGF5ZXIsIFwiY2FuR29OZXh0XCIpXSxcbiAgICAgICAgKGNhbkdvUHJldiwgY2FuR29OZXh0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjbGFzc2VzID0gW1wiSWNvblwiLCBcIk1lZGlhUGxheWJhY2tCdXR0b25cIl1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBnb1ByZXY6IGNhbkdvUHJldiA/IGNsYXNzZXMgOiBbLi4uY2xhc3NlcywgXCJEaXNhYmxlZFwiXSxcbiAgICAgICAgICAgICAgICBnb05leHQ6IGNhbkdvTmV4dCA/IGNsYXNzZXMgOiBbLi4uY2xhc3NlcywgXCJEaXNhYmxlZFwiXSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIClcbiAgICBjb25zdCBjbGFzc2VzcyA9IGNsYXNzZXNzVmFycygpXG5cbiAgICBmdW5jdGlvbiByYWlzZVBsYXllcigpIHtcbiAgICAgICAgaWYgKHBsYXllci5nZXRfY2FuX3JhaXNlKCkpIHtcbiAgICAgICAgICAgIHBsYXllci5yYWlzZSgpXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjbGllbnRzID0gaHlwcmxhbmQuZ2V0X2NsaWVudHMoKVxuICAgICAgICBjb25zdCBjbGllbnQgPSBjbGllbnRzLmZpbmQoKGMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IF9jbGFzcyA9IGMuY2xhc3MudG9Mb3dlckNhc2UoKVxuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIF9jbGFzcy5pbmNsdWRlcyhwbGF5ZXIuYnVzTmFtZS50b0xvd2VyQ2FzZSgpKSB8fFxuICAgICAgICAgICAgICAgIF9jbGFzcy5pbmNsdWRlcyhwbGF5ZXIuZW50cnkudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgICAgIClcbiAgICAgICAgfSlcblxuICAgICAgICBpZiAoY2xpZW50KSB7XG4gICAgICAgICAgICBoeXBybGFuZC5kaXNwYXRjaChcImZvY3Vzd2luZG93XCIsIGBjbGFzczoke2NsaWVudC5jbGFzc31gKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGJveCBuYW1lPXtcIk1lZGlhXCJ9IHZhbGlnbj17R3RrLkFsaWduLkNFTlRFUn0gY3NzQ2xhc3Nlcz17W1wiTWVkaWFcIl19PlxuICAgICAgICAgICAgPGJveFxuICAgICAgICAgICAgICAgIG5hbWU9e1wiTWVkaWFQbGF5YmFja1wifVxuICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIk1lZGlhUGxheWJhY2tcIl19XG4gICAgICAgICAgICAgICAgb25EZXN0cm95PXsoKSA9PiBjbGFzc2Vzc1ZhcnMuZHJvcCgpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgbmFtZT17XCJNZWRpYVBsYXliYWNrQnV0dG9uUHJldmlvdXNcIn1cbiAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3Nlcz17Y2xhc3Nlc3MuYXMoKGMpID0+IGMuZ29QcmV2KX1cbiAgICAgICAgICAgICAgICAgICAgb25DbGlja2VkPXsoKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLmdldF9jYW5fZ29fcHJldmlvdXMoKSAmJiBwbGF5ZXIucHJldmlvdXMoKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXBUZXh0PXtcIlByZXZpb3VzIFRyYWNrXCJ9XG4gICAgICAgICAgICAgICAgICAgIGhhbGlnbj17R3RrLkFsaWduLkNFTlRFUn1cbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yPXtnb1ByZXZDdXJzb3J9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgbGFiZWw9e1wiXHVGMDRBXCJ9IGhleHBhbmQ9e3RydWV9IC8+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIG5hbWU9e1wiTWVkaWFQbGF5YmFja0J1dHRvblBsYXlQYXVzZVwifVxuICAgICAgICAgICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJJY29uXCIsIFwiTWVkaWFQbGF5YmFja0J1dHRvblwiXX1cbiAgICAgICAgICAgICAgICAgICAgb25DbGlja2VkPXsoKSA9PiBwbGF5ZXIucGxheV9wYXVzZSgpfVxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwVGV4dD17XCJQbGF5L1BhdXNlXCJ9XG4gICAgICAgICAgICAgICAgICAgIGhhbGlnbj17R3RrLkFsaWduLkNFTlRFUn1cbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yPXtwb2ludGVyfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGxhYmVsPXtwbGF5SWNvbn0gaGV4cGFuZD17dHJ1ZX0gLz5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgbmFtZT17XCJNZWRpYVBsYXliYWNrQnV0dG9uTmV4dFwifVxuICAgICAgICAgICAgICAgICAgICBjc3NDbGFzc2VzPXtjbGFzc2Vzcy5hcygoYykgPT4gYy5nb05leHQpfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrZWQ9eygpID0+IHBsYXllci5nZXRfY2FuX2dvX25leHQoKSAmJiBwbGF5ZXIubmV4dCgpfVxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwVGV4dD17XCJOZXh0IFRyYWNrXCJ9XG4gICAgICAgICAgICAgICAgICAgIGhhbGlnbj17R3RrLkFsaWduLkNFTlRFUn1cbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yPXtnb05leHRDdXJzb3J9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgbGFiZWw9e1wiXHVGMDRFXCJ9IGhleHBhbmQ9e3RydWV9IC8+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2JveD5cblxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrZWQ9e3JhaXNlUGxheWVyfSBjdXJzb3I9e3BvaW50ZXJ9PlxuICAgICAgICAgICAgICAgIDxpbWFnZVxuICAgICAgICAgICAgICAgICAgICBuYW1lPXtcIk1lZGlhSW1hZ2VDb3ZlckFydFwifVxuICAgICAgICAgICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJNZWRpYUltYWdlQ292ZXJBcnRcIl19XG4gICAgICAgICAgICAgICAgICAgIGZpbGU9e2NvdmVyQXJ0fVxuICAgICAgICAgICAgICAgICAgICBwaXhlbFNpemU9ezMyfVxuICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdz17R3RrLk92ZXJmbG93LkhJRERFTn1cbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZT17dHJ1ZX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBuYW1lPXtcIk1lZGlhVGl0bGVCdXR0b25cIn1cbiAgICAgICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJNZWRpYVRpdGxlQnV0dG9uXCJdfVxuICAgICAgICAgICAgICAgIGN1cnNvcj17cG9pbnRlcn1cbiAgICAgICAgICAgICAgICBvbkNsaWNrZWQ9e3JhaXNlUGxheWVyfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICBuYW1lPXtcIk1lZGlhVGl0bGVCdXR0b25MYWJlbFwifVxuICAgICAgICAgICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJNZWRpYVRpdGxlQnV0dG9uTGFiZWxcIl19XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPXt0aXRsZX1cbiAgICAgICAgICAgICAgICAgICAgaGFsaWduPXtHdGsuQWxpZ24uQ0VOVEVSfVxuICAgICAgICAgICAgICAgICAgICB2YWxpZ249e0d0ay5BbGlnbi5DRU5URVJ9XG4gICAgICAgICAgICAgICAgICAgIG1heFdpZHRoQ2hhcnM9ezM2fVxuICAgICAgICAgICAgICAgICAgICBlbGxpcHNpemU9e1BhbmdvLkVsbGlwc2l6ZU1vZGUuTUlERExFfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9ib3g+XG4gICAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBNZWRpYVxuIiwgImltcG9ydCB7IEd0ayB9IGZyb20gXCJhc3RhbC9ndGs0XCJcbmltcG9ydCBUcmF5IGZyb20gXCIuL01vZHVsZXMvVHJheVwiXG5pbXBvcnQgTWVkaWEgZnJvbSBcIi4vTW9kdWxlcy9NZWRpYVwiXG5pbXBvcnQgeyBiaW5kIH0gZnJvbSBcImFzdGFsXCJcbmltcG9ydCBBc3RhbE1wcmlzIGZyb20gXCJnaTovL0FzdGFsTXByaXM/dmVyc2lvbj0wLjFcIlxuXG5leHBvcnQgaW50ZXJmYWNlIENlbnRlclByb3BzIHtcbiAgICBuYW1lOiBzdHJpbmdcbn1cblxuY29uc3QgQ2VudGVyID0gKHsgbmFtZSB9OiBDZW50ZXJQcm9wcykgPT4ge1xuICAgIGNvbnN0IG1wcmlzID0gQXN0YWxNcHJpcy5nZXRfZGVmYXVsdCgpXG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8Ym94XG4gICAgICAgICAgICBuYW1lPXtgQmFyQ2VudGVyLSR7bmFtZX1gfVxuICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiQmFyU2VjdGlvblwiLCBcIkJhckNlbnRlclwiXX1cbiAgICAgICAgICAgIGhleHBhbmQ9e3RydWV9XG4gICAgICAgICAgICBoYWxpZ249e0d0ay5BbGlnbi5DRU5URVJ9XG4gICAgICAgID5cbiAgICAgICAgICAgIHtiaW5kKG1wcmlzLCBcInBsYXllcnNcIikuYXMoKHBsYXllcnMpID0+IChcbiAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICA8TWVkaWEgcGxheWVyPXtwbGF5ZXJzWzBdfSAvPlxuXG4gICAgICAgICAgICAgICAgICAgIHtwbGF5ZXJzWzBdICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxHdGsuU2VwYXJhdG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb249e0d0ay5PcmllbnRhdGlvbi5WRVJUSUNBTH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICkpfVxuXG4gICAgICAgICAgICA8VHJheSAvPlxuICAgICAgICA8L2JveD5cbiAgICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IENlbnRlclxuIiwgImltcG9ydCB7IFZhcmlhYmxlIH0gZnJvbSBcImFzdGFsXCJcbmltcG9ydCB7IEFwcCwgR2RrLCBHdGsgfSBmcm9tIFwiYXN0YWwvZ3RrNFwiXG5cbmNvbnN0IGRhdGV0aW1lID0gVmFyaWFibGUoe1xuICAgIGRhdGU6IFwiXCIsXG4gICAgdGltZTogXCJcIixcbn0pLnBvbGwoMTAwMCwgXCJkYXRlICsnJWEsICViICVkfCVIOiVNOiVTJ1wiLCAob3V0cHV0KSA9PiB7XG4gICAgY29uc3QgW2RhdGUsIHRpbWVdID0gb3V0cHV0LnNwbGl0KFwifFwiKVxuICAgIHJldHVybiB7IGRhdGUsIHRpbWUgfVxufSlcblxuaW50ZXJmYWNlIFRpbWVQcm9wcyB7XG4gICAgZ2RrbW9uaXRvcjogR2RrLk1vbml0b3Jcbn1cblxuY29uc3QgVGltZSA9ICh7IGdka21vbml0b3IgfTogVGltZVByb3BzKSA9PiB7XG4gICAgY29uc3QgX2RhdGV0aW1lID0gZGF0ZXRpbWUoKVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGJveCBuYW1lPXtgVGltZWB9IGNzc0NsYXNzZXM9e1tcIlRpbWVcIl19IGhleHBhbmQ9e3RydWV9PlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2tlZD17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBBcHAudG9nZ2xlX3dpbmRvdyhgUXVpY2tTZXR0aW5nLSR7Z2RrbW9uaXRvci5jb25uZWN0b3J9YClcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBsYWJlbD17X2RhdGV0aW1lLmFzKChkKSA9PiBkLmRhdGUgKyBcIiBcIiArIGQudGltZSl9IC8+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9ib3g+XG4gICAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBUaW1lXG4iLCAiaW1wb3J0IEFzdGFsTmV0d29yayBmcm9tIFwiZ2k6Ly9Bc3RhbE5ldHdvcms/dmVyc2lvbj0wLjFcIlxuaW1wb3J0IHsgcG9pbnRlciB9IGZyb20gXCIuLi8uLi8uLi9taXNjL2N1cnNvclwiXG5pbXBvcnQgeyBiaW5kLCBleGVjQXN5bmMsIFZhcmlhYmxlIH0gZnJvbSBcImFzdGFsXCJcbmltcG9ydCB7IEdkayB9IGZyb20gXCJhc3RhbC9ndGs0XCJcbmltcG9ydCBuZXR3b3JrU3BlZWQgZnJvbSBcIi4uLy4uLy4uL2xpYi9uZXR3b3Jrc3BlZWRcIlxuXG5jb25zdCBhc3RhbE5ldCA9IEFzdGFsTmV0d29yay5nZXRfZGVmYXVsdCgpXG5cbmludGVyZmFjZSBOZXR3b3JrUHJvcHMge1xuICAgIGdka21vbml0b3I/OiBHZGsuTW9uaXRvclxufVxuXG5jb25zdCBOZXR3b3JrID0gKHsgZ2RrbW9uaXRvciB9OiBOZXR3b3JrUHJvcHMpID0+IHtcbiAgICBjb25zdCBpY29uID0gYmluZChhc3RhbE5ldCwgXCJwcmltYXJ5XCIpLmFzKChwcmltYXJ5KSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTmV0d29yayBwcmltYXJ5OlwiLCBwcmltYXJ5KVxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBwcmltYXJ5ID09IEFzdGFsTmV0d29yay5QcmltYXJ5LldJUkVEIHx8XG4gICAgICAgICAgICBwcmltYXJ5ID09IEFzdGFsTmV0d29yay5QcmltYXJ5LlVOS05PV05cbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gPFdpcmVkIC8+XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gPFdpZmkgLz5cbiAgICB9KVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGJveCBuYW1lPXtcIk5ldHdvcmtcIn0gY3NzQ2xhc3Nlcz17W1wiTmV0d29ya1wiXX0gc3BhY2luZz17NX0+XG4gICAgICAgICAgICA8U3BlZWQgLz5cblxuICAgICAgICAgICAge2ljb259XG4gICAgICAgIDwvYm94PlxuICAgIClcbn1cblxuY29uc3QgU3BlZWQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJTcGVlZFwiXX1cbiAgICAgICAgICAgIGxhYmVsPXtuZXR3b3JrU3BlZWQoKHsgZG93bmxvYWQsIHVwbG9hZCB9KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZG93bmxvYWRTcGVlZCA9IChkb3dubG9hZCAvIDEwMDApLnRvRml4ZWQoMilcbiAgICAgICAgICAgICAgICBjb25zdCB1cGxvYWRTcGVlZCA9ICh1cGxvYWQgLyAxMDAwKS50b0ZpeGVkKDIpXG5cbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7ZG93bmxvYWRTcGVlZH0gTUIvcyBcdUYwRDcgfCAke3VwbG9hZFNwZWVkfSBNQi9zIFx1RjBEOGBcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAvPlxuICAgIClcbn1cblxuZnVuY3Rpb24gZ2V0U3RhdGUoc3RhdGU6IEFzdGFsTmV0d29yay5TdGF0ZSk6IHN0cmluZyB7XG4gICAgc3dpdGNoIChzdGF0ZSkge1xuICAgICAgICBjYXNlIEFzdGFsTmV0d29yay5TdGF0ZS5BU0xFRVA6XG4gICAgICAgICAgICByZXR1cm4gXCJBc2xlZXBcIlxuICAgICAgICBjYXNlIEFzdGFsTmV0d29yay5TdGF0ZS5DT05ORUNUSU5HOlxuICAgICAgICAgICAgcmV0dXJuIFwiQ29ubmVjdGluZ1wiXG4gICAgICAgIGNhc2UgQXN0YWxOZXR3b3JrLlN0YXRlLkRJU0NPTk5FQ1RFRDpcbiAgICAgICAgICAgIHJldHVybiBcIkRpc2Nvbm5lY3RlZFwiXG4gICAgICAgIGNhc2UgQXN0YWxOZXR3b3JrLlN0YXRlLkRJU0NPTk5FQ1RJTkc6XG4gICAgICAgICAgICByZXR1cm4gXCJEaXNjb25uZWN0aW5nXCJcbiAgICAgICAgY2FzZSBBc3RhbE5ldHdvcmsuU3RhdGUuQ09OTkVDVEVEX0dMT0JBTDpcbiAgICAgICAgICAgIHJldHVybiBcIkNvbm5lY3RlZCAoR2xvYmFsKVwiXG4gICAgICAgIGNhc2UgQXN0YWxOZXR3b3JrLlN0YXRlLkNPTk5FQ1RFRF9MT0NBTDpcbiAgICAgICAgICAgIHJldHVybiBcIkNvbm5lY3RlZCAoTG9jYWwpXCJcbiAgICAgICAgY2FzZSBBc3RhbE5ldHdvcmsuU3RhdGUuQ09OTkVDVEVEX1NJVEU6XG4gICAgICAgICAgICByZXR1cm4gXCJDb25uZWN0ZWQgKFNpdGUpXCJcbiAgICAgICAgY2FzZSBBc3RhbE5ldHdvcmsuU3RhdGUuVU5LTk9XTjpcbiAgICAgICAgICAgIHJldHVybiBcIlVua25vd25cIlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIFwiP1wiXG4gICAgfVxufVxuXG5jb25zdCBXaWZpID0gKCkgPT4ge1xuICAgIGNvbnN0IHZhcnMgPSBWYXJpYWJsZS5kZXJpdmUoXG4gICAgICAgIFtiaW5kKGFzdGFsTmV0LCBcInN0YXRlXCIpLCBiaW5kKGFzdGFsTmV0LCBcIndpZmlcIildLFxuICAgICAgICAoc3RhdGUsIHdpZmkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPVxuICAgICAgICAgICAgICAgIHdpZmkuZGV2aWNlLmFjdGl2ZUNvbm5lY3Rpb24/LmNvbm5lY3Rpb24uZ2V0X2lkKCkgfHxcbiAgICAgICAgICAgICAgICBcIkRpc2Nvbm5lY3RlZFwiXG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdG9vbHRpcFRleHQ6IGAke2dldFN0YXRlKHN0YXRlKX0gLSAke25hbWV9YCxcbiAgICAgICAgICAgICAgICBpY29uTmFtZTogd2lmaS5nZXRfaWNvbl9uYW1lKCksXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICApXG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBuYW1lPXtcIk5ldHdvcmtCdXR0b25cIn1cbiAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIk5ldHdvcmtCdXR0b25cIl19XG4gICAgICAgICAgICB0b29sdGlwVGV4dD17dmFycygpLmFzKCh7IHRvb2x0aXBUZXh0IH0pID0+IHRvb2x0aXBUZXh0KX1cbiAgICAgICAgICAgIGN1cnNvcj17cG9pbnRlcn1cbiAgICAgICAgICAgIG9uQ2xpY2tlZD17KCkgPT4ge1xuICAgICAgICAgICAgICAgIGV4ZWNBc3luYyhgdXdzbSBhcHAgLS0gYmV0dGVyLWNvbnRyb2wgLS13aWZpYClcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBvbkRlc3Ryb3k9eygpID0+IHtcbiAgICAgICAgICAgICAgICB2YXJzLmRyb3AoKVxuICAgICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgICAgPGltYWdlXG4gICAgICAgICAgICAgICAgaWNvbk5hbWU9e3ZhcnMoKS5hcygoeyBpY29uTmFtZSB9KSA9PiBpY29uTmFtZSl9XG4gICAgICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiSWNvblwiLCBcIldpcmVkXCJdfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgPC9idXR0b24+XG4gICAgKVxufVxuXG5jb25zdCBXaXJlZCA9ICgpID0+IHtcbiAgICBjb25zdCB2YXJzID0gVmFyaWFibGUuZGVyaXZlKFxuICAgICAgICBbYmluZChhc3RhbE5ldCwgXCJzdGF0ZVwiKSwgYmluZChhc3RhbE5ldCwgXCJ3aXJlZFwiKV0sXG4gICAgICAgIChzdGF0ZSwgd2lyZWQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPVxuICAgICAgICAgICAgICAgIHdpcmVkLmRldmljZS5hY3RpdmVDb25uZWN0aW9uPy5jb25uZWN0aW9uLmdldF9pZCgpIHx8XG4gICAgICAgICAgICAgICAgXCJEaXNjb25uZWN0ZWRcIlxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHRvb2x0aXBUZXh0OiBgJHtnZXRTdGF0ZShzdGF0ZSl9IC0gJHtuYW1lfWAsXG4gICAgICAgICAgICAgICAgaWNvbk5hbWU6IHdpcmVkLmdldF9pY29uX25hbWUoKSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIClcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG5hbWU9e1wiTmV0d29ya0J1dHRvblwifVxuICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiTmV0d29ya0J1dHRvblwiXX1cbiAgICAgICAgICAgIHRvb2x0aXBUZXh0PXt2YXJzKCkuYXMoKHsgdG9vbHRpcFRleHQgfSkgPT4gdG9vbHRpcFRleHQpfVxuICAgICAgICAgICAgY3Vyc29yPXtwb2ludGVyfVxuICAgICAgICAgICAgb25DbGlja2VkPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgZXhlY0FzeW5jKGB1d3NtIGFwcCAtLSBiZXR0ZXItY29udHJvbCAtLXdpZmlgKVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIG9uRGVzdHJveT17KCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhcnMuZHJvcCgpXG4gICAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgICA8aW1hZ2VcbiAgICAgICAgICAgICAgICBpY29uTmFtZT17dmFycygpLmFzKCh7IGljb25OYW1lIH0pID0+IGljb25OYW1lKX1cbiAgICAgICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJJY29uXCIsIFwiV2lyZWRcIl19XG4gICAgICAgICAgICAvPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IE5ldHdvcmtcbiIsICIvLyBodHRwczovL2dpdGh1Yi5jb20vZXplcmluei9lcGlrLXNoZWxsL1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL2V6ZXJpbnovZXBpay1zaGVsbC9ibG9iL21haW4vdXRpbHMvbmV0d29ya3NwZWVkLnRzXG5pbXBvcnQgeyBWYXJpYWJsZSB9IGZyb20gXCJhc3RhbFwiXG5cbmNvbnN0IGludGVydmFsID0gMTAwMFxubGV0IGxhc3RUb3RhbERvd25CeXRlcyA9IDBcbmxldCBsYXN0VG90YWxVcEJ5dGVzID0gMFxuXG5jb25zdCBuZXR3b3JrU3BlZWQgPSBWYXJpYWJsZSh7XG4gICAgZG93bmxvYWQ6IDAsXG4gICAgdXBsb2FkOiAwLFxufSkucG9sbChpbnRlcnZhbCwgW1wiY2F0XCIsIFwiL3Byb2MvbmV0L2RldlwiXSwgKGNvbnRlbnQsIF8pID0+IHtcbiAgICBjb25zdCBsaW5lcyA9IGNvbnRlbnQuc3BsaXQoXCJcXG5cIilcblxuICAgIC8vIENhY3VsYXRlIHRoZSBzdW0gb2YgYWxsIGludGVyZmFjZXMnIHRyYWZmaWMgbGluZSBieSBsaW5lLlxuICAgIGxldCB0b3RhbERvd25CeXRlcyA9IDBcbiAgICBsZXQgdG90YWxVcEJ5dGVzID0gMFxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7ICsraSkge1xuICAgICAgICBjb25zdCBmaWVsZHMgPSBsaW5lc1tpXS50cmltKCkuc3BsaXQoL1xcVysvKVxuICAgICAgICBpZiAoZmllbGRzLmxlbmd0aCA8PSAyKSB7XG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2tpcCB2aXJ0dWFsIGludGVyZmFjZXMuXG4gICAgICAgIGNvbnN0IGludGVyZmNlID0gZmllbGRzWzBdXG4gICAgICAgIGNvbnN0IGN1cnJlbnRJbnRlcmZhY2VEb3duQnl0ZXMgPSBOdW1iZXIucGFyc2VJbnQoZmllbGRzWzFdKVxuICAgICAgICBjb25zdCBjdXJyZW50SW50ZXJmYWNlVXBCeXRlcyA9IE51bWJlci5wYXJzZUludChmaWVsZHNbOV0pXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGludGVyZmNlID09PSBcImxvXCIgfHxcbiAgICAgICAgICAgIC8vIENyZWF0ZWQgYnkgcHl0aG9uLWJhc2VkIGJhbmR3aWR0aCBtYW5hZ2VyIFwidHJhZmZpY3RvbGxcIi5cbiAgICAgICAgICAgIGludGVyZmNlLm1hdGNoKC9eaWZiWzAtOV0rLykgfHxcbiAgICAgICAgICAgIC8vIENyZWF0ZWQgYnkgbHhkIGNvbnRhaW5lciBtYW5hZ2VyLlxuICAgICAgICAgICAgaW50ZXJmY2UubWF0Y2goL15seGRiclswLTldKy8pIHx8XG4gICAgICAgICAgICBpbnRlcmZjZS5tYXRjaCgvXnZpcmJyWzAtOV0rLykgfHxcbiAgICAgICAgICAgIGludGVyZmNlLm1hdGNoKC9eYnJbMC05XSsvKSB8fFxuICAgICAgICAgICAgaW50ZXJmY2UubWF0Y2goL152bmV0WzAtOV0rLykgfHxcbiAgICAgICAgICAgIGludGVyZmNlLm1hdGNoKC9edHVuWzAtOV0rLykgfHxcbiAgICAgICAgICAgIGludGVyZmNlLm1hdGNoKC9edGFwWzAtOV0rLykgfHxcbiAgICAgICAgICAgIGlzTmFOKGN1cnJlbnRJbnRlcmZhY2VEb3duQnl0ZXMpIHx8XG4gICAgICAgICAgICBpc05hTihjdXJyZW50SW50ZXJmYWNlVXBCeXRlcylcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgdG90YWxEb3duQnl0ZXMgKz0gY3VycmVudEludGVyZmFjZURvd25CeXRlc1xuICAgICAgICB0b3RhbFVwQnl0ZXMgKz0gY3VycmVudEludGVyZmFjZVVwQnl0ZXNcbiAgICB9XG5cbiAgICBpZiAobGFzdFRvdGFsRG93bkJ5dGVzID09PSAwKSB7XG4gICAgICAgIGxhc3RUb3RhbERvd25CeXRlcyA9IHRvdGFsRG93bkJ5dGVzXG4gICAgfVxuICAgIGlmIChsYXN0VG90YWxVcEJ5dGVzID09PSAwKSB7XG4gICAgICAgIGxhc3RUb3RhbFVwQnl0ZXMgPSB0b3RhbFVwQnl0ZXNcbiAgICB9XG4gICAgY29uc3QgZG93bmxvYWRTcGVlZCA9ICh0b3RhbERvd25CeXRlcyAtIGxhc3RUb3RhbERvd25CeXRlcykgLyBpbnRlcnZhbFxuICAgIGNvbnN0IHVwbG9hZFNwZWVkID0gKHRvdGFsVXBCeXRlcyAtIGxhc3RUb3RhbFVwQnl0ZXMpIC8gaW50ZXJ2YWxcblxuICAgIGxhc3RUb3RhbERvd25CeXRlcyA9IHRvdGFsRG93bkJ5dGVzXG4gICAgbGFzdFRvdGFsVXBCeXRlcyA9IHRvdGFsVXBCeXRlc1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZG93bmxvYWQ6IGRvd25sb2FkU3BlZWQsXG4gICAgICAgIHVwbG9hZDogdXBsb2FkU3BlZWQsXG4gICAgfVxufSlcblxuZXhwb3J0IGRlZmF1bHQgbmV0d29ya1NwZWVkXG4iLCAiaW1wb3J0IHsgR2RrLCBHdGsgfSBmcm9tIFwiYXN0YWwvZ3RrNFwiXG5pbXBvcnQgVGltZSBmcm9tIFwiLi9Nb2R1bGVzL1RpbWVcIlxuaW1wb3J0IE5ldHdvcmsgZnJvbSBcIi4vTW9kdWxlcy9OZXR3b3JrXCJcblxuZXhwb3J0IGludGVyZmFjZSBFbmRQcm9wcyB7XG4gICAgbmFtZTogc3RyaW5nXG4gICAgZ2RrbW9uaXRvcjogR2RrLk1vbml0b3Jcbn1cblxuY29uc3QgRW5kID0gKHsgbmFtZSwgZ2RrbW9uaXRvciB9OiBFbmRQcm9wcykgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxib3hcbiAgICAgICAgICAgIG5hbWU9e2BCYXJFbmQtJHtuYW1lfWB9XG4gICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJCYXJTZWN0aW9uXCIsIFwiQmFyRW5kXCJdfVxuICAgICAgICAgICAgaGV4cGFuZD17dHJ1ZX1cbiAgICAgICAgICAgIGhhbGlnbj17R3RrLkFsaWduLkVORH1cbiAgICAgICAgICAgIHNwYWNpbmc9ezV9XG4gICAgICAgID5cbiAgICAgICAgICAgIDxOZXR3b3JrIGdka21vbml0b3I9e2dka21vbml0b3J9IC8+XG5cbiAgICAgICAgICAgIDxHdGsuU2VwYXJhdG9yXG4gICAgICAgICAgICAgICAgb3JpZW50YXRpb249e0d0ay5PcmllbnRhdGlvbi5WRVJUSUNBTH1cbiAgICAgICAgICAgICAgICB2aXNpYmxlPXt0cnVlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPFRpbWUgZ2RrbW9uaXRvcj17Z2RrbW9uaXRvcn0gLz5cbiAgICAgICAgPC9ib3g+XG4gICAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBFbmRcbiIsICJpbXBvcnQgeyBBcHAsIEFzdGFsLCBHZGssIEd0ayB9IGZyb20gXCJhc3RhbC9ndGs0XCJcbmltcG9ydCBTdGFydCBmcm9tIFwiLi9TdGFydFwiXG5pbXBvcnQgQ2VudGVyIGZyb20gXCIuL0NlbnRlclwiXG5pbXBvcnQgRW5kIGZyb20gXCIuL0VuZFwiXG5cbmV4cG9ydCBpbnRlcmZhY2UgQmFyUHJvcHMge1xuICAgIGdka21vbml0b3I6IEdkay5Nb25pdG9yXG59XG5cbmNvbnN0IEJhciA9ICh7IGdka21vbml0b3IgfTogQmFyUHJvcHMpID0+IHtcbiAgICBjb25zdCB7IFRPUCwgTEVGVCwgUklHSFQgfSA9IEFzdGFsLldpbmRvd0FuY2hvclxuICAgIGNvbnN0IG5hbWUgPSBgQmFyLSR7Z2RrbW9uaXRvci5jb25uZWN0b3J9YFxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPHdpbmRvd1xuICAgICAgICAgICAgbmFtZT17bmFtZX1cbiAgICAgICAgICAgIG5hbWVzcGFjZT17XCJCYXJcIn1cbiAgICAgICAgICAgIGFwcGxpY2F0aW9uPXtBcHB9XG4gICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJCYXJcIl19XG4gICAgICAgICAgICBnZGttb25pdG9yPXtnZGttb25pdG9yfVxuICAgICAgICAgICAgYW5jaG9yPXtUT1AgfCBMRUZUIHwgUklHSFR9XG4gICAgICAgICAgICBleGNsdXNpdml0eT17QXN0YWwuRXhjbHVzaXZpdHkuRVhDTFVTSVZFfVxuICAgICAgICAgICAgdmlzaWJsZT17dHJ1ZX1cbiAgICAgICAgICAgIHNldHVwPXsoc2VsZikgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGh0dHBzOmdpdGh1Yi5jb20vd213dy9ndGs0LWxheWVyLXNoZWxsL2lzc3Vlcy82MFxuICAgICAgICAgICAgICAgIHNlbGYuc2V0X2RlZmF1bHRfc2l6ZSgxLCAxKVxuICAgICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgICAgPGNlbnRlcmJveFxuICAgICAgICAgICAgICAgIG5hbWU9e25hbWV9XG4gICAgICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiQmFyQ2VudGVyYm94XCJdfVxuICAgICAgICAgICAgICAgIHN0YXJ0V2lkZ2V0PXs8U3RhcnQgbmFtZT17bmFtZX0gLz59XG4gICAgICAgICAgICAgICAgY2VudGVyV2lkZ2V0PXs8Q2VudGVyIG5hbWU9e25hbWV9IC8+fVxuICAgICAgICAgICAgICAgIGVuZFdpZGdldD17PEVuZCBuYW1lPXtuYW1lfSBnZGttb25pdG9yPXtnZGttb25pdG9yfSAvPn1cbiAgICAgICAgICAgIC8+XG4gICAgICAgIDwvd2luZG93PlxuICAgIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgQmFyXG4iLCAiaW1wb3J0IHsgQXBwLCBBc3RhbCwgR2RrLCBHdGsgfSBmcm9tIFwiYXN0YWwvZ3RrNFwiXG5cbmV4cG9ydCBpbnRlcmZhY2UgUG9wb3ZlclByb3BzIHtcbiAgICBjaGlsZD86IEd0ay5XaWRnZXRcbiAgICBuYW1lOiBzdHJpbmdcbiAgICBnZGttb25pdG9yOiBHZGsuTW9uaXRvclxuICAgIHZpc2libGU/OiBib29sZWFuXG4gICAgY3NzQ2xhc3Nlcz86IHN0cmluZ1tdXG59XG5cbmNvbnN0IFBvcG92ZXIgPSAoe1xuICAgIGNoaWxkLFxuICAgIG5hbWUsXG4gICAgZ2RrbW9uaXRvcixcbiAgICB2aXNpYmxlLFxuICAgIGNzc0NsYXNzZXMsXG59OiBQb3BvdmVyUHJvcHMpID0+IHtcbiAgICBjb25zdCB7IFRPUCwgUklHSFQsIEJPVFRPTSwgTEVGVCB9ID0gQXN0YWwuV2luZG93QW5jaG9yXG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8d2luZG93XG4gICAgICAgICAgICBuYW1lPXtuYW1lfVxuICAgICAgICAgICAgbmFtZXNwYWNlPXtcIlBvcG92ZXJcIn1cbiAgICAgICAgICAgIGFwcGxpY2F0aW9uPXtBcHB9XG4gICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJQb3BvdmVyXCIsIC4uLihjc3NDbGFzc2VzIHx8IFtdKV19XG4gICAgICAgICAgICBnZGttb25pdG9yPXtnZGttb25pdG9yfVxuICAgICAgICAgICAgbGF5ZXI9e0FzdGFsLkxheWVyLlRPUH1cbiAgICAgICAgICAgIGtleW1vZGU9e0FzdGFsLktleW1vZGUuT05fREVNQU5EfVxuICAgICAgICAgICAgYW5jaG9yPXtUT1AgfCBSSUdIVCB8IEJPVFRPTSB8IExFRlR9XG4gICAgICAgICAgICB2aXNpYmxlPXt2aXNpYmxlIHx8IGZhbHNlfVxuICAgICAgICAgICAgc2V0dXA9eyhzZWxmKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Z2l0aHViLmNvbS93bXd3L2d0azQtbGF5ZXItc2hlbGwvaXNzdWVzLzYwXG4gICAgICAgICAgICAgICAgc2VsZi5zZXRfZGVmYXVsdF9zaXplKDEsIDEpXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25LZXlQcmVzc2VkPXsoX2V2ZW50LCBrZXl2YWwpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoa2V5dmFsID09PSBHZGsuS0VZX0VzY2FwZSkge1xuICAgICAgICAgICAgICAgICAgICBBcHAudG9nZ2xlX3dpbmRvdyhuYW1lKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICAgIDxib3ggY3NzQ2xhc3Nlcz17W119PlxuICAgICAgICAgICAgICAgIDxQYWRkaW5nIG5hbWU9e25hbWV9IC8+XG5cbiAgICAgICAgICAgICAgICA8Ym94IHZlcnRpY2FsIGhleHBhbmQ9e2ZhbHNlfT5cbiAgICAgICAgICAgICAgICAgICAge2NoaWxkfVxuXG4gICAgICAgICAgICAgICAgICAgIDxQYWRkaW5nIG5hbWU9e25hbWV9IC8+XG4gICAgICAgICAgICAgICAgPC9ib3g+XG4gICAgICAgICAgICA8L2JveD5cbiAgICAgICAgPC93aW5kb3c+XG4gICAgKVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBhZGRpbmdQcm9wcyB7XG4gICAgbmFtZTogc3RyaW5nXG59XG5cbmNvbnN0IFBhZGRpbmcgPSAoeyBuYW1lIH06IFBhZGRpbmdQcm9wcykgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIlBhZGRpbmdcIiwgXCJEZWJ1Z1wiXX1cbiAgICAgICAgICAgIGNhbkZvY3VzPXtmYWxzZX1cbiAgICAgICAgICAgIG9uQ2xpY2tlZD17KCkgPT4ge1xuICAgICAgICAgICAgICAgIEFwcC50b2dnbGVfd2luZG93KG5hbWUpXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgaGV4cGFuZFxuICAgICAgICAgICAgdmV4cGFuZFxuICAgICAgICAvPlxuICAgIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9wb3ZlclxuIiwgImltcG9ydCB7IEFzdGFsLCBHdGsgfSBmcm9tIFwiYXN0YWwvZ3RrNFwiXG5pbXBvcnQgUGFuZ28gZnJvbSBcImdpOi8vUGFuZ28/dmVyc2lvbj0xLjBcIlxuXG5pbnRlcmZhY2UgQnV0dG9uUHJvcHMge1xuICAgIGljb246IHN0cmluZ1xuICAgIGxhYmVsMTogc3RyaW5nXG4gICAgbGFiZWwyOiBzdHJpbmdcbn1cblxuY29uc3QgQnV0dG9uID0gKHsgaWNvbiwgbGFiZWwxLCBsYWJlbDIgfTogQnV0dG9uUHJvcHMpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8YnV0dG9uIGNzc0NsYXNzZXM9e1tcIlF1aWNrU2V0dGluZ0J1dHRvblwiXX0gaGV4cGFuZD17dHJ1ZX0+XG4gICAgICAgICAgICA8Ym94IHNwYWNpbmc9ezE2fSBoYWxpZ249e0d0ay5BbGlnbi5GSUxMfSB2YWxpZ249e0d0ay5BbGlnbi5DRU5URVJ9PlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjc3NDbGFzc2VzPXtbXCJJY29uXCJdfSBsYWJlbD17aWNvbn0gLz5cblxuICAgICAgICAgICAgICAgIDxib3hcbiAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiTGFiZWxzXCJdfVxuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbD17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgdmFsaWduPXtHdGsuQWxpZ24uQ0VOVEVSfVxuICAgICAgICAgICAgICAgICAgICBoYWxpZ249e0d0ay5BbGlnbi5TVEFSVH1cbiAgICAgICAgICAgICAgICAgICAgaGV4cGFuZD17dHJ1ZX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiTGFiZWwxXCJdfVxuICAgICAgICAgICAgICAgICAgICAgICAgaGFsaWduPXtHdGsuQWxpZ24uU1RBUlR9XG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17bGFiZWwxfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFdpZHRoQ2hhcnM9ezE1fVxuICAgICAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiTGFiZWwyXCJdfVxuICAgICAgICAgICAgICAgICAgICAgICAgaGFsaWduPXtHdGsuQWxpZ24uU1RBUlR9XG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17bGFiZWwyfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvYm94PlxuXG4gICAgICAgICAgICAgICAgPGxhYmVsIGNzc0NsYXNzZXM9e1tcIkljb25cIiwgXCJDaGV2cm9uXCJdfSBsYWJlbD17XCJcdUYwNTRcIn0gLz5cbiAgICAgICAgICAgIDwvYm94PlxuICAgICAgICA8L2J1dHRvbj5cbiAgICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvblxuIiwgImltcG9ydCB7IEd0ayB9IGZyb20gXCJhc3RhbC9ndGs0XCJcblxuaW50ZXJmYWNlIEJ1dHRvblByb3BzIHtcbiAgICBpY29uOiBzdHJpbmdcbn1cblxuY29uc3QgQnV0dG9uU21hbGwgPSAoeyBpY29uIH06IEJ1dHRvblByb3BzKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPGJ1dHRvbiBjc3NDbGFzc2VzPXtbXCJRdWlja1NldHRpbmdCdXR0b25cIiwgXCJTbWFsbFwiXX0gaGV4cGFuZD17dHJ1ZX0+XG4gICAgICAgICAgICA8Ym94IGNzc0NsYXNzZXM9e1tcIkljb25cIl19IGhhbGlnbj17R3RrLkFsaWduLkNFTlRFUn0+XG4gICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIlwiXX1cbiAgICAgICAgICAgICAgICAgICAgbGFiZWw9e2ljb259XG4gICAgICAgICAgICAgICAgICAgIGhleHBhbmQ9e3RydWV9XG4gICAgICAgICAgICAgICAgICAgIHZleHBhbmQ9e2ZhbHNlfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2JveD5cbiAgICAgICAgPC9idXR0b24+XG4gICAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25TbWFsbFxuIiwgImltcG9ydCB7IEFwcCwgR2RrLCBHdGsgfSBmcm9tIFwiYXN0YWwvZ3RrNFwiXG5pbXBvcnQgUG9wb3ZlciBmcm9tIFwiLi4vY29tbW9ucy9Qb3BvdmVyXCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIi4vQnV0dG9uXCJcbmltcG9ydCBCdXR0b25TbWFsbCBmcm9tIFwiLi9CdXR0b25TbWFsbFwiXG5pbXBvcnQgQXN0YWxXcCBmcm9tIFwiZ2k6Ly9Bc3RhbFdwP3ZlcnNpb249MC4xXCJcbmltcG9ydCB7IGJpbmQgfSBmcm9tIFwiYXN0YWxcIlxuaW1wb3J0IHsgZGVib3VuY2UgfSBmcm9tIFwiLi4vLi4vbGliL3V0aWxzXCJcbmltcG9ydCBOb3RpZmljYXRpb25zIGZyb20gXCIuL05vdGlmaWNhdGlvbnNcIlxuXG5leHBvcnQgaW50ZXJmYWNlIFF1aWNrU2V0dGluZ1Byb3BzIHtcbiAgICBnZGttb25pdG9yOiBHZGsuTW9uaXRvclxuICAgIHZpc2libGU/OiBib29sZWFuXG59XG5cbmNvbnN0IFF1aWNrU2V0dGluZyA9ICh7IGdka21vbml0b3IsIHZpc2libGUgfTogUXVpY2tTZXR0aW5nUHJvcHMpID0+IHtcbiAgICBjb25zdCBuYW1lID0gYFF1aWNrU2V0dGluZy0ke2dka21vbml0b3IuY29ubmVjdG9yfWBcbiAgICBjb25zdCBzcGVha2VyID0gQXN0YWxXcC5nZXRfZGVmYXVsdCgpPy5hdWRpbyEuZGVmYXVsdFNwZWFrZXIhXG5cbiAgICBjb25zdCBkZWJvdW5jZWRTZXRWb2x1bWUgPSBkZWJvdW5jZSgodmFsdWU6IG51bWJlcikgPT4ge1xuICAgICAgICBzcGVha2VyLnZvbHVtZSA9IHZhbHVlXG4gICAgfSwgMTAwKVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPFBvcG92ZXJcbiAgICAgICAgICAgIG5hbWU9e25hbWV9XG4gICAgICAgICAgICBnZGttb25pdG9yPXtnZGttb25pdG9yfVxuICAgICAgICAgICAgdmlzaWJsZT17dmlzaWJsZX1cbiAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIlF1aWNrU2V0dGluZ1wiXX1cbiAgICAgICAgPlxuICAgICAgICAgICAgPGJveFxuICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIlF1aWNrU2V0dGluZ0NvbnRhaW5lclwiXX1cbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbD17dHJ1ZX1cbiAgICAgICAgICAgICAgICBzcGFjaW5nPXsxMH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8Ym94XG4gICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIlF1aWNrU2V0dGluZ1Jvd1wiXX1cbiAgICAgICAgICAgICAgICAgICAgaGV4cGFuZD17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgaGFsaWduPXtHdGsuQWxpZ24uQ0VOVEVSfVxuICAgICAgICAgICAgICAgICAgICBzcGFjaW5nPXsxMH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b24gaWNvbj17XCJcdURCODFcdUREQTlcIn0gbGFiZWwxPXtcIldpLUZpXCJ9IGxhYmVsMj17XCJUU0w3N1wifSAvPlxuXG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGljb249e1wiXHVEQjgwXHVEQ0FGXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDE9e1wiQmx1ZXRvb3RoXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDI9e1wiTm9raWEgRTM1MTFcIn1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2JveD5cblxuICAgICAgICAgICAgICAgIDxib3ggY3NzQ2xhc3Nlcz17W1wiUXVpY2tTZXR0aW5nUm93XCJdfSBzcGFjaW5nPXsxMH0+XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25TbWFsbCBpY29uPXtcIlx1REI4MVx1REM5OVwifSAvPlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uU21hbGwgaWNvbj17XCJcdURCODBcdURDOUNcIn0gLz5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblNtYWxsIGljb249e1wiXHVEQjgwXHVERTBBXCJ9IC8+XG4gICAgICAgICAgICAgICAgPC9ib3g+XG5cbiAgICAgICAgICAgICAgICA8Ym94IGNzc0NsYXNzZXM9e1tcIlF1aWNrU2V0dGluZ1Jvd1wiXX0gc3BhY2luZz17MTB9PlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uU21hbGwgaWNvbj17XCJcdURCODBcdURDODBcIn0gLz5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblNtYWxsIGljb249e1wiXHVEQjgxXHVEQ0MzXCJ9IC8+XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25TbWFsbCBpY29uPXtcIlx1REI4Nlx1RENGNFwifSAvPlxuICAgICAgICAgICAgICAgIDwvYm94PlxuXG4gICAgICAgICAgICAgICAgPGJveFxuICAgICAgICAgICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJRdWlja1NldHRpbmdSb3dcIl19XG4gICAgICAgICAgICAgICAgICAgIHNwYWNpbmc9ezEwfVxuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbD17dHJ1ZX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxib3ggdmFsaWduPXtHdGsuQWxpZ24uQ0VOVEVSfSBzcGFjaW5nPXsxMH0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uTmFtZT17YmluZChzcGVha2VyLCBcInZvbHVtZUljb25cIil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWduPXtHdGsuQWxpZ24uQ0VOVEVSfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25TaXplPXtHdGsuSWNvblNpemUuTEFSR0V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxTaXplPXsyMH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzbGlkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZVZhbHVlPXsoc2VsZikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWJvdW5jZWRTZXRWb2x1bWUoc2VsZi52YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtiaW5kKHNwZWFrZXIsIFwidm9sdW1lXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhleHBhbmQ9e3RydWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L2JveD5cbiAgICAgICAgICAgICAgICA8L2JveD5cblxuICAgICAgICAgICAgICAgIDxib3ggY3NzQ2xhc3Nlcz17W1wiUXVpY2tTZXR0aW5nUm93XCJdfT5cbiAgICAgICAgICAgICAgICAgICAgPE5vdGlmaWNhdGlvbnMgLz5cbiAgICAgICAgICAgICAgICA8L2JveD5cblxuICAgICAgICAgICAgICAgIDxib3ggY3NzQ2xhc3Nlcz17W1wiUXVpY2tTZXR0aW5nUm93XCJdfSBzcGFjaW5nPXsxMH0+XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25TbWFsbCBpY29uPXtcIlx1REI4MFx1REM4MFwifSAvPlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uU21hbGwgaWNvbj17XCJcdURCODFcdURDQzNcIn0gLz5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblNtYWxsIGljb249e1wiXHVEQjg2XHVEQ0Y0XCJ9IC8+XG4gICAgICAgICAgICAgICAgPC9ib3g+XG4gICAgICAgICAgICA8L2JveD5cbiAgICAgICAgPC9Qb3BvdmVyPlxuICAgIClcbn1cblxuY29uc3QgUXVpY2tTZXR0aW5nSW5pdCA9ICh7IGdka21vbml0b3IgfTogUXVpY2tTZXR0aW5nUHJvcHMpID0+IHtcbiAgICBjb25zdCB3ID0gUXVpY2tTZXR0aW5nKHtcbiAgICAgICAgZ2RrbW9uaXRvcjogZ2RrbW9uaXRvcixcbiAgICAgICAgLy8gdmlzaWJsZTogZ2RrbW9uaXRvci5tYW51ZmFjdHVyZXIgPT09IFwiSEtDIE9WRVJTRUFTIExJTUlURURcIixcbiAgICB9KVxuXG4gICAgQXBwLmNvbm5lY3QoXCJ3aW5kb3ctdG9nZ2xlZFwiLCAoX3NvdXJjZSwgd2luZG93KSA9PiB7XG4gICAgICAgIGlmICh3aW5kb3cuZ2V0X25hbWUoKSA9PT0gYFF1aWNrU2V0dGluZy0ke2dka21vbml0b3IubWFudWZhY3R1cmVyfWApIHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgIH1cbiAgICB9KVxuXG4gICAgcmV0dXJuIHdcbn1cblxuZXhwb3J0IGRlZmF1bHQgUXVpY2tTZXR0aW5nSW5pdFxuIiwgImltcG9ydCB7IEFzdGFsSU8sIGludGVydmFsLCB0aW1lb3V0LCBWYXJpYWJsZSB9IGZyb20gXCJhc3RhbFwiXG5pbXBvcnQgeyBTdWJzY3JpYmFibGUgfSBmcm9tIFwiYXN0YWwvYmluZGluZ1wiXG5pbXBvcnQgQXN0YWxOb3RpZmQgZnJvbSBcImdpOi8vQXN0YWxOb3RpZmQ/dmVyc2lvbj0wLjFcIlxuaW1wb3J0IFRpbWVyIGZyb20gXCIuL1RpbWVyXCJcblxuY29uc3Qgbm90aWZkID0gQXN0YWxOb3RpZmQuZ2V0X2RlZmF1bHQoKVxubm90aWZkLmlnbm9yZVRpbWVvdXQgPSB0cnVlIC8vIFdlIGhhbmRsZSB0aW1lb3V0cyBtYW51YWxseVxuXG5jb25zdCBNQVhfUFJPQ0VTU0lORyA9IDNcblxuaW50ZXJmYWNlIEVudHJ5IHtcbiAgICBsaXN0OiBBc3RhbE5vdGlmZC5Ob3RpZmljYXRpb25bXVxuICAgIHF1ZXVlOiBudW1iZXJbXVxuICAgIGFjdGl2ZXM6IFRpbWVyW11cbn1cblxuY2xhc3MgTWFuYWdlciBpbXBsZW1lbnRzIFN1YnNjcmliYWJsZTxFbnRyeT4ge1xuICAgIHB1YmxpYyBsaXN0OiBBc3RhbE5vdGlmZC5Ob3RpZmljYXRpb25bXSA9IG5vdGlmZFxuICAgICAgICAuZ2V0X25vdGlmaWNhdGlvbnMoKVxuICAgICAgICAuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGIudGltZSAtIGEudGltZVxuICAgICAgICB9KVxuXG4gICAgcHJpdmF0ZSBxdWV1ZTogbnVtYmVyW10gPSBbLi4udGhpcy5saXN0XS5yZXZlcnNlKCkubWFwKChuKSA9PiBuLmlkKVxuXG4gICAgcHJpdmF0ZSBhY3RpdmVzOiBUaW1lcltdID0gW11cblxuICAgIHByaXZhdGUgZW50cnk6IFZhcmlhYmxlPEVudHJ5PiA9IFZhcmlhYmxlKHtcbiAgICAgICAgbGlzdDogdGhpcy5saXN0LFxuICAgICAgICBxdWV1ZTogdGhpcy5xdWV1ZSxcbiAgICAgICAgYWN0aXZlczogdGhpcy5hY3RpdmVzLFxuICAgIH0pXG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgbm90aWZkLmNvbm5lY3QoXCJub3RpZmllZFwiLCAoX3NvdXJjZSwgaWQsIHJlcGxhY2VkKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uTm90aWZpZWQoX3NvdXJjZSwgaWQsIHJlcGxhY2VkKVxuICAgICAgICB9KVxuXG4gICAgICAgIG5vdGlmZC5jb25uZWN0KFwicmVzb2x2ZWRcIiwgKF9zb3VyY2UsIGlkLCByZWFzb24pID0+IHtcbiAgICAgICAgICAgIHRoaXMub25SZXNvbHZlZChfc291cmNlLCBpZCwgcmVhc29uKVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMucHJvY2Vzc1F1ZXVlKClcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uTm90aWZpZWQoXG4gICAgICAgIF9zb3VyY2U6IEFzdGFsTm90aWZkLk5vdGlmZCxcbiAgICAgICAgaWQ6IG51bWJlcixcbiAgICAgICAgcmVwbGFjZWQ6IGJvb2xlYW5cbiAgICApIHtcbiAgICAgICAgY29uc3Qgbm90aWZpY2F0aW9uID0gbm90aWZkLmdldF9ub3RpZmljYXRpb24oaWQpXG5cbiAgICAgICAgaWYgKCFub3RpZmljYXRpb24pIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2hlY2sgRG5EIGFuZCB1cmdlbmN5XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIG5vdGlmZC5kb250RGlzdHVyYiAmJlxuICAgICAgICAgICAgbm90aWZpY2F0aW9uLnVyZ2VuY3kgIT09IEFzdGFsTm90aWZkLlVyZ2VuY3kuQ1JJVElDQUxcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHB1c2ggdG8gcXVldWVcbiAgICAgICAgdGhpcy5xdWV1ZS5wdXNoKGlkKVxuXG4gICAgICAgIC8vIHByZXBlbmQgdG8gbGlzdCBpZiBub3QgYWxyZWFkeSBwcmVzZW50XG4gICAgICAgIGlmICghdGhpcy5saXN0LnNvbWUoKG4pID0+IG4uaWQgPT09IGlkKSkge1xuICAgICAgICAgICAgdGhpcy5saXN0LnVuc2hpZnQobm90aWZpY2F0aW9uKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ub3RpZnkoKVxuXG4gICAgICAgIHRoaXMucHJvY2Vzc1F1ZXVlKClcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUmVzb2x2ZWQoXG4gICAgICAgIF9zb3VyY2U6IEFzdGFsTm90aWZkLk5vdGlmZCxcbiAgICAgICAgaWQ6IG51bWJlcixcbiAgICAgICAgcmVhc29uOiBBc3RhbE5vdGlmZC5DbG9zZWRSZWFzb25cbiAgICApIHtcbiAgICAgICAgLy8gcmVtb3ZlIGZyb20gcXVldWVcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnF1ZXVlLmluZGV4T2YoaWQpXG5cbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5xdWV1ZS5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW1vdmUgZnJvbSBhY3RpdmVzXG4gICAgICAgIGNvbnN0IGFjdGl2ZUluZGV4ID0gdGhpcy5hY3RpdmVzLmZpbmRJbmRleCgobikgPT4gbi5pZCA9PT0gaWQpXG5cbiAgICAgICAgaWYgKGFjdGl2ZUluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5hY3RpdmVzLnNwbGljZShhY3RpdmVJbmRleCwgMSlcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlbW92ZSBmcm9tIGxpc3RcbiAgICAgICAgdGhpcy5saXN0ID0gdGhpcy5saXN0LmZpbHRlcigobikgPT4gbi5pZCAhPT0gaWQpXG5cbiAgICAgICAgdGhpcy5ub3RpZnkoKVxuXG4gICAgICAgIHRpbWVvdXQoNTAwLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NRdWV1ZSgpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwcm9jZXNzUXVldWUoKSB7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZXMubGVuZ3RoID49IE1BWF9QUk9DRVNTSU5HKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnF1ZXVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgdGhlIG5leHQgbm90aWZpY2F0aW9uIGZyb20gdGhlIHF1ZXVlXG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5xdWV1ZS5zaGlmdCgpXG5cbiAgICAgICAgaWYgKGlkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIHRvIGFjdGl2ZXNcbiAgICAgICAgY29uc3Qgbm90aWZpY2F0aW9uID0gbm90aWZkLmdldF9ub3RpZmljYXRpb24oaWQpXG4gICAgICAgIHRoaXMuYWN0aXZlcy5wdXNoKFxuICAgICAgICAgICAgbmV3IFRpbWVyKGlkLCBub3RpZmljYXRpb24udXJnZW5jeSwgdGhpcy5zb2Z0RGlzbWlzcy5iaW5kKHRoaXMpKVxuICAgICAgICApXG5cbiAgICAgICAgdGhpcy5ub3RpZnkoKVxuXG4gICAgICAgIHRpbWVvdXQoNTAwLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NRdWV1ZSgpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcHVibGljIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW50cnkuZ2V0KClcbiAgICB9XG5cbiAgICBwdWJsaWMgc3Vic2NyaWJlKGNhbGxiYWNrOiAodmFsdWU6IEVudHJ5KSA9PiB2b2lkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVudHJ5LnN1YnNjcmliZShjYWxsYmFjaylcbiAgICB9XG5cbiAgICBwdWJsaWMgc29mdERpc21pc3MoaWQ6IG51bWJlcikge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuYWN0aXZlcy5maW5kSW5kZXgoKG4pID0+IG4uaWQgPT09IGlkKVxuXG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlcy5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm5vdGlmeSgpXG5cbiAgICAgICAgdGltZW91dCg1MDAsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc1F1ZXVlKClcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVzb2x2ZUFsbCgpIHtcbiAgICAgICAgLy8gQ2xlYXIgdGhlIHF1ZXVlXG4gICAgICAgIHRoaXMucXVldWUgPSBbXVxuXG4gICAgICAgIC8vIENsZWFyIHRoZSBhY3RpdmVzXG4gICAgICAgIHRoaXMuYWN0aXZlcy5mb3JFYWNoKCh0aW1lcikgPT4gdGltZXIuc3RvcCgpKVxuICAgICAgICB0aGlzLmFjdGl2ZXMgPSBbXVxuXG4gICAgICAgIC8vIENsZWFyIHRoZSBsaXN0XG4gICAgICAgIHRoaXMubGlzdCA9IFtdXG5cbiAgICAgICAgLy8gTm90aWZ5IHN1YnNjcmliZXJzXG4gICAgICAgIHRoaXMubm90aWZ5KClcblxuICAgICAgICBmb3IgKGNvbnN0IG5vdGlmaWNhdGlvbiBvZiBub3RpZmQuZ2V0X25vdGlmaWNhdGlvbnMoKSkge1xuICAgICAgICAgICAgbm90aWZpY2F0aW9uLmRpc21pc3MoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBub3RpZnkoKSB7XG4gICAgICAgIHRoaXMuZW50cnkuc2V0KHtcbiAgICAgICAgICAgIGxpc3Q6IHRoaXMubGlzdCxcbiAgICAgICAgICAgIHF1ZXVlOiB0aGlzLnF1ZXVlLFxuICAgICAgICAgICAgYWN0aXZlczogWy4uLnRoaXMuYWN0aXZlc10ucmV2ZXJzZSgpLFxuICAgICAgICB9KVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTWFuYWdlclxuIiwgImltcG9ydCB7IEFzdGFsSU8sIGludGVydmFsLCBWYXJpYWJsZSB9IGZyb20gXCJhc3RhbFwiXG5pbXBvcnQgQXN0YWxOb3RpZmQgZnJvbSBcImdpOi8vQXN0YWxOb3RpZmQ/dmVyc2lvbj0wLjFcIlxuXG5jb25zdCBUSUNLID0gMTBcbmNvbnN0IENSSVRJQ0FMX1RJQ0sgPSAzMFxuXG5jbGFzcyBUaW1lciB7XG4gICAgLyoqXG4gICAgICogTm90aWZpY2F0aW9uIElEXG4gICAgICovXG4gICAgcHVibGljIGlkOiBudW1iZXJcblxuICAgIHB1YmxpYyB0aWNrOiBWYXJpYWJsZTxudW1iZXI+XG5cbiAgICBwcml2YXRlIGRpc21pc3NlcjogKGlkOiBudW1iZXIpID0+IHZvaWRcblxuICAgIHByaXZhdGUgaW50ZXJ2YWw/OiBBc3RhbElPLlRpbWVcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBpZDogbnVtYmVyLFxuICAgICAgICB1cmdlbmN5OiBBc3RhbE5vdGlmZC5VcmdlbmN5LFxuICAgICAgICBkaXNtaXNzZXI6IChpZDogbnVtYmVyKSA9PiB2b2lkXG4gICAgKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZFxuICAgICAgICB0aGlzLnRpY2sgPSBWYXJpYWJsZShcbiAgICAgICAgICAgIHVyZ2VuY3kgPT09IEFzdGFsTm90aWZkLlVyZ2VuY3kuQ1JJVElDQUwgPyBDUklUSUNBTF9USUNLIDogVElDS1xuICAgICAgICApXG4gICAgICAgIHRoaXMuZGlzbWlzc2VyID0gZGlzbWlzc2VyXG5cbiAgICAgICAgdGhpcy5zdGFydCgpXG4gICAgfVxuXG4gICAgcHVibGljIHN0YXJ0KCkge1xuICAgICAgICAvLyBDaGVjayBpZiB0aGUgdGltZXIgYWxyZWFkeSBleGlzdHNcbiAgICAgICAgaWYgKHRoaXMuaW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RhcnQgdGhlIHRpbWVyXG4gICAgICAgIHRoaXMuaW50ZXJ2YWwgPSBpbnRlcnZhbCgxMDAwLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VGljayA9IHRoaXMudGljay5nZXQoKVxuXG4gICAgICAgICAgICBpZiAoY3VycmVudFRpY2sgPD0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJ2YWw/LmNhbmNlbCgpXG4gICAgICAgICAgICAgICAgdGhpcy5pbnRlcnZhbCA9IHVuZGVmaW5lZFxuXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNtaXNzZXIodGhpcy5pZClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aWNrLnNldChjdXJyZW50VGljayAtIDEpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcHVibGljIHN0b3AoKSB7XG4gICAgICAgIC8vIFN0b3AgdGhlIHRpbWVyXG4gICAgICAgIHRoaXMuaW50ZXJ2YWw/LmNhbmNlbCgpXG4gICAgICAgIHRoaXMuaW50ZXJ2YWwgPSB1bmRlZmluZWRcblxuICAgICAgICB0aGlzLnRpY2suc2V0KFRJQ0spIC8vIFJlc2V0IHRoZSB0aWNrXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUaW1lclxuIiwgImltcG9ydCBBc3RhbE5vdGlmZCBmcm9tIFwiZ2k6Ly9Bc3RhbE5vdGlmZD92ZXJzaW9uPTAuMVwiXG5pbXBvcnQgSGVhZGVyIGZyb20gXCIuLi9Ob3RpZmljYXRpb24vSGVhZGVyXCJcbmltcG9ydCBCb2R5IGZyb20gXCIuLi9Ob3RpZmljYXRpb24vQm9keVwiXG5pbXBvcnQgRm9vdGVyIGZyb20gXCIuLi9Ob3RpZmljYXRpb24vRm9vdGVyXCJcblxuY29uc3QgTm90aWZpY2F0aW9uSXRlbSA9ICh7XG4gICAgbm90aWZpY2F0aW9uLFxufToge1xuICAgIG5vdGlmaWNhdGlvbjogQXN0YWxOb3RpZmQuTm90aWZpY2F0aW9uXG59KSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPGJveFxuICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiTm90aWZpY2F0aW9uSXRlbVwiXX1cbiAgICAgICAgICAgIHZlcnRpY2FsPXt0cnVlfVxuICAgICAgICAgICAgc2V0dXA9eyhzZWxmKSA9PiB7XG4gICAgICAgICAgICAgICAgc2VsZi5zZXRfY3NzX2NsYXNzZXMoW1xuICAgICAgICAgICAgICAgICAgICBcIk5vdGlmaWNhdGlvbkl0ZW1cIixcbiAgICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uLnVyZ2VuY3kgPT09IEFzdGFsTm90aWZkLlVyZ2VuY3kuQ1JJVElDQUxcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCJOb3RpZmljYXRpb25JdGVtQ3JpdGljYWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwiLFxuICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgc3BhY2luZz17NX1cbiAgICAgICAgICAgIHZleHBhbmQ9e2ZhbHNlfVxuICAgICAgICA+XG4gICAgICAgICAgICA8SGVhZGVyIG5vdGlmaWNhdGlvbj17bm90aWZpY2F0aW9ufSAvPlxuXG4gICAgICAgICAgICA8Qm9keSBub3RpZmljYXRpb249e25vdGlmaWNhdGlvbn0gLz5cblxuICAgICAgICAgICAgPEZvb3RlciBub3RpZmljYXRpb249e25vdGlmaWNhdGlvbn0gLz5cbiAgICAgICAgPC9ib3g+XG4gICAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBOb3RpZmljYXRpb25JdGVtXG4iLCAiaW1wb3J0IHsgYmluZCwgQmluZGluZywgVmFyaWFibGUgfSBmcm9tIFwiYXN0YWxcIlxuaW1wb3J0IHsgR3RrIH0gZnJvbSBcImFzdGFsL2d0azRcIlxuaW1wb3J0IEFzdGFsTm90aWZkIGZyb20gXCJnaTovL0FzdGFsTm90aWZkP3ZlcnNpb249MC4xXCJcblxuaW50ZXJmYWNlIEhlYWRlclByb3BzIHtcbiAgICBub3RpZmljYXRpb246IEFzdGFsTm90aWZkLk5vdGlmaWNhdGlvblxufVxuXG5jb25zdCBIZWFkZXIgPSAoeyBub3RpZmljYXRpb24gfTogSGVhZGVyUHJvcHMpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8Ym94XG4gICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJIZWFkZXJcIl19XG4gICAgICAgICAgICB2YWxpZ249e0d0ay5BbGlnbi5DRU5URVJ9XG4gICAgICAgICAgICB2ZXhwYW5kPXtmYWxzZX1cbiAgICAgICAgICAgIGhleHBhbmQ9e2ZhbHNlfVxuICAgICAgICA+XG4gICAgICAgICAgICA8Ym94XG4gICAgICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiSGVhZGVyTGVmdFwiXX1cbiAgICAgICAgICAgICAgICBoYWxpZ249e0d0ay5BbGlnbi5TVEFSVH1cbiAgICAgICAgICAgICAgICB2ZXhwYW5kPXtmYWxzZX1cbiAgICAgICAgICAgICAgICBzcGFjaW5nPXs1fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxpbWFnZVxuICAgICAgICAgICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJBcHBJY29uXCJdfVxuICAgICAgICAgICAgICAgICAgICBpY29uTmFtZT17bm90aWZpY2F0aW9uLmFwcEljb24gfHwgbm90aWZpY2F0aW9uLmRlc2t0b3BFbnRyeX1cbiAgICAgICAgICAgICAgICAgICAgcGl4ZWxTaXplPXsxOH1cbiAgICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIkhlYWRlckxhYmVsXCJdfVxuICAgICAgICAgICAgICAgICAgICBsYWJlbD17YCR7bm90aWZpY2F0aW9uLmFwcE5hbWUgfHwgXCJVbmtub3duIEFwcFwifWB9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvYm94PlxuXG4gICAgICAgICAgICA8Ym94XG4gICAgICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiSGVhZGVyUmlnaHRcIl19XG4gICAgICAgICAgICAgICAgaGFsaWduPXtHdGsuQWxpZ24uRU5EfVxuICAgICAgICAgICAgICAgIGhleHBhbmQ9e3RydWV9XG4gICAgICAgICAgICAgICAgc3BhY2luZz17NX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiSGVhZGVyVGltZVwiXX1cbiAgICAgICAgICAgICAgICAgICAgbGFiZWw9e25ldyBEYXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uLnRpbWUgKiAxMDAwXG4gICAgICAgICAgICAgICAgICAgICkudG9Mb2NhbGVUaW1lU3RyaW5nKFwiZW4tVVNcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgaG91cjogXCIyLWRpZ2l0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW51dGU6IFwiMi1kaWdpdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBob3VyMTI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiQ2xvc2VCdXR0b25cIl19XG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXBUZXh0PXtcIkNsb3NlIE5vdGlmaWNhdGlvblwifVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrZWQ9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbi5kaXNtaXNzKClcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjc3NDbGFzc2VzPXtbXCJJY29uXCJdfSBsYWJlbD17XCJcdTI3MTVcIn0gLz5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvYm94PlxuICAgICAgICA8L2JveD5cbiAgICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IEhlYWRlclxuIiwgImltcG9ydCB7IEJpbmRpbmcsIEdMaWIgfSBmcm9tIFwiYXN0YWxcIlxuaW1wb3J0IHsgR3RrIH0gZnJvbSBcImFzdGFsL2d0azRcIlxuaW1wb3J0IEFzdGFsTm90aWZkIGZyb20gXCJnaTovL0FzdGFsTm90aWZkP3ZlcnNpb249MC4xXCJcbmltcG9ydCBQYW5nbyBmcm9tIFwiZ2k6Ly9QYW5nbz92ZXJzaW9uPTEuMFwiXG5cbmNvbnN0IGlzSWNvbiA9IChpY29uOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBpY29uVGhlbWUgPSBuZXcgR3RrLkljb25UaGVtZSgpXG4gICAgcmV0dXJuIGljb25UaGVtZS5oYXNfaWNvbihpY29uKVxufVxuXG5jb25zdCBmaWxlRXhpc3RzID0gKHBhdGg6IHN0cmluZykgPT4gR0xpYi5maWxlX3Rlc3QocGF0aCwgR0xpYi5GaWxlVGVzdC5FWElTVFMpXG5cbmNvbnN0IE1BUktVUF9TQUZFX0FQUFMgPSBbXCJIeXByc2hvdFwiXVxuXG5pbnRlcmZhY2UgQm9keVByb3BzIHtcbiAgICBub3RpZmljYXRpb246IEFzdGFsTm90aWZkLk5vdGlmaWNhdGlvblxufVxuXG5jb25zdCBCb2R5ID0gKHsgbm90aWZpY2F0aW9uIH06IEJvZHlQcm9wcykgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxib3hcbiAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIkJvZHlcIl19XG4gICAgICAgICAgICB2YWxpZ249e0d0ay5BbGlnbi5DRU5URVJ9XG4gICAgICAgICAgICBzcGFjaW5nPXsxMH1cbiAgICAgICAgICAgIHZleHBhbmRcbiAgICAgICAgPlxuICAgICAgICAgICAge25vdGlmaWNhdGlvbi5pbWFnZSAmJiBmaWxlRXhpc3RzKG5vdGlmaWNhdGlvbi5pbWFnZSkgJiYgKFxuICAgICAgICAgICAgICAgIDxib3ggdmFsaWduPXtHdGsuQWxpZ24uQ0VOVEVSfSBjc3NDbGFzc2VzPXtbXCJJbWFnZVwiXX0+XG4gICAgICAgICAgICAgICAgICAgIDxpbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZT17bm90aWZpY2F0aW9uLmltYWdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c9e0d0ay5PdmVyZmxvdy5ISURERU59XG4gICAgICAgICAgICAgICAgICAgICAgICBwaXhlbFNpemU9ezQ4fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvYm94PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAge25vdGlmaWNhdGlvbi5pbWFnZSAmJiBpc0ljb24obm90aWZpY2F0aW9uLmltYWdlKSAmJiAoXG4gICAgICAgICAgICAgICAgPGJveCBjc3NDbGFzc2VzPXtbXCJJY29uXCJdfSB2YWxpZ249e0d0ay5BbGlnbi5DRU5URVJ9PlxuICAgICAgICAgICAgICAgICAgICA8aW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25OYW1lPXtub3RpZmljYXRpb24uaW1hZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICBwaXhlbFNpemU9ezQ4fVxuICAgICAgICAgICAgICAgICAgICAgICAgaGFsaWduPXtHdGsuQWxpZ24uQ0VOVEVSfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWduPXtHdGsuQWxpZ24uQ0VOVEVSfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvYm94PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAge25vdGlmaWNhdGlvbi5hcHBJY29uICYmIGZpbGVFeGlzdHMobm90aWZpY2F0aW9uLmFwcEljb24pICYmIChcbiAgICAgICAgICAgICAgICA8Ym94IGNzc0NsYXNzZXM9e1tcIkljb25cIl19IHZhbGlnbj17R3RrLkFsaWduLkNFTlRFUn0+XG4gICAgICAgICAgICAgICAgICAgIDxpbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZT17bm90aWZpY2F0aW9uLmFwcEljb259XG4gICAgICAgICAgICAgICAgICAgICAgICBwaXhlbFNpemU9ezQ4fVxuICAgICAgICAgICAgICAgICAgICAgICAgaGFsaWduPXtHdGsuQWxpZ24uQ0VOVEVSfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWduPXtHdGsuQWxpZ24uQ0VOVEVSfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvYm94PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgPGJveCBoZXhwYW5kIHZlcnRpY2FsIHZhbGlnbj17R3RrLkFsaWduLkNFTlRFUn0gc3BhY2luZz17NX0+XG4gICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgIGVsbGlwc2l6ZT17UGFuZ28uRWxsaXBzaXplTW9kZS5FTkR9XG4gICAgICAgICAgICAgICAgICAgIG1heFdpZHRoQ2hhcnM9ezMwfVxuICAgICAgICAgICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJTdW1tYXJ5XCJdfVxuICAgICAgICAgICAgICAgICAgICBoYWxpZ249e0d0ay5BbGlnbi5TVEFSVH1cbiAgICAgICAgICAgICAgICAgICAgeGFsaWduPXswfVxuICAgICAgICAgICAgICAgICAgICBsYWJlbD17bm90aWZpY2F0aW9uLnN1bW1hcnl9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICB7bm90aWZpY2F0aW9uLmJvZHkgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIkJvZHlcIl19XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhXaWR0aENoYXJzPXszMH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHdyYXBcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbGlnbj17R3RrLkFsaWduLlNUQVJUfVxuICAgICAgICAgICAgICAgICAgICAgICAgeGFsaWduPXswfVxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9e25vdGlmaWNhdGlvbi5ib2R5fVxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0YWJsZT17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZU1hcmt1cD17TUFSS1VQX1NBRkVfQVBQUy5pbmNsdWRlcyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb24uYXBwTmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9ib3g+XG4gICAgICAgIDwvYm94PlxuICAgIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgQm9keVxuIiwgImltcG9ydCB7IEJpbmRpbmcsIGV4ZWMsIGV4ZWNBc3luYyB9IGZyb20gXCJhc3RhbFwiXG5pbXBvcnQgeyBHdGsgfSBmcm9tIFwiYXN0YWwvZ3RrNFwiXG5pbXBvcnQgQXN0YWxIeXBybGFuZCBmcm9tIFwiZ2k6Ly9Bc3RhbEh5cHJsYW5kP3ZlcnNpb249MC4xXCJcbmltcG9ydCBBc3RhbE5vdGlmZCBmcm9tIFwiZ2k6Ly9Bc3RhbE5vdGlmZD92ZXJzaW9uPTAuMVwiXG5cbmNvbnN0IGh5cHJsYW5kID0gQXN0YWxIeXBybGFuZC5nZXRfZGVmYXVsdCgpXG5cbmludGVyZmFjZSBDdXN0b21BY3Rpb24ge1xuICAgIGxhYmVsOiBzdHJpbmdcbiAgICBhY3Rpb246IChub3RpZmljYXRpb246IEFzdGFsTm90aWZkLk5vdGlmaWNhdGlvbikgPT4gdm9pZFxufVxuXG5jb25zdCBjdXN0b21BY3Rpb25zOiBSZWNvcmQ8c3RyaW5nLCBDdXN0b21BY3Rpb25bXT4gPSB7XG4gICAgSHlwcnNob3Q6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgbGFiZWw6IFwiT3BlbiBEaXJlY3RvcnlcIixcbiAgICAgICAgICAgIGFjdGlvbjogKG5vdGlmaWNhdGlvbjogQXN0YWxOb3RpZmQuTm90aWZpY2F0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZSA9IG5vdGlmaWNhdGlvbi5hcHBJY29uXG4gICAgICAgICAgICAgICAgY29uc3QgZGlyID0gZmlsZS5zdWJzdHJpbmcoMCwgZmlsZS5sYXN0SW5kZXhPZihcIi9cIikpXG5cbiAgICAgICAgICAgICAgICBleGVjQXN5bmMoYHhkZy1vcGVuICR7ZGlyfWApXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBsYWJlbDogXCJWaWV3IEltYWdlXCIsXG4gICAgICAgICAgICBhY3Rpb246IChub3RpZmljYXRpb246IEFzdGFsTm90aWZkLk5vdGlmaWNhdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGUgPSBub3RpZmljYXRpb24uYXBwSWNvblxuICAgICAgICAgICAgICAgIGV4ZWNBc3luYyhgeGRnLW9wZW4gJHtmaWxlfWApXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIF0sXG59XG5cbmludGVyZmFjZSBGb290ZXJQcm9wcyB7XG4gICAgbm90aWZpY2F0aW9uOiBBc3RhbE5vdGlmZC5Ob3RpZmljYXRpb25cbn1cblxuY29uc3QgRm9vdGVyID0gKHsgbm90aWZpY2F0aW9uIH06IEZvb3RlclByb3BzKSA9PiB7XG4gICAgY29uc3QgYWN0aW9ucyA9IG5vdGlmaWNhdGlvbi5nZXRfYWN0aW9ucygpXG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8Ym94IGNzc0NsYXNzZXM9e1tcIkZvb3RlclwiXX0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgPGJveCBjc3NDbGFzc2VzPXtbXCJBY3Rpb25zXCJdfSBzcGFjaW5nPXs2fT5cbiAgICAgICAgICAgICAgICAgICAge2FjdGlvbnMubWFwKChhY3Rpb24pID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZXhwYW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGlja2VkPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbi5pbnZva2UoYWN0aW9uLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb24uZGlzbWlzcygpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xpZW50cyA9IGh5cHJsYW5kLmdldF9jbGllbnRzKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xpZW50ID0gY2xpZW50cy5maW5kKChjKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYy5jbGFzc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluY2x1ZGVzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb24uYXBwTmFtZS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsaWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHlwcmxhbmQuZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJmb2N1c3dpbmRvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBjbGFzczoke2NsaWVudC5jbGFzc31gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17YWN0aW9uLmxhYmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYWxpZ249e0d0ay5BbGlnbi5DRU5URVJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhleHBhbmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICkpfVxuXG4gICAgICAgICAgICAgICAgICAgIHtjdXN0b21BY3Rpb25zW25vdGlmaWNhdGlvbi5hcHBOYW1lXT8ubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgKGN1c3RvbUFjdGlvbikgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGV4cGFuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrZWQ9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbUFjdGlvbi5hY3Rpb24obm90aWZpY2F0aW9uKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb24uZGlzbWlzcygpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXtjdXN0b21BY3Rpb24ubGFiZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYWxpZ249e0d0ay5BbGlnbi5DRU5URVJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZXhwYW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9ib3g+XG4gICAgICAgICAgICB9XG4gICAgICAgIDwvYm94PlxuICAgIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgRm9vdGVyXG4iLCAiaW1wb3J0IHsgR3RrIH0gZnJvbSBcImFzdGFsL2d0azRcIlxuaW1wb3J0IE1hbmFnZXIgZnJvbSBcIi4uLy4uL3NlcnZpY2VzL05vdGlmaWNhdGlvbi9NYW5hZ2VyXCJcbmltcG9ydCB7IGJpbmQgfSBmcm9tIFwiYXN0YWxcIlxuaW1wb3J0IE5vdGlmaWNhdGlvbkl0ZW0gZnJvbSBcIi4vTm90aWZpY2F0aW9uSXRlbVwiXG5cbmNvbnN0IG1hbmFnZXIgPSBuZXcgTWFuYWdlcigpXG5cbmNvbnN0IE5vdGlmaWNhdGlvbnMgPSAoKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPGJveCBjc3NDbGFzc2VzPXtbXCJOb3RpZmljYXRpb25zXCJdfSB2ZXJ0aWNhbD17dHJ1ZX0gc3BhY2luZz17MTB9PlxuICAgICAgICAgICAge2JpbmQobWFuYWdlcikuYXMoKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtlbnRyeS5saXN0Lmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiQ2xlYXJCdXR0b25cIl19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXtcIkNsZWFyIEFsbCBOb3RpZmljYXRpb25zXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2tlZD17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFuYWdlci5yZXNvbHZlQWxsKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICAgICAge2VudHJ5Lmxpc3QubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEd0ay5TY3JvbGxlZFdpbmRvd1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJOb3RpZmljYXRpb25MaXN0U2Nyb2xsZWRXaW5kb3dcIl19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhleHBhbmQ9e3RydWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodFJlcXVlc3Q9ezYwMH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxib3hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIk5vdGlmaWNhdGlvbkxpc3RcIl19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGFjaW5nPXsxMH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZW50cnkubGlzdC5tYXAoKG5vdGlmaWNhdGlvbikgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxOb3RpZmljYXRpb25JdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbj17bm90aWZpY2F0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9ib3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HdGsuU2Nyb2xsZWRXaW5kb3c+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9KX1cbiAgICAgICAgPC9ib3g+XG4gICAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBOb3RpZmljYXRpb25zXG4iLCAiIyEvdXNyL2Jpbi9nanMgLW1cblxuaW1wb3J0IHsgQXBwLCBBc3RhbCwgR2RrLCBHdGsgfSBmcm9tIFwiYXN0YWwvZ3RrNFwiXG5pbXBvcnQgc3R5bGUgZnJvbSBcIi4vc3R5bGVzL3N0eWxlcy5zY3NzXCJcbmltcG9ydCBCYXIgZnJvbSBcIi4vd2lkZ2V0cy9CYXIvQmFyXCJcbmltcG9ydCBRdWlja1NldHRpbmcgZnJvbSBcIi4vd2lkZ2V0cy9RdWlja1NldHRpbmcvUXVpY2tTZXR0aW5nXCJcbmltcG9ydCBBc3RhbEh5cHJsYW5kIGZyb20gXCJnaTovL0FzdGFsSHlwcmxhbmQ/dmVyc2lvbj0wLjFcIlxuaW1wb3J0IHsgZXhlY0FzeW5jLCBHaW8gfSBmcm9tIFwiYXN0YWxcIlxuaW1wb3J0IEFzdGFsVHJheSBmcm9tIFwiZ2k6Ly9Bc3RhbFRyYXk/dmVyc2lvbj0wLjFcIlxuaW1wb3J0IFZvbHVtZSBmcm9tIFwiLi93aWRnZXRzL09zZC9Wb2x1bWVcIlxuaW1wb3J0IE5vdGlmaWNhdGlvblBvcHVwIGZyb20gXCIuL3dpZGdldHMvTm90aWZpY2F0aW9uL05vdGlmaWNhdGlvblBvcHVwXCJcblxuZnVuY3Rpb24gaW5pdE1vbml0b3IoZ2RrbW9uaXRvcjogR2RrLk1vbml0b3IpIHtcbiAgICByZXR1cm4gW1xuICAgICAgICBOb3RpZmljYXRpb25Qb3B1cCh7IGdka21vbml0b3IgfSksXG4gICAgICAgIFZvbHVtZSh7IGdka21vbml0b3IgfSksXG4gICAgICAgIEJhcih7IGdka21vbml0b3IgfSksXG4gICAgICAgIFF1aWNrU2V0dGluZyh7IGdka21vbml0b3IgfSksXG4gICAgXSBhcyBBc3RhbC5XaW5kb3dbXVxufVxuXG5jb25zdCBoeXBybGFuZCA9IEFzdGFsSHlwcmxhbmQuZ2V0X2RlZmF1bHQoKVxuY29uc3Qgd2luZG93cyA9IG5ldyBNYXA8R2RrLk1vbml0b3IsIEFzdGFsLldpbmRvd1tdPigpXG5jb25zdCBoeXByTW9uaXRvcnMgPSBuZXcgTWFwPG51bWJlciwgQXN0YWxIeXBybGFuZC5Nb25pdG9yPigpXG5cbmZ1bmN0aW9uIG9uTW9uaXRvckFkZGVkKFxuICAgIF9zb3VyY2U6IEFzdGFsSHlwcmxhbmQuSHlwcmxhbmQsXG4gICAgbW9uaXRvcjogQXN0YWxIeXBybGFuZC5Nb25pdG9yXG4pIHtcbiAgICBoeXByTW9uaXRvcnMuc2V0KG1vbml0b3IuaWQsIG1vbml0b3IpXG5cbiAgICBjb25zdCBnZGttb25pdG9yID0gQXBwLmdldF9tb25pdG9ycygpLmZpbmQoXG4gICAgICAgIChtKSA9PiBtLmNvbm5lY3RvciA9PT0gbW9uaXRvci5uYW1lXG4gICAgKVxuXG4gICAgaWYgKGdka21vbml0b3IpIHtcbiAgICAgICAgd2luZG93cy5zZXQoZ2RrbW9uaXRvciwgaW5pdE1vbml0b3IoZ2RrbW9uaXRvcikpXG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbk1vbml0b3JSZW1vdmVkKF9zb3VyY2U6IEFzdGFsSHlwcmxhbmQuSHlwcmxhbmQsIGlkOiBudW1iZXIpIHtcbiAgICBjb25zdCBtb25pdG9yID0gaHlwck1vbml0b3JzLmdldChpZClcblxuICAgIGlmICghbW9uaXRvcikge1xuICAgICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBnZGttb25pdG9yID0gQXBwLmdldF9tb25pdG9ycygpLmZpbmQoXG4gICAgICAgIChtKSA9PiBtLmNvbm5lY3RvciA9PT0gbW9uaXRvci5uYW1lXG4gICAgKVxuXG4gICAgaWYgKGdka21vbml0b3IpIHtcbiAgICAgICAgY29uc3Qgd2luZG93c1RvUmVtb3ZlID0gd2luZG93cy5nZXQoZ2RrbW9uaXRvcilcblxuICAgICAgICBpZiAod2luZG93c1RvUmVtb3ZlKSB7XG4gICAgICAgICAgICB3aW5kb3dzVG9SZW1vdmUuZm9yRWFjaCgod2luZG93KSA9PiB3aW5kb3cuZGVzdHJveSgpKVxuXG4gICAgICAgICAgICB3aW5kb3dzLmRlbGV0ZShnZGttb25pdG9yKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaHlwck1vbml0b3JzLmRlbGV0ZShpZClcbn1cblxuZnVuY3Rpb24gcmVpbml0KCkge1xuICAgIC8vIHJlbW92ZSBhbGwgZXhpc3Rpbmcgd2luZG93c1xuICAgIHdpbmRvd3MuZm9yRWFjaCgod2luTGlzdCwgZ2RrbW9uaXRvcikgPT4ge1xuICAgICAgICB3aW5MaXN0LmZvckVhY2goKHdpbmRvdykgPT4gd2luZG93LmRlc3Ryb3koKSlcbiAgICAgICAgd2luZG93cy5kZWxldGUoZ2RrbW9uaXRvcilcbiAgICB9KVxuXG4gICAgLy8gcmVpbml0aWFsaXplIG1vbml0b3JzXG4gICAgaHlwcmxhbmQuZ2V0X21vbml0b3JzKCkuZm9yRWFjaCgobW9uaXRvcikgPT4ge1xuXG4gICAgICAgIGNvbnN0IGdka21vbml0b3IgPSBBcHAuZ2V0X21vbml0b3JzKCkuZmluZChcbiAgICAgICAgICAgIChtKSA9PiBtLmNvbm5lY3RvciA9PT0gbW9uaXRvci5uYW1lXG4gICAgICAgIClcblxuICAgICAgICBpZiAoZ2RrbW9uaXRvcikge1xuICAgICAgICAgICAgd2luZG93cy5zZXQoZ2RrbW9uaXRvciwgaW5pdE1vbml0b3IoZ2RrbW9uaXRvcikpXG4gICAgICAgIH1cbiAgICB9KVxufVxuXG5BcHAuc3RhcnQoe1xuICAgIGluc3RhbmNlTmFtZTogXCJBc3NcIixcbiAgICBjc3M6IHN0eWxlLFxuICAgIG1haW4oKSB7XG4gICAgICAgIGh5cHJsYW5kLmdldF9tb25pdG9ycygpLmZvckVhY2goKG1vbml0b3IpID0+IHtcbiAgICAgICAgICAgIGh5cHJNb25pdG9ycy5zZXQobW9uaXRvci5pZCwgbW9uaXRvcilcblxuXG4gICAgICAgICAgICBjb25zdCBnZGttb25pdG9yID0gQXBwLmdldF9tb25pdG9ycygpLmZpbmQoXG4gICAgICAgICAgICAgICAgKG0pID0+IG0uY29ubmVjdG9yID09PSBtb25pdG9yLm5hbWVcbiAgICAgICAgICAgIClcblxuICAgICAgICAgICAgaWYgKGdka21vbml0b3IpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3dzLnNldChnZGttb25pdG9yLCBpbml0TW9uaXRvcihnZGttb25pdG9yKSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICBoeXBybGFuZC5jb25uZWN0KFwibW9uaXRvci1hZGRlZFwiLCBvbk1vbml0b3JBZGRlZClcbiAgICAgICAgaHlwcmxhbmQuY29ubmVjdChcIm1vbml0b3ItcmVtb3ZlZFwiLCBvbk1vbml0b3JSZW1vdmVkKVxuXG4gICAgICAgIGh5cHJsYW5kLmNvbm5lY3QoXCJzdWJtYXBcIiwgKF9zb3VyY2UsIG5hbWUpID0+IHtcbiAgICAgICAgICAgIGlmIChuYW1lID09PSBcInJlc2l6ZVwiKSB7XG4gICAgICAgICAgICAgICAgZXhlY0FzeW5jKFwibm90aWZ5LXNlbmQgLXQgMTAwMCAnUmVzaXplIG1vZGUgYWN0aXZhdGVkJ1wiKVxuICAgICAgICAgICAgfSBlbHNlIGlmIChuYW1lID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgZXhlY0FzeW5jKFwibm90aWZ5LXNlbmQgLXQgMTAwMCAnQmFjayB0byBub3JtYWwgbW9kZSdcIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9LFxuICAgIHJlcXVlc3RIYW5kbGVyKHJlcXVlc3QsIHJlcykge1xuICAgICAgICBpZiAocmVxdWVzdCA9PSBcInNheSBoaVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzKFwiSGVsbG8gZnJvbSBBc3RhbHRlcyFcIilcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXF1ZXN0ID09PSBcInRyYXlcIikge1xuICAgICAgICAgICAgY29uc3QgdHJheSA9IEFzdGFsVHJheS5nZXRfZGVmYXVsdCgpXG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IHRyYXkuZ2V0X2l0ZW1zKClcblxuICAgICAgICAgICAgaWYgKGl0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMoXCJObyB0cmF5IGl0ZW1zIGZvdW5kXCIpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHRpdGxlcyA9IGl0ZW1zLm1hcCgoaXRlbSkgPT4gaXRlbS50aXRsZSkuam9pbihcIiwgXCIpXG4gICAgICAgICAgICBjb25zdCB0b29sdGlwcyA9IGl0ZW1zLm1hcCgoaXRlbSkgPT4gaXRlbS50b29sdGlwTWFya3VwKS5qb2luKFwiLCBcIilcbiAgICAgICAgICAgIGNvbnN0IGljb25OYW1lcyA9IGl0ZW1zLm1hcCgoaXRlbSkgPT4gaXRlbS5pY29uTmFtZSkuam9pbihcIiwgXCIpXG4gICAgICAgICAgICBjb25zdCBpY29uUGF0aHMgPSBpdGVtcy5tYXAoKGl0ZW0pID0+IGl0ZW0uaWNvblRoZW1lUGF0aCkuam9pbihcIiwgXCIpXG4gICAgICAgICAgICBjb25zdCBqc29ucyA9IGl0ZW1zLm1hcCgoaXRlbSkgPT4gaXRlbS50b19qc29uX3N0cmluZygpKS5qb2luKFwiLFwiKVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzKGBUcmF5IGl0ZW1zOiAke3RpdGxlc31cbiAgICAgICAgICAgICAgICBcXG5Ub29sdGlwczogJHt0b29sdGlwc31cbiAgICAgICAgICAgICAgICBcXG5JY29uczogJHtpY29uTmFtZXN9XG4gICAgICAgICAgICAgICAgXFxuSWNvbiBQYXRoczogJHtpY29uUGF0aHN9XG4gICAgICAgICAgICAgICAgXFxuSlNPTnM6IFske2pzb25zfV1gKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlcXVlc3QgPT0gXCJyZWluaXRcIikge1xuICAgICAgICAgICAgcmVpbml0KClcbiAgICAgICAgICAgIHJldHVybiByZXMoXCJSZWluaXRpYWxpemVkIG1vbml0b3JzXCIpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVxdWVzdC5pbmNsdWRlcyhcInJtbW9uaXRvclwiKSkge1xuICAgICAgICAgICAgY29uc3QgaWQgPSBwYXJzZUludChyZXF1ZXN0LnNwbGl0KFwicm1tb25pdG9yXCIpWzFdLnRyaW0oKSwgMTApXG5cbiAgICAgICAgICAgIGlmIChpc05hTihpZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzKFwiSW52YWxpZCBtb25pdG9yIElEXCIpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9uTW9uaXRvclJlbW92ZWQoaHlwcmxhbmQsIGlkKVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzKFwiTW9uaXRvciByZW1vdmVkXCIpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVxdWVzdC5pbmNsdWRlcyhcImFkZG1vbml0b3JcIikpIHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gcGFyc2VJbnQocmVxdWVzdC5zcGxpdChcImFkZG1vbml0b3JcIilbMV0udHJpbSgpLCAxMClcblxuICAgICAgICAgICAgaWYgKGlzTmFOKGlkKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMoXCJJbnZhbGlkIG1vbml0b3IgSURcIilcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgbW9uaXRvciA9IGh5cHJsYW5kLmdldF9tb25pdG9yKGlkKVxuXG4gICAgICAgICAgICBpZiAobW9uaXRvcikge1xuICAgICAgICAgICAgICAgIG9uTW9uaXRvckFkZGVkKGh5cHJsYW5kLCBtb25pdG9yKVxuICAgICAgICAgICAgICAgIHJldHVybiByZXMoXCJNb25pdG9yIGFkZGVkXCIpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXMoXCJObyBtb25pdG9yIHRvIGFkZFwiKVxuICAgICAgICB9XG5cbiAgICAgICAgcmVzKFwiVW5rbm93biByZXF1ZXN0XCIpXG4gICAgfSxcbn0pXG4iLCAiaW1wb3J0IHsgQXBwLCBBc3RhbCwgR2RrLCBHdGsgfSBmcm9tIFwiYXN0YWwvZ3RrNFwiXG5pbXBvcnQgQXN0YWxXcCBmcm9tIFwiZ2k6Ly9Bc3RhbFdwP3ZlcnNpb249MC4xXCJcbmltcG9ydCB7IEFzdGFsSU8sIHRpbWVvdXQsIFZhcmlhYmxlIH0gZnJvbSBcImFzdGFsXCJcbmltcG9ydCBBc3RhbEh5cHJsYW5kIGZyb20gXCJnaTovL0FzdGFsSHlwcmxhbmQ/dmVyc2lvbj0wLjFcIlxuXG5leHBvcnQgaW50ZXJmYWNlIFZvbHVtZVByb3BzIHtcbiAgICBnZGttb25pdG9yOiBHZGsuTW9uaXRvclxuICAgIG5hbWU6IHN0cmluZ1xufVxuXG5jb25zdCBzcGVha2VyID0gQXN0YWxXcC5nZXRfZGVmYXVsdCgpIS5nZXRfZGVmYXVsdF9zcGVha2VyKClcbmNvbnN0IGh5cHJsYW5kID0gQXN0YWxIeXBybGFuZC5nZXRfZGVmYXVsdCgpXG5cbmNvbnN0IFZvbHVtZUNvbXBvbmVudCA9ICh7IGdka21vbml0b3IsIG5hbWUgfTogVm9sdW1lUHJvcHMpID0+IHtcbiAgICBjb25zdCB2aXNpYmxlID0gVmFyaWFibGUoZmFsc2UpXG4gICAgY29uc3QgaWNvbk5hbWUgPSBWYXJpYWJsZShcIlwiKVxuICAgIGNvbnN0IHZhbHVlID0gVmFyaWFibGUoMClcblxuICAgIGxldCBmaXJzdFRpbWUgPSB0cnVlXG4gICAgbGV0IHRpY2sgPSAwXG4gICAgbGV0IGhpZGVXaW5kb3dUaW1lb3V0OiBBc3RhbElPLlRpbWUgfCB1bmRlZmluZWRcblxuICAgIGZ1bmN0aW9uIHNob3codjogbnVtYmVyLCBpY29uOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKGhpZGVXaW5kb3dUaW1lb3V0KSB7XG4gICAgICAgICAgICBoaWRlV2luZG93VGltZW91dC5jYW5jZWwoKVxuICAgICAgICAgICAgaGlkZVdpbmRvd1RpbWVvdXQgPSB1bmRlZmluZWRcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmaXJzdFRpbWUpIHtcbiAgICAgICAgICAgIGZpcnN0VGltZSA9IGZhbHNlXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHdpbmRvdyA9IEFwcC5nZXRfd2luZG93KG5hbWUpXG5cbiAgICAgICAgd2luZG93Py5zaG93KClcbiAgICAgICAgdmlzaWJsZS5zZXQodHJ1ZSlcbiAgICAgICAgdmFsdWUuc2V0KHYpXG4gICAgICAgIGljb25OYW1lLnNldChpY29uKVxuICAgICAgICB0aWNrKytcblxuICAgICAgICB0aW1lb3V0KDEwMDAsICgpID0+IHtcbiAgICAgICAgICAgIHRpY2stLVxuXG4gICAgICAgICAgICBpZiAodGljayA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHZpc2libGUuc2V0KGZhbHNlKVxuXG4gICAgICAgICAgICAgICAgaGlkZVdpbmRvd1RpbWVvdXQgPSB0aW1lb3V0KDEwMCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3c/LmhpZGUoKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPHdpbmRvd1xuICAgICAgICAgICAgbmFtZT17bmFtZX1cbiAgICAgICAgICAgIGFwcGxpY2F0aW9uPXtBcHB9XG4gICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJWb2x1bWVcIl19XG4gICAgICAgICAgICBnZGttb25pdG9yPXtnZGttb25pdG9yfVxuICAgICAgICAgICAgYW5jaG9yPXtBc3RhbC5XaW5kb3dBbmNob3IuVE9QfVxuICAgICAgICAgICAgbGF5ZXI9e0FzdGFsLkxheWVyLk9WRVJMQVl9XG4gICAgICAgICAgICBleGNsdXNpdml0eT17QXN0YWwuRXhjbHVzaXZpdHkuSUdOT1JFfVxuICAgICAgICAgICAgdmlzaWJsZT17ZmFsc2V9XG4gICAgICAgICAgICBzZXR1cD17KHNlbGYpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBodHRwczpnaXRodWIuY29tL3dtd3cvZ3RrNC1sYXllci1zaGVsbC9pc3N1ZXMvNjBcbiAgICAgICAgICAgICAgICBzZWxmLnNldF9kZWZhdWx0X3NpemUoMSwgMSlcbiAgICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICAgIDxib3hcbiAgICAgICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJDb250YWluZXJcIl19XG4gICAgICAgICAgICAgICAgc2V0dXA9eyhzZWxmKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNwZWFrZXI/LmNvbm5lY3QoXCJub3RpZnk6OnZvbHVtZVwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmb2N1c2VkTW9uID0gaHlwcmxhbmQuZ2V0X2ZvY3VzZWRfbW9uaXRvcigpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb2N1c2VkTW9uLm5hbWUgIT09IGdka21vbml0b3IuY29ubmVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3coc3BlYWtlci52b2x1bWUsIHNwZWFrZXIudm9sdW1lSWNvbilcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiQnV0dG9uXCJdfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrZWQ9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGUuc2V0KGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICB2YWxpZ249e0d0ay5BbGlnbi5DRU5URVJ9XG4gICAgICAgICAgICAgICAgICAgIGhhbGlnbj17R3RrLkFsaWduLkNFTlRFUn1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxib3ggc3BhY2luZz17MTB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltYWdlIGljb25OYW1lPXtpY29uTmFtZSgpfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxldmVsYmFyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWduPXtHdGsuQWxpZ24uQ0VOVEVSfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoUmVxdWVzdD17MTAwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt2YWx1ZSgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXt2YWx1ZSgodikgPT4gYCR7TWF0aC5mbG9vcih2ICogMTAwKX0lYCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L2JveD5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvYm94PlxuICAgICAgICA8L3dpbmRvdz5cbiAgICApXG59XG5cbmNvbnN0IFZvbHVtZSA9ICh7IGdka21vbml0b3IgfTogUGljazxWb2x1bWVQcm9wcywgXCJnZGttb25pdG9yXCI+KSA9PiB7XG4gICAgY29uc3QgbmFtZSA9IGBWb2x1bWUtJHtnZGttb25pdG9yLmNvbm5lY3Rvcn1gXG4gICAgY29uc3QgdyA9IFZvbHVtZUNvbXBvbmVudCh7XG4gICAgICAgIGdka21vbml0b3I6IGdka21vbml0b3IsXG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgfSlcblxuICAgIEFwcC5jb25uZWN0KFwid2luZG93LXRvZ2dsZWRcIiwgKF9zb3VyY2UsIHdpbmRvdykgPT4ge1xuICAgICAgICBpZiAod2luZG93LmdldF9uYW1lKCkgPT09IG5hbWUpIHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgIH1cbiAgICB9KVxuXG4gICAgcmV0dXJuIHdcbn1cblxuZXhwb3J0IGRlZmF1bHQgVm9sdW1lXG4iLCAiaW1wb3J0IEFzdGFsTm90aWZkIGZyb20gXCJnaTovL0FzdGFsTm90aWZkP3ZlcnNpb249MC4xXCJcbmltcG9ydCBIZWFkZXIgZnJvbSBcIi4vSGVhZGVyXCJcbmltcG9ydCBCb2R5IGZyb20gXCIuL0JvZHlcIlxuaW1wb3J0IEZvb3RlciBmcm9tIFwiLi9Gb290ZXJcIlxuaW1wb3J0IFRpbWVyIGZyb20gXCIuLi8uLi9zZXJ2aWNlcy9Ob3RpZmljYXRpb24vVGltZXJcIlxuXG5jb25zdCBub3RpZmQgPSBBc3RhbE5vdGlmZC5nZXRfZGVmYXVsdCgpXG5cbmNvbnN0IE5vdGlmaWNhdGlvbkl0ZW0gPSAoeyB0aW1lciB9OiB7IHRpbWVyOiBUaW1lciB9KSA9PiB7XG4gICAgY29uc3Qgbm90aWZpY2F0aW9uID0gbm90aWZkLmdldF9ub3RpZmljYXRpb24odGltZXIuaWQpXG5cbiAgICBpZiAoIW5vdGlmaWNhdGlvbikge1xuICAgICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICAgIDxib3hcbiAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIk5vdGlmaWNhdGlvbkl0ZW1cIl19XG4gICAgICAgICAgICB2ZXJ0aWNhbD17dHJ1ZX1cbiAgICAgICAgICAgIHNldHVwPXsoc2VsZikgPT4ge1xuICAgICAgICAgICAgICAgIHNlbGYuc2V0X2Nzc19jbGFzc2VzKFtcbiAgICAgICAgICAgICAgICAgICAgXCJOb3RpZmljYXRpb25JdGVtXCIsXG4gICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbi51cmdlbmN5ID09PSBBc3RhbE5vdGlmZC5VcmdlbmN5LkNSSVRJQ0FMXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFwiQ3JpdGljYWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwiLFxuICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25Ib3ZlckVudGVyPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGltZXIuc3RvcCgpXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25Ib3ZlckxlYXZlPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGltZXIuc3RhcnQoKVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHNwYWNpbmc9ezV9XG4gICAgICAgICAgICB2ZXhwYW5kPXtmYWxzZX1cbiAgICAgICAgPlxuICAgICAgICAgICAgPEhlYWRlciBub3RpZmljYXRpb249e25vdGlmaWNhdGlvbn0gLz5cblxuICAgICAgICAgICAgPEJvZHkgbm90aWZpY2F0aW9uPXtub3RpZmljYXRpb259IC8+XG5cbiAgICAgICAgICAgIDxGb290ZXIgbm90aWZpY2F0aW9uPXtub3RpZmljYXRpb259IC8+XG4gICAgICAgIDwvYm94PlxuICAgIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgTm90aWZpY2F0aW9uSXRlbVxuIiwgImltcG9ydCB7IGJpbmQgfSBmcm9tIFwiYXN0YWxcIlxuaW1wb3J0IHsgQXBwLCBBc3RhbCwgR2RrLCBHdGsgfSBmcm9tIFwiYXN0YWwvZ3RrNFwiXG5pbXBvcnQgTm90aWZpY2F0aW9uSXRlbSBmcm9tIFwiLi9Ob3RpZmljYXRpb25JdGVtXCJcbmltcG9ydCBNYW5hZ2VyIGZyb20gXCIuLi8uLi9zZXJ2aWNlcy9Ob3RpZmljYXRpb24vTWFuYWdlclwiXG5cbmNvbnN0IG1hbmFnZXIgPSBuZXcgTWFuYWdlcigpXG5cbmNvbnN0IE5vdGlmaWNhdGlvblBvcHVwID0gKHsgZ2RrbW9uaXRvciB9OiB7IGdka21vbml0b3I6IEdkay5Nb25pdG9yIH0pID0+IHtcbiAgICBjb25zdCBuYW1lID0gYE5vdGlmaWNhdGlvbi0ke2dka21vbml0b3IuY29ubmVjdG9yfWBcbiAgICBjb25zdCB7IFRPUCwgUklHSFQgfSA9IEFzdGFsLldpbmRvd0FuY2hvclxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPHdpbmRvd1xuICAgICAgICAgICAgbmFtZT17bmFtZX1cbiAgICAgICAgICAgIG5hbWVzcGFjZT17XCJOb3RpZmljYXRpb25Qb3B1cFwifVxuICAgICAgICAgICAgYXBwbGljYXRpb249e0FwcH1cbiAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIk5vdGlmaWNhdGlvblBvcHVwXCJdfVxuICAgICAgICAgICAgZ2RrbW9uaXRvcj17Z2RrbW9uaXRvcn1cbiAgICAgICAgICAgIGxheWVyPXtBc3RhbC5MYXllci5UT1B9XG4gICAgICAgICAgICBhbmNob3I9e1RPUCB8IFJJR0hUfVxuICAgICAgICAgICAgdmlzaWJsZT17dHJ1ZX1cbiAgICAgICAgICAgIHNldHVwPXsoc2VsZikgPT4ge1xuICAgICAgICAgICAgICAgIHNlbGYuc2V0X2RlZmF1bHRfc2l6ZSgxLCAxKVxuXG4gICAgICAgICAgICAgICAgbWFuYWdlci5zdWJzY3JpYmUoKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeSAmJiBlbnRyeS5hY3RpdmVzICYmIGVudHJ5LmFjdGl2ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zaG93KClcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaGlkZSgpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgICAgPGJveFxuICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIkNvbnRhaW5lclwiXX1cbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbD17dHJ1ZX1cbiAgICAgICAgICAgICAgICBzcGFjaW5nPXsxMH1cbiAgICAgICAgICAgICAgICB2YWxpZ249e0d0ay5BbGlnbi5TVEFSVH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7YmluZChtYW5hZ2VyKS5hcygoZW50cnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsuLi5lbnRyeS5hY3RpdmVzXS5tYXAoKHRpbWVyKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8Tm90aWZpY2F0aW9uSXRlbSB0aW1lcj17dGltZXJ9IC8+XG4gICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8L2JveD5cbiAgICAgICAgPC93aW5kb3c+XG4gICAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBOb3RpZmljYXRpb25Qb3B1cFxuIl0sCiAgIm1hcHBpbmdzIjogIjs7O0FB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cyI6IFsiQXN0YWwiLCAiR3RrIiwgIkdkayIsICJBc3RhbCIsICJiaW5kIiwgImludGVydmFsIiwgInRpbWVvdXQiLCAiQXN0YWwiLCAiQXN0YWwiLCAiQXN0YWwiLCAidiIsICJpbnRlcnZhbCIsICJleGVjIiwgImN0b3JzIiwgIkd0ayIsICJBc3RhbCIsICJzbmFrZWlmeSIsICJwYXRjaCIsICJXaWZpIiwgIlRyYXkiLCAiR3RrIiwgIkFzdGFsIiwgIkFzdGFsIiwgIkd0ayIsICJHdGsiLCAiQXN0YWwiLCAiY2giLCAiR2RrIiwgImRlZmF1bHQiLCAiQXN0YWwiLCAiR09iamVjdCIsICJkZWZhdWx0IiwgIkdPYmplY3QiLCAianN4IiwgImpzeCIsICJHdGsiLCAianN4IiwgIkFzdGFsSHlwcmxhbmQiLCAiaHlwcmxhbmQiLCAiQXN0YWxIeXBybGFuZCIsICJmb2N1c2VkQ2xpZW50IiwgImpzeCIsICJHdGsiLCAianN4IiwgIkd0ayIsICJ0aW1lb3V0IiwgImpzeCIsICJNZW51QnV0dG9uIiwgIkd0ayIsICJQYW5nbyIsICJBc3RhbEh5cHJsYW5kIiwgImh5cHJsYW5kIiwgIkFzdGFsSHlwcmxhbmQiLCAianN4IiwgIkd0ayIsICJQYW5nbyIsICJBc3RhbE1wcmlzIiwgIkFzdGFsTXByaXMiLCAiR3RrIiwgImpzeCIsICJUaW1lIiwgImpzeCIsICJpbnRlcnZhbCIsICJqc3giLCAiR3RrIiwgImpzeCIsICJBc3RhbCIsICJqc3giLCAiUG9wb3ZlciIsICJBc3RhbCIsICJqc3giLCAiR2RrIiwgIkJ1dHRvbiIsICJqc3giLCAiR3RrIiwgImpzeCIsICJHdGsiLCAiQXN0YWxOb3RpZmQiLCAiQXN0YWxOb3RpZmQiLCAiQXN0YWxOb3RpZmQiLCAiR3RrIiwgImpzeCIsICJQYW5nbyIsICJHdGsiLCAiZGVmYXVsdCIsICJqc3giLCAiUGFuZ28iLCAiQXN0YWxIeXBybGFuZCIsICJoeXBybGFuZCIsICJBc3RhbEh5cHJsYW5kIiwgImpzeCIsICJHdGsiLCAiQXN0YWxOb3RpZmQiLCAianN4IiwgImpzeCIsICJHdGsiLCAic3BlYWtlciIsICJqc3giLCAiR3RrIiwgIkFzdGFsSHlwcmxhbmQiLCAiQXN0YWxUcmF5IiwgIkFzdGFsV3AiLCAiQXN0YWxIeXBybGFuZCIsICJBc3RhbFdwIiwgImh5cHJsYW5kIiwgIkFzdGFsSHlwcmxhbmQiLCAianN4IiwgIkFzdGFsIiwgIkd0ayIsICJBc3RhbE5vdGlmZCIsICJub3RpZmQiLCAiQXN0YWxOb3RpZmQiLCAiTm90aWZpY2F0aW9uSXRlbSIsICJqc3giLCAiTm90aWZpY2F0aW9uSXRlbV9kZWZhdWx0IiwgIm1hbmFnZXIiLCAiQXN0YWwiLCAianN4IiwgIkd0ayIsICJOb3RpZmljYXRpb25JdGVtX2RlZmF1bHQiLCAiaHlwcmxhbmQiLCAiQXN0YWxIeXBybGFuZCIsICJBc3RhbFRyYXkiXQp9Cg==
