#!/usr/bin/gjs -m

// ../../../../usr/share/astal/gjs/gtk4/index.ts
import Astal6 from "gi://Astal?version=4.0";
import Gtk4 from "gi://Gtk?version=4.0";
import Gdk2 from "gi://Gdk?version=4.0";

// ../../../../usr/share/astal/gjs/variable.ts
import Astal3 from "gi://AstalIO";

// ../../../../usr/share/astal/gjs/binding.ts
var snakeify = (str) => str.replace(/([a-z])([A-Z])/g, "$1_$2").replaceAll("-", "_").toLowerCase();
var kebabify = (str) => str.replace(/([a-z])([A-Z])/g, "$1-$2").replaceAll("_", "-").toLowerCase();
var Binding = class _Binding {
  transformFn = (v) => v;
  #emitter;
  #prop;
  static bind(emitter, prop) {
    return new _Binding(emitter, prop);
  }
  constructor(emitter, prop) {
    this.#emitter = emitter;
    this.#prop = prop && kebabify(prop);
  }
  toString() {
    return `Binding<${this.#emitter}${this.#prop ? `, "${this.#prop}"` : ""}>`;
  }
  as(fn) {
    const bind2 = new _Binding(this.#emitter, this.#prop);
    bind2.transformFn = (v) => fn(this.transformFn(v));
    return bind2;
  }
  get() {
    if (typeof this.#emitter.get === "function")
      return this.transformFn(this.#emitter.get());
    if (typeof this.#prop === "string") {
      const getter = `get_${snakeify(this.#prop)}`;
      if (typeof this.#emitter[getter] === "function")
        return this.transformFn(this.#emitter[getter]());
      return this.transformFn(this.#emitter[this.#prop]);
    }
    throw Error("can not get value of binding");
  }
  subscribe(callback) {
    if (typeof this.#emitter.subscribe === "function") {
      return this.#emitter.subscribe(() => {
        callback(this.get());
      });
    } else if (typeof this.#emitter.connect === "function") {
      const signal = `notify::${this.#prop}`;
      const id = this.#emitter.connect(signal, () => {
        callback(this.get());
      });
      return () => {
        this.#emitter.disconnect(id);
      };
    }
    throw Error(`${this.#emitter} is not bindable`);
  }
};
var { bind } = Binding;
var binding_default = Binding;

// ../../../../usr/share/astal/gjs/time.ts
import Astal from "gi://AstalIO";
var Time = Astal.Time;
function interval(interval3, callback) {
  return Astal.Time.interval(interval3, () => void callback?.());
}
function timeout(timeout2, callback) {
  return Astal.Time.timeout(timeout2, () => void callback?.());
}

// ../../../../usr/share/astal/gjs/process.ts
import Astal2 from "gi://AstalIO";
var Process = Astal2.Process;
function subprocess(argsOrCmd, onOut = print, onErr = printerr) {
  const args = Array.isArray(argsOrCmd) || typeof argsOrCmd === "string";
  const { cmd, err, out } = {
    cmd: args ? argsOrCmd : argsOrCmd.cmd,
    err: args ? onErr : argsOrCmd.err || onErr,
    out: args ? onOut : argsOrCmd.out || onOut
  };
  const proc = Array.isArray(cmd) ? Astal2.Process.subprocessv(cmd) : Astal2.Process.subprocess(cmd);
  proc.connect("stdout", (_, stdout) => out(stdout));
  proc.connect("stderr", (_, stderr) => err(stderr));
  return proc;
}
function execAsync(cmd) {
  return new Promise((resolve, reject) => {
    if (Array.isArray(cmd)) {
      Astal2.Process.exec_asyncv(cmd, (_, res) => {
        try {
          resolve(Astal2.Process.exec_asyncv_finish(res));
        } catch (error) {
          reject(error);
        }
      });
    } else {
      Astal2.Process.exec_async(cmd, (_, res) => {
        try {
          resolve(Astal2.Process.exec_finish(res));
        } catch (error) {
          reject(error);
        }
      });
    }
  });
}

// ../../../../usr/share/astal/gjs/variable.ts
var VariableWrapper = class extends Function {
  variable;
  errHandler = console.error;
  _value;
  _poll;
  _watch;
  pollInterval = 1e3;
  pollExec;
  pollTransform;
  pollFn;
  watchTransform;
  watchExec;
  constructor(init) {
    super();
    this._value = init;
    this.variable = new Astal3.VariableBase();
    this.variable.connect("dropped", () => {
      this.stopWatch();
      this.stopPoll();
    });
    this.variable.connect("error", (_, err) => this.errHandler?.(err));
    return new Proxy(this, {
      apply: (target, _, args) => target._call(args[0])
    });
  }
  _call(transform) {
    const b = binding_default.bind(this);
    return transform ? b.as(transform) : b;
  }
  toString() {
    return String(`Variable<${this.get()}>`);
  }
  get() {
    return this._value;
  }
  set(value) {
    if (value !== this._value) {
      this._value = value;
      this.variable.emit("changed");
    }
  }
  startPoll() {
    if (this._poll)
      return;
    if (this.pollFn) {
      this._poll = interval(this.pollInterval, () => {
        const v = this.pollFn(this.get());
        if (v instanceof Promise) {
          v.then((v2) => this.set(v2)).catch((err) => this.variable.emit("error", err));
        } else {
          this.set(v);
        }
      });
    } else if (this.pollExec) {
      this._poll = interval(this.pollInterval, () => {
        execAsync(this.pollExec).then((v) => this.set(this.pollTransform(v, this.get()))).catch((err) => this.variable.emit("error", err));
      });
    }
  }
  startWatch() {
    if (this._watch)
      return;
    this._watch = subprocess({
      cmd: this.watchExec,
      out: (out) => this.set(this.watchTransform(out, this.get())),
      err: (err) => this.variable.emit("error", err)
    });
  }
  stopPoll() {
    this._poll?.cancel();
    delete this._poll;
  }
  stopWatch() {
    this._watch?.kill();
    delete this._watch;
  }
  isPolling() {
    return !!this._poll;
  }
  isWatching() {
    return !!this._watch;
  }
  drop() {
    this.variable.emit("dropped");
  }
  onDropped(callback) {
    this.variable.connect("dropped", callback);
    return this;
  }
  onError(callback) {
    delete this.errHandler;
    this.variable.connect("error", (_, err) => callback(err));
    return this;
  }
  subscribe(callback) {
    const id = this.variable.connect("changed", () => {
      callback(this.get());
    });
    return () => this.variable.disconnect(id);
  }
  poll(interval3, exec, transform = (out) => out) {
    this.stopPoll();
    this.pollInterval = interval3;
    this.pollTransform = transform;
    if (typeof exec === "function") {
      this.pollFn = exec;
      delete this.pollExec;
    } else {
      this.pollExec = exec;
      delete this.pollFn;
    }
    this.startPoll();
    return this;
  }
  watch(exec, transform = (out) => out) {
    this.stopWatch();
    this.watchExec = exec;
    this.watchTransform = transform;
    this.startWatch();
    return this;
  }
  observe(objs, sigOrFn, callback) {
    const f = typeof sigOrFn === "function" ? sigOrFn : callback ?? (() => this.get());
    const set = (obj, ...args) => this.set(f(obj, ...args));
    if (Array.isArray(objs)) {
      for (const obj of objs) {
        const [o, s] = obj;
        const id = o.connect(s, set);
        this.onDropped(() => o.disconnect(id));
      }
    } else {
      if (typeof sigOrFn === "string") {
        const id = objs.connect(sigOrFn, set);
        this.onDropped(() => objs.disconnect(id));
      }
    }
    return this;
  }
  static derive(deps, fn = (...args) => args) {
    const update = () => fn(...deps.map((d) => d.get()));
    const derived = new Variable(update());
    const unsubs = deps.map((dep) => dep.subscribe(() => derived.set(update())));
    derived.onDropped(() => unsubs.map((unsub) => unsub()));
    return derived;
  }
};
var Variable = new Proxy(VariableWrapper, {
  apply: (_t, _a, args) => new VariableWrapper(args[0])
});
var { derive } = Variable;
var variable_default = Variable;

// ../../../../usr/share/astal/gjs/_astal.ts
var noImplicitDestroy = Symbol("no no implicit destroy");
var setChildren = Symbol("children setter method");
function mergeBindings(array) {
  function getValues(...args) {
    let i = 0;
    return array.map(
      (value) => value instanceof binding_default ? args[i++] : value
    );
  }
  const bindings = array.filter((i) => i instanceof binding_default);
  if (bindings.length === 0)
    return array;
  if (bindings.length === 1)
    return bindings[0].as(getValues);
  return variable_default.derive(bindings, getValues)();
}
function setProp(obj, prop, value) {
  try {
    const setter = `set_${snakeify(prop)}`;
    if (typeof obj[setter] === "function")
      return obj[setter](value);
    return obj[prop] = value;
  } catch (error) {
    console.error(`could not set property "${prop}" on ${obj}:`, error);
  }
}
function construct(widget, config) {
  let { setup, child, children = [], ...props } = config;
  if (children instanceof binding_default) {
    children = [children];
  }
  if (child) {
    children.unshift(child);
  }
  for (const [key, value] of Object.entries(props)) {
    if (value === void 0) {
      delete props[key];
    }
  }
  const bindings = Object.keys(props).reduce((acc, prop) => {
    if (props[prop] instanceof binding_default) {
      const binding = props[prop];
      delete props[prop];
      return [...acc, [prop, binding]];
    }
    return acc;
  }, []);
  const onHandlers = Object.keys(props).reduce((acc, key) => {
    if (key.startsWith("on")) {
      const sig = kebabify(key).split("-").slice(1).join("-");
      const handler = props[key];
      delete props[key];
      return [...acc, [sig, handler]];
    }
    return acc;
  }, []);
  const mergedChildren = mergeBindings(children.flat(Infinity));
  if (mergedChildren instanceof binding_default) {
    widget[setChildren](mergedChildren.get());
    widget.connect("destroy", mergedChildren.subscribe((v) => {
      widget[setChildren](v);
    }));
  } else {
    if (mergedChildren.length > 0) {
      widget[setChildren](mergedChildren);
    }
  }
  for (const [signal, callback] of onHandlers) {
    const sig = signal.startsWith("notify") ? signal.replace("-", "::") : signal;
    if (typeof callback === "function") {
      widget.connect(sig, callback);
    } else {
      widget.connect(sig, () => execAsync(callback).then(print).catch(console.error));
    }
  }
  for (const [prop, binding] of bindings) {
    if (prop === "child" || prop === "children") {
      widget.connect("destroy", binding.subscribe((v) => {
        widget[setChildren](v);
      }));
    }
    widget.connect("destroy", binding.subscribe((v) => {
      setProp(widget, prop, v);
    }));
    setProp(widget, prop, binding.get());
  }
  for (const [key, value] of Object.entries(props)) {
    if (value === void 0) {
      delete props[key];
    }
  }
  Object.assign(widget, props);
  setup?.(widget);
  return widget;
}
function isArrowFunction(func) {
  return !Object.hasOwn(func, "prototype");
}
function jsx(ctors2, ctor, { children, ...props }) {
  children ??= [];
  if (!Array.isArray(children))
    children = [children];
  children = children.filter(Boolean);
  if (children.length === 1)
    props.child = children[0];
  else if (children.length > 1)
    props.children = children;
  if (typeof ctor === "string") {
    if (isArrowFunction(ctors2[ctor]))
      return ctors2[ctor](props);
    return new ctors2[ctor](props);
  }
  if (isArrowFunction(ctor))
    return ctor(props);
  return new ctor(props);
}

// ../../../../usr/share/astal/gjs/gtk4/astalify.ts
import Gtk from "gi://Gtk?version=4.0";
import Gdk from "gi://Gdk?version=4.0";
var type = Symbol("child type");
var dummyBulder = new Gtk.Builder();
function _getChildren(widget) {
  if ("get_child" in widget && typeof widget.get_child == "function") {
    return widget.get_child() ? [widget.get_child()] : [];
  }
  const children = [];
  let ch = widget.get_first_child();
  while (ch !== null) {
    children.push(ch);
    ch = ch.get_next_sibling();
  }
  return children;
}
function _setChildren(widget, children) {
  children = children.flat(Infinity).map((ch) => ch instanceof Gtk.Widget ? ch : new Gtk.Label({ visible: true, label: String(ch) }));
  for (const child of children) {
    widget.vfunc_add_child(
      dummyBulder,
      child,
      type in child ? child[type] : null
    );
  }
}
function astalify(cls, config = {}) {
  Object.assign(cls.prototype, {
    [setChildren](children) {
      const w = this;
      for (const child of config.getChildren?.(w) || _getChildren(w)) {
        if (child instanceof Gtk.Widget) {
          child.unparent();
          if (!children.includes(child) && noImplicitDestroy in this)
            child.run_dispose();
        }
      }
      if (config.setChildren) {
        config.setChildren(w, children);
      } else {
        _setChildren(w, children);
      }
    }
  });
  return {
    [cls.name]: (props = {}, ...children) => {
      const widget = new cls("cssName" in props ? { cssName: props.cssName } : {});
      if ("cssName" in props) {
        delete props.cssName;
      }
      if (props.noImplicitDestroy) {
        Object.assign(widget, { [noImplicitDestroy]: true });
        delete props.noImplicitDestroy;
      }
      if (props.type) {
        Object.assign(widget, { [type]: props.type });
        delete props.type;
      }
      if (children.length > 0) {
        Object.assign(props, { children });
      }
      return construct(widget, setupControllers(widget, props));
    }
  }[cls.name];
}
function setupControllers(widget, {
  onFocusEnter,
  onFocusLeave,
  onKeyPressed,
  onKeyReleased,
  onKeyModifier,
  onLegacy,
  onButtonPressed,
  onButtonReleased,
  onHoverEnter,
  onHoverLeave,
  onMotion,
  onScroll,
  onScrollDecelerate,
  ...props
}) {
  if (onFocusEnter || onFocusLeave) {
    const focus = new Gtk.EventControllerFocus();
    widget.add_controller(focus);
    if (onFocusEnter)
      focus.connect("enter", () => onFocusEnter(widget));
    if (onFocusLeave)
      focus.connect("leave", () => onFocusLeave(widget));
  }
  if (onKeyPressed || onKeyReleased || onKeyModifier) {
    const key = new Gtk.EventControllerKey();
    widget.add_controller(key);
    if (onKeyPressed)
      key.connect("key-pressed", (_, val, code, state) => onKeyPressed(widget, val, code, state));
    if (onKeyReleased)
      key.connect("key-released", (_, val, code, state) => onKeyReleased(widget, val, code, state));
    if (onKeyModifier)
      key.connect("modifiers", (_, state) => onKeyModifier(widget, state));
  }
  if (onLegacy || onButtonPressed || onButtonReleased) {
    const legacy = new Gtk.EventControllerLegacy();
    widget.add_controller(legacy);
    legacy.connect("event", (_, event) => {
      if (event.get_event_type() === Gdk.EventType.BUTTON_PRESS) {
        onButtonPressed?.(widget, event);
      }
      if (event.get_event_type() === Gdk.EventType.BUTTON_RELEASE) {
        onButtonReleased?.(widget, event);
      }
      onLegacy?.(widget, event);
    });
  }
  if (onMotion || onHoverEnter || onHoverLeave) {
    const hover = new Gtk.EventControllerMotion();
    widget.add_controller(hover);
    if (onHoverEnter)
      hover.connect("enter", (_, x, y) => onHoverEnter(widget, x, y));
    if (onHoverLeave)
      hover.connect("leave", () => onHoverLeave(widget));
    if (onMotion)
      hover.connect("motion", (_, x, y) => onMotion(widget, x, y));
  }
  if (onScroll || onScrollDecelerate) {
    const scroll = new Gtk.EventControllerScroll();
    scroll.flags = Gtk.EventControllerScrollFlags.BOTH_AXES | Gtk.EventControllerScrollFlags.KINETIC;
    widget.add_controller(scroll);
    if (onScroll)
      scroll.connect("scroll", (_, x, y) => onScroll(widget, x, y));
    if (onScrollDecelerate)
      scroll.connect("decelerate", (_, x, y) => onScrollDecelerate(widget, x, y));
  }
  return props;
}

// ../../../../usr/share/astal/gjs/gtk4/app.ts
import GLib from "gi://GLib?version=2.0";
import Gtk2 from "gi://Gtk?version=4.0";
import Astal4 from "gi://Astal?version=4.0";

// ../../../../usr/share/astal/gjs/overrides.ts
var snakeify2 = (str) => str.replace(/([a-z])([A-Z])/g, "$1_$2").replaceAll("-", "_").toLowerCase();
async function suppress(mod, patch2) {
  return mod.then((m) => patch2(m.default)).catch(() => void 0);
}
function patch(proto, prop) {
  Object.defineProperty(proto, prop, {
    get() {
      return this[`get_${snakeify2(prop)}`]();
    }
  });
}
await suppress(import("gi://AstalApps"), ({ Apps, Application }) => {
  patch(Apps.prototype, "list");
  patch(Application.prototype, "keywords");
  patch(Application.prototype, "categories");
});
await suppress(import("gi://AstalBattery"), ({ UPower }) => {
  patch(UPower.prototype, "devices");
});
await suppress(import("gi://AstalBluetooth"), ({ Adapter, Bluetooth, Device }) => {
  patch(Adapter.prototype, "uuids");
  patch(Bluetooth.prototype, "adapters");
  patch(Bluetooth.prototype, "devices");
  patch(Device.prototype, "uuids");
});
await suppress(import("gi://AstalCava"), ({ Cava }) => {
  patch(Cava.prototype, "values");
});
await suppress(import("gi://AstalHyprland"), ({ Hyprland, Monitor, Workspace }) => {
  patch(Hyprland.prototype, "binds");
  patch(Hyprland.prototype, "monitors");
  patch(Hyprland.prototype, "workspaces");
  patch(Hyprland.prototype, "clients");
  patch(Monitor.prototype, "availableModes");
  patch(Monitor.prototype, "available_modes");
  patch(Workspace.prototype, "clients");
});
await suppress(import("gi://AstalMpris"), ({ Mpris, Player }) => {
  patch(Mpris.prototype, "players");
  patch(Player.prototype, "supported_uri_schemes");
  patch(Player.prototype, "supportedUriSchemes");
  patch(Player.prototype, "supported_mime_types");
  patch(Player.prototype, "supportedMimeTypes");
  patch(Player.prototype, "comments");
});
await suppress(import("gi://AstalNetwork"), ({ Wifi }) => {
  patch(Wifi.prototype, "access_points");
  patch(Wifi.prototype, "accessPoints");
});
await suppress(import("gi://AstalNotifd"), ({ Notifd, Notification }) => {
  patch(Notifd.prototype, "notifications");
  patch(Notification.prototype, "actions");
});
await suppress(import("gi://AstalPowerProfiles"), ({ PowerProfiles }) => {
  patch(PowerProfiles.prototype, "actions");
});
await suppress(import("gi://AstalRiver"), ({ River }) => {
  patch(River.prototype, "outputs");
});
await suppress(import("gi://AstalTray"), ({ Tray: Tray2 }) => {
  patch(Tray2.prototype, "items");
});
await suppress(import("gi://AstalWp"), ({ Wp, Audio, Video, Node, Endpoint, Device }) => {
  patch(Wp.prototype, "nodes");
  patch(Wp.prototype, "devices");
  patch(Audio.prototype, "streams");
  patch(Audio.prototype, "recorders");
  patch(Audio.prototype, "microphones");
  patch(Audio.prototype, "speakers");
  patch(Audio.prototype, "devices");
  patch(Video.prototype, "streams");
  patch(Video.prototype, "recorders");
  patch(Video.prototype, "sinks");
  patch(Video.prototype, "sources");
  patch(Video.prototype, "devices");
  patch(Endpoint.prototype, "routes");
  patch(Node.prototype, "channels");
  patch(Device.prototype, "profiles");
  patch(Device.prototype, "routes");
  patch(Device.prototype, "input_routes");
  patch(Device.prototype, "inputRoutes");
  patch(Device.prototype, "output_routes");
  patch(Device.prototype, "outputRoutes");
});

// ../../../../usr/share/astal/gjs/_app.ts
import { setConsoleLogDomain } from "console";
import { exit, programArgs } from "system";
import IO from "gi://AstalIO";
import GObject from "gi://GObject";
function mkApp(App) {
  return new class AstalJS extends App {
    static {
      GObject.registerClass({ GTypeName: "AstalJS" }, this);
    }
    eval(body) {
      return new Promise((res, rej) => {
        try {
          const fn = Function(`return (async function() {
                        ${body.includes(";") ? body : `return ${body};`}
                    })`);
          fn()().then(res).catch(rej);
        } catch (error) {
          rej(error);
        }
      });
    }
    requestHandler;
    vfunc_request(msg, conn) {
      if (typeof this.requestHandler === "function") {
        this.requestHandler(msg, (response) => {
          IO.write_sock(
            conn,
            String(response),
            (_, res) => IO.write_sock_finish(res)
          );
        });
      } else {
        super.vfunc_request(msg, conn);
      }
    }
    apply_css(style, reset = false) {
      super.apply_css(style, reset);
    }
    quit(code) {
      super.quit();
      exit(code ?? 0);
    }
    start({ requestHandler, css, hold, main, client, icons, ...cfg } = {}) {
      const app = this;
      client ??= () => {
        print(`Astal instance "${app.instanceName}" already running`);
        exit(1);
      };
      Object.assign(this, cfg);
      setConsoleLogDomain(app.instanceName);
      this.requestHandler = requestHandler;
      app.connect("activate", () => {
        main?.(...programArgs);
      });
      try {
        app.acquire_socket();
      } catch (error) {
        return client((msg) => IO.send_request(app.instanceName, msg), ...programArgs);
      }
      if (css)
        this.apply_css(css, false);
      if (icons)
        app.add_icons(icons);
      hold ??= true;
      if (hold)
        app.hold();
      app.runAsync([]);
    }
  }();
}

// ../../../../usr/share/astal/gjs/gtk4/app.ts
Gtk2.init();
GLib.unsetenv("LD_PRELOAD");
await import("gi://Adw?version=1").then(({ default: Adw }) => Adw.init()).catch(() => void 0);
var app_default = mkApp(Astal4.Application);

// ../../../../usr/share/astal/gjs/gtk4/widget.ts
import Astal5 from "gi://Astal?version=4.0";
import Gtk3 from "gi://Gtk?version=4.0";
function filter(children) {
  return children.flat(Infinity).map((ch) => ch instanceof Gtk3.Widget ? ch : new Gtk3.Label({ visible: true, label: String(ch) }));
}
Object.defineProperty(Astal5.Box.prototype, "children", {
  get() {
    return this.get_children();
  },
  set(v) {
    this.set_children(v);
  }
});
var Box = astalify(Astal5.Box, {
  getChildren(self) {
    return self.get_children();
  },
  setChildren(self, children) {
    return self.set_children(filter(children));
  }
});
var Button = astalify(Gtk3.Button);
var CenterBox = astalify(Gtk3.CenterBox, {
  getChildren(box) {
    return [box.startWidget, box.centerWidget, box.endWidget];
  },
  setChildren(box, children) {
    const ch = filter(children);
    box.startWidget = ch[0] || new Gtk3.Box();
    box.centerWidget = ch[1] || new Gtk3.Box();
    box.endWidget = ch[2] || new Gtk3.Box();
  }
});
var Entry = astalify(Gtk3.Entry, {
  getChildren() {
    return [];
  }
});
var Image = astalify(Gtk3.Image, {
  getChildren() {
    return [];
  }
});
var Label = astalify(Gtk3.Label, {
  getChildren() {
    return [];
  },
  setChildren(self, children) {
    self.label = String(children);
  }
});
var LevelBar = astalify(Gtk3.LevelBar, {
  getChildren() {
    return [];
  }
});
var Overlay = astalify(Gtk3.Overlay, {
  getChildren(self) {
    const children = [];
    let ch = self.get_first_child();
    while (ch !== null) {
      children.push(ch);
      ch = ch.get_next_sibling();
    }
    return children.filter((ch2) => ch2 !== self.child);
  },
  setChildren(self, children) {
    for (const child of filter(children)) {
      const types = type in child ? child[type].split(/\s+/) : [];
      if (types.includes("overlay")) {
        self.add_overlay(child);
      } else {
        self.set_child(child);
      }
      self.set_measure_overlay(child, types.includes("measure"));
      self.set_clip_overlay(child, types.includes("clip"));
    }
  }
});
var Revealer = astalify(Gtk3.Revealer);
var Slider = astalify(Astal5.Slider, {
  getChildren() {
    return [];
  }
});
var Stack = astalify(Gtk3.Stack, {
  setChildren(self, children) {
    for (const child of filter(children)) {
      if (child.name != "" && child.name != null) {
        self.add_named(child, child.name);
      } else {
        self.add_child(child);
      }
    }
  }
});
var Switch = astalify(Gtk3.Switch, {
  getChildren() {
    return [];
  }
});
var Window = astalify(Astal5.Window);
var MenuButton = astalify(Gtk3.MenuButton, {
  getChildren(self) {
    return [self.popover, self.child];
  },
  setChildren(self, children) {
    for (const child of filter(children)) {
      if (child instanceof Gtk3.Popover) {
        self.set_popover(child);
      } else {
        self.set_child(child);
      }
    }
  }
});
var Popover = astalify(Gtk3.Popover);

// sass:/home/gegeh/Documents/astal-test/styles/styles.scss
var styles_default = 'window {\n  background-color: transparent;\n  color: #3c3836;\n  font-family: "JetBrainsMono Nerd Font", sans-serif;\n  font-size: 14px;\n}\n\nbutton {\n  background-color: transparent;\n  color: #3c3836;\n  padding: 0;\n  border: none;\n  border-radius: 0;\n}\n\nlabel {\n  background-color: transparent;\n}\n\nbox {\n  background-color: transparent;\n}\n\n.Icon {\n  font-family: "JetBrainsMono Nerd Font Mono", monospace;\n}\n\n.Debug {\n  background-color: red;\n  color: green;\n}\n\nbutton:hover {\n  color: #7e7770;\n}\n\nbutton.Debug {\n  background-color: red;\n  color: green;\n}\n\nbutton.Padding {\n  background-color: transparent;\n  color: #7e7770;\n}\n\nwindow.Bar {\n  padding: 0.5rem 1rem 0.6rem 0.6rem;\n}\nwindow.Bar box.BarCenterbox {\n  background-color: #fbf1c7;\n  color: #3c3836;\n  border-radius: 0.5rem;\n  box-shadow: 5px 5px 0 0 #3c3836;\n}\nwindow.Bar box.BarCenterbox box.BarSection {\n  padding: 0 0.4rem;\n}\nwindow.Bar box.BarCenterbox separator {\n  margin: 0.5rem 0.5rem;\n  min-width: 0.2rem;\n  background-color: #E7DFBE;\n  border-radius: 1rem;\n}\nwindow.Bar box.BarCenterbox box.Launcher button.LauncherButton {\n  font-size: 28px;\n  padding-left: 0.2rem;\n  padding-right: 0.2rem;\n}\nwindow.Bar box.BarCenterbox box.Media box.MediaPlayback {\n  margin: 0 0.4rem 0 0;\n}\nwindow.Bar box.BarCenterbox box.Media box.MediaPlayback button.MediaPlaybackButton {\n  font-size: 22px;\n  padding: 0 0.3rem;\n}\nwindow.Bar box.BarCenterbox box.Media box.MediaPlayback button.MediaPlaybackButton.Disabled {\n  color: #7e7770;\n}\nwindow.Bar box.BarCenterbox box.Media image.MediaImageCoverArt {\n  margin: 0 0.5rem 0 0;\n}\nwindow.Bar box.BarCenterbox box.Media label.MediaTitleButtonLabel {\n  font-size: small;\n  font-weight: 500;\n}\nwindow.Bar box.BarCenterbox box.Workspaces button.WorkspaceButton {\n  color: #A59E86;\n}\nwindow.Bar box.BarCenterbox box.Workspaces button.WorkspaceButton.Active {\n  color: #3c3836;\n}\nwindow.Bar box.BarCenterbox box.Workspaces button.WorkspaceButton.Active > label {\n  text-decoration: underline;\n}\nwindow.Bar box.BarCenterbox box.Workspaces button.WorkspaceButton.HasClient {\n  color: #3c3836;\n}\nwindow.Bar box.BarCenterbox box.FocusedClient label.FocusedClientLabel {\n  font-size: small;\n  font-weight: 500;\n}\nwindow.Bar box.BarCenterbox box.Tray menubutton.TrayMenuButton label.TrayLabelIcon {\n  font-size: 18px;\n}\nwindow.Bar box.BarCenterbox box.Tray menubutton.TrayMenuButton image.TrayImageIcon {\n  min-width: 18px;\n}\n\nwindow.QuickSetting {\n  padding: 0.5rem 1rem 0.6rem 0.6rem;\n}\nwindow.QuickSetting box.QuickSettingContainer {\n  background-color: #fbf1c7;\n  color: #3c3836;\n  padding: 1rem;\n  border-radius: 0.5rem;\n  box-shadow: 5px 5px 0 0 #3c3836;\n}\nwindow.QuickSetting box.QuickSettingContainer button.QuickSettingButton {\n  padding: 0.5rem 1rem;\n  background-color: #E7DFBE;\n  color: #3c3836;\n  min-width: 120px;\n  min-height: 50px;\n  font-size: 14px;\n  border-radius: 0.5rem;\n}\nwindow.QuickSetting box.QuickSettingContainer button.QuickSettingButton:hover {\n  background-color: #7e7770;\n  color: #f2e9d4;\n}\nwindow.QuickSetting box.QuickSettingContainer button.QuickSettingButton.Small {\n  min-width: 60px;\n  min-height: 30px;\n}\nwindow.QuickSetting box.QuickSettingContainer button.QuickSettingButton .Icon {\n  font-size: 24px;\n}\nwindow.QuickSetting box.QuickSettingContainer button.QuickSettingButton .Chevron {\n  font-size: 20px;\n}\nwindow.QuickSetting box.QuickSettingContainer button.QuickSettingButton .Label1 {\n  font-weight: 600;\n}\nwindow.QuickSetting box.QuickSettingContainer button.QuickSettingButton .Label2 {\n  font-size: 12px;\n  color: #7e7770;\n}\nwindow.QuickSetting box.QuickSettingContainer image {\n  color: #3c3836;\n}\nwindow.QuickSetting box.QuickSettingContainer scale {\n  margin: 0;\n  padding: 0;\n}\nwindow.QuickSetting box.QuickSettingContainer scale trough {\n  border-radius: 1rem;\n}\nwindow.QuickSetting box.QuickSettingContainer scale trough highlight {\n  min-height: 20px;\n  min-width: 20px;\n  border-radius: 1rem;\n  outline: unset;\n  background-color: #3c3836;\n}\nwindow.QuickSetting box.QuickSettingContainer scale trough slider {\n  box-shadow: none;\n  outline: unset;\n  border: 0;\n  min-height: 20px;\n  min-width: 20px;\n  background-color: transparent;\n}\n\nwindow.Volume {\n  margin-top: 3.5rem;\n  min-height: 100px;\n  min-width: 100px;\n}\nwindow.Volume revealer.VolumeRevealer {\n  padding: 1rem;\n}\nwindow.Volume revealer.VolumeRevealer button.VolumeButton {\n  padding: 0.5rem;\n  border-radius: 0.5rem;\n  background-color: #fbf1c7;\n  box-shadow: 5px 5px 0 0 #3c3836;\n}\n\nwindow.Notification {\n  padding: 0.5rem 1rem 0.6rem 0.6rem;\n}\nwindow.Notification box.NotificationContainer box.NotificationItem {\n  background-color: #fbf1c7;\n  color: #3c3836;\n  border-radius: 0.5rem;\n  box-shadow: 5px 5px 0 0 #3c3836;\n  min-width: 300px;\n  padding: 0.5rem 1rem;\n}\nwindow.Notification box.NotificationContainer box.NotificationItem box.Header {\n  padding: 0.5rem 0;\n  border-bottom: 1px solid #7e7770;\n}\nwindow.Notification box.NotificationContainer box.NotificationItem box.Content {\n  min-height: 50px;\n}\nwindow.Notification box.NotificationContainer box.NotificationItem box.Footer {\n  min-height: 1px;\n}';

// misc/cursor.ts
var _default = Gdk2.Cursor.new_from_name("default", null);
var pointer = Gdk2.Cursor.new_from_name("pointer", null);
var notAllowed = Gdk2.Cursor.new_from_name("not-allowed", null);

// ../../../../usr/share/astal/gjs/gtk4/jsx-runtime.ts
function Fragment({ children = [], child }) {
  if (child) children.push(child);
  return mergeBindings(children);
}
function jsx2(ctor, props) {
  return jsx(ctors, ctor, props);
}
var ctors = {
  box: Box,
  button: Button,
  centerbox: CenterBox,
  // circularprogress: Widget.CircularProgress,
  // drawingarea: Widget.DrawingArea,
  entry: Entry,
  image: Image,
  label: Label,
  levelbar: LevelBar,
  overlay: Overlay,
  revealer: Revealer,
  slider: Slider,
  stack: Stack,
  switch: Switch,
  window: Window,
  menubutton: MenuButton,
  popover: Popover
};
var jsxs = jsx2;

// widgets/Bar/Modules/Launcher.tsx
var Launcher = () => {
  return /* @__PURE__ */ jsx2(
    "box",
    {
      name: "Launcher",
      cssClasses: ["Launcher"],
      children: /* @__PURE__ */ jsx2(
        "button",
        {
          name: "LauncherButton",
          cssClasses: ["Icon", "LauncherButton"],
          onClicked: () => print("hello"),
          tooltipText: "Launcher",
          cursor: pointer,
          children: /* @__PURE__ */ jsx2("label", { label: "\u{F08C7}" })
        }
      )
    }
  );
};
var Launcher_default = Launcher;

// ../../../../usr/share/astal/gjs/index.ts
import { default as default3 } from "gi://AstalIO?version=0.1";

// ../../../../usr/share/astal/gjs/file.ts
import Astal7 from "gi://AstalIO";
import Gio from "gi://Gio?version=2.0";

// ../../../../usr/share/astal/gjs/gobject.ts
import GObject2 from "gi://GObject";
import { default as default2 } from "gi://GLib?version=2.0";
var meta = Symbol("meta");
var priv = Symbol("priv");
var { ParamSpec, ParamFlags } = GObject2;

// widgets/Bar/Modules/Workspaces.tsx
import AstalHyprland from "gi://AstalHyprland?version=0.1";
var maxWorkspaces = 5;
var workspaces = Array.from({ length: maxWorkspaces - 1 }, (_, i) => i);
var hyprland = AstalHyprland.get_default();
var Workspaces = () => {
  return /* @__PURE__ */ jsxs(
    "box",
    {
      name: "Workspaces",
      cssClasses: ["Workspaces"],
      halign: Gtk4.Align.CENTER,
      valign: Gtk4.Align.BASELINE,
      spacing: 3,
      children: [
        workspaces.map((i) => /* @__PURE__ */ jsx2(
          WorkspaceButton,
          {
            workspace: AstalHyprland.Workspace.dummy(i + 1, null)
          }
        )),
        bind(hyprland, "focusedWorkspace").as((focused) => /* @__PURE__ */ jsx2(Fragment, { children: focused && focused.id > maxWorkspaces ? /* @__PURE__ */ jsx2(WorkspaceButton, { workspace: focused }) : /* @__PURE__ */ jsx2(
          WorkspaceButton,
          {
            workspace: AstalHyprland.Workspace.dummy(
              maxWorkspaces,
              null
            )
          }
        ) }))
      ]
    }
  );
};
var WorkspaceButton = ({ workspace }) => {
  const confVar = Variable.derive(
    [bind(hyprland, "focusedWorkspace"), bind(hyprland, "clients")],
    (focused, _clients) => {
      const classes = ["WorkspaceButton"];
      let cursor = pointer;
      let tooltipText = `Switch Workspace ${workspace.id}`;
      if (focused && focused.id === workspace.id) {
        classes.push("Active");
        cursor = _default;
        tooltipText = "";
      }
      const clients = hyprland.get_workspace(workspace.id)?.get_clients() || [];
      if (clients.length > 0) {
        classes.push("HasClient");
      }
      return {
        classes,
        cursor,
        tooltipText
      };
    }
  );
  const conf = confVar();
  return /* @__PURE__ */ jsx2(
    "button",
    {
      name: `WorkspaceButton-${workspace.id}`,
      cssClasses: conf.as((c) => c.classes),
      onClicked: () => {
        if (workspace.id === hyprland.get_focused_workspace()?.id) {
          return;
        }
        workspace.focus();
      },
      onDestroy: () => confVar.drop(),
      tooltipText: conf.as((c) => c.tooltipText),
      cursor: conf.as((c) => c.cursor),
      children: /* @__PURE__ */ jsx2(
        "label",
        {
          label: workspace.name == "10" ? "0" : workspace.name,
          cssClasses: ["WorkspaceButtonLabel"],
          useUnderline: true
        }
      )
    }
  );
};
var Workspaces_default = Workspaces;

// widgets/Bar/Modules/FocusedClient.tsx
import AstalHyprland2 from "gi://AstalHyprland?version=0.1";
import Pango from "gi://Pango?version=1.0";
var hyprland2 = AstalHyprland2.get_default();
var FocusedClient = () => {
  const focusedClient = Variable.derive(
    [bind(hyprland2, "focusedClient"), bind(hyprland2, "clients")],
    (focusedClient2, _clients) => {
      return focusedClient2?.title || "";
    }
  );
  return /* @__PURE__ */ jsx2(
    "box",
    {
      name: "FocusedClient",
      cssClasses: ["FocusedClient"],
      halign: Gtk4.Align.CENTER,
      valign: Gtk4.Align.BASELINE,
      children: /* @__PURE__ */ jsx2(
        "label",
        {
          label: focusedClient(),
          cssClasses: ["FocusedClientLabel"],
          onDestroy: () => focusedClient.drop(),
          maxWidthChars: 36,
          ellipsize: Pango.EllipsizeMode.MIDDLE
        }
      )
    }
  );
};
var FocusedClient_default = FocusedClient;

// widgets/Bar/Start.tsx
var Start = ({ name }) => {
  return /* @__PURE__ */ jsxs(
    "box",
    {
      name: `BarStart-${name}`,
      cssClasses: ["BarSection", "BarStart"],
      hexpand: true,
      children: [
        /* @__PURE__ */ jsx2(Launcher_default, {}),
        /* @__PURE__ */ jsx2(
          Gtk4.Separator,
          {
            orientation: Gtk4.Orientation.VERTICAL,
            visible: true
          }
        ),
        /* @__PURE__ */ jsx2(Workspaces_default, {}),
        /* @__PURE__ */ jsx2(
          Gtk4.Separator,
          {
            orientation: Gtk4.Orientation.VERTICAL,
            visible: true
          }
        ),
        /* @__PURE__ */ jsx2(FocusedClient_default, {})
      ]
    }
  );
};
var Start_default = Start;

// widgets/Bar/Modules/Tray.tsx
import AstalTray from "gi://AstalTray?version=0.1";

// lib/utils.ts
var toTitleCase = (str) => {
  return str.toLowerCase().split(" ").map((word) => word.charAt(0).toUpperCase() + word.slice(1)).join(" ");
};
var debounce = (callback, wait) => {
  let timeout2 = null;
  return (...args) => {
    clearTimeout(timeout2);
    timeout2 = setTimeout(() => {
      callback(...args);
    }, wait);
  };
};

// widgets/Bar/Modules/Tray.tsx
var USE_CUSTOM_ICONS = [/steam/i];
var CUSTOM_ICONS = {
  discord: "\uF1FF",
  steam: "\uF1B6",
  spotify: "\uF1BC"
};
var getSearchWith = (item) => {
  const title = item.title;
  const tooltipMarkup = item.tooltipMarkup;
  return title && title.length ? title : tooltipMarkup;
};
var shouldUseCustomIcon = (item) => {
  const searchWith = getSearchWith(item);
  return USE_CUSTOM_ICONS.some((regex) => searchWith.match(regex));
};
var getCustomIcon = (item) => {
  const searchWith = getSearchWith(item);
  for (const [key, value] of Object.entries(CUSTOM_ICONS)) {
    if (searchWith.match(new RegExp(key, "i"))) {
      return value;
    }
  }
  return "\u{F082B}";
};
var getTooltipMarkup = (item) => {
  return toTitleCase(getSearchWith(item));
};
var ImageIcon = ({ item }) => {
  if (shouldUseCustomIcon(item)) {
    return /* @__PURE__ */ jsx2(
      "label",
      {
        cssClasses: ["TrayLabelIcon"],
        label: getCustomIcon(item)
      }
    );
  }
  return /* @__PURE__ */ jsx2(
    "image",
    {
      gicon: bind(item, "gicon"),
      cssClasses: ["TrayImageIcon"],
      pixelSize: 18
    }
  );
};
var MenuButton2 = ({ item }) => {
  return /* @__PURE__ */ jsxs(
    "menubutton",
    {
      setup: (self) => {
        self.insert_action_group("dbusmenu", item.actionGroup);
      },
      cursor: pointer,
      tooltipMarkup: getTooltipMarkup(item),
      cssClasses: ["TrayMenuButton"],
      halign: Gtk4.Align.CENTER,
      valign: Gtk4.Align.CENTER,
      children: [
        /* @__PURE__ */ jsx2(ImageIcon, { item }),
        Gtk4.PopoverMenu.new_from_model(item.menuModel)
      ]
    }
  );
};
var Tray = () => {
  const tray = AstalTray.get_default();
  return /* @__PURE__ */ jsx2(
    "box",
    {
      name: "Tray",
      cssClasses: ["Tray"],
      spacing: 10,
      valign: Gtk4.Align.CENTER,
      children: bind(tray, "items").as(
        (items) => items.map((item) => /* @__PURE__ */ jsx2(MenuButton2, { item }))
      )
    }
  );
};
var Tray_default = Tray;

// widgets/Bar/Modules/Media.tsx
import AstalMpris from "gi://AstalMpris";
import Pango2 from "gi://Pango?version=1.0";
import AstalHyprland3 from "gi://AstalHyprland?version=0.1";
var hyprland3 = AstalHyprland3.get_default();
var Media = ({ player }) => {
  if (!player) {
    return /* @__PURE__ */ jsx2("box", {});
  }
  const coverArt = bind(player, "coverArt");
  const title = bind(player, "title").as((t) => t);
  const playIcon = bind(player, "playbackStatus").as(
    (s) => s === AstalMpris.PlaybackStatus.PLAYING ? "\uF04B" : "\uF04C"
  );
  const goPrevCursor = bind(player, "canGoPrevious").as(
    (canGo) => canGo ? pointer : notAllowed
  );
  const goNextCursor = bind(player, "canGoNext").as(
    (canGo) => canGo ? pointer : notAllowed
  );
  const classessVars = Variable.derive(
    [bind(player, "canGoPrevious"), bind(player, "canGoNext")],
    (canGoPrev, canGoNext) => {
      const classes = ["Icon", "MediaPlaybackButton"];
      return {
        goPrev: canGoPrev ? classes : [...classes, "Disabled"],
        goNext: canGoNext ? classes : [...classes, "Disabled"]
      };
    }
  );
  const classess = classessVars();
  function raisePlayer() {
    if (player.get_can_raise()) {
      player.raise();
    }
    const clients = hyprland3.get_clients();
    const client = clients.find((c) => {
      const _class = c.class.toLowerCase();
      return _class.includes(player.busName.toLowerCase()) || _class.includes(player.entry.toLowerCase());
    });
    if (client) {
      hyprland3.dispatch("focuswindow", `class:${client.class}`);
    }
  }
  return /* @__PURE__ */ jsxs("box", { name: "Media", valign: Gtk4.Align.CENTER, cssClasses: ["Media"], children: [
    /* @__PURE__ */ jsxs(
      "box",
      {
        name: "MediaPlayback",
        cssClasses: ["MediaPlayback"],
        onDestroy: () => classessVars.drop(),
        children: [
          /* @__PURE__ */ jsx2(
            "button",
            {
              name: "MediaPlaybackButtonPrevious",
              cssClasses: classess.as((c) => c.goPrev),
              onClicked: () => player.get_can_go_previous() && player.previous(),
              tooltipText: "Previous Track",
              halign: Gtk4.Align.CENTER,
              cursor: goPrevCursor,
              children: /* @__PURE__ */ jsx2("label", { label: "\uF04A", hexpand: true })
            }
          ),
          /* @__PURE__ */ jsx2(
            "button",
            {
              name: "MediaPlaybackButtonPlayPause",
              cssClasses: ["Icon", "MediaPlaybackButton"],
              onClicked: () => player.play_pause(),
              tooltipText: "Play/Pause",
              halign: Gtk4.Align.CENTER,
              cursor: pointer,
              children: /* @__PURE__ */ jsx2("label", { label: playIcon, hexpand: true })
            }
          ),
          /* @__PURE__ */ jsx2(
            "button",
            {
              name: "MediaPlaybackButtonNext",
              cssClasses: classess.as((c) => c.goNext),
              onClicked: () => player.get_can_go_next() && player.next(),
              tooltipText: "Next Track",
              halign: Gtk4.Align.CENTER,
              cursor: goNextCursor,
              children: /* @__PURE__ */ jsx2("label", { label: "\uF04E", hexpand: true })
            }
          )
        ]
      }
    ),
    /* @__PURE__ */ jsx2("button", { onClicked: raisePlayer, cursor: pointer, children: /* @__PURE__ */ jsx2(
      "image",
      {
        name: "MediaImageCoverArt",
        cssClasses: ["MediaImageCoverArt"],
        file: coverArt,
        pixelSize: 32,
        overflow: Gtk4.Overflow.HIDDEN,
        visible: true
      }
    ) }),
    /* @__PURE__ */ jsx2(
      "button",
      {
        name: "MediaTitleButton",
        cssClasses: ["MediaTitleButton"],
        cursor: pointer,
        onClicked: raisePlayer,
        children: /* @__PURE__ */ jsx2(
          "label",
          {
            name: "MediaTitleButtonLabel",
            cssClasses: ["MediaTitleButtonLabel"],
            label: title,
            halign: Gtk4.Align.CENTER,
            valign: Gtk4.Align.CENTER,
            maxWidthChars: 36,
            ellipsize: Pango2.EllipsizeMode.MIDDLE
          }
        )
      }
    )
  ] });
};
var Media_default = Media;

// widgets/Bar/Center.tsx
import AstalMpris2 from "gi://AstalMpris?version=0.1";
var Center = ({ name }) => {
  const mpris = AstalMpris2.get_default();
  return /* @__PURE__ */ jsxs(
    "box",
    {
      name: `BarCenter-${name}`,
      cssClasses: ["BarSection", "BarCenter"],
      hexpand: true,
      halign: Gtk4.Align.CENTER,
      children: [
        bind(mpris, "players").as((players) => /* @__PURE__ */ jsxs(Fragment, { children: [
          /* @__PURE__ */ jsx2(Media_default, { player: players[0] }),
          players[0] && /* @__PURE__ */ jsx2(
            Gtk4.Separator,
            {
              orientation: Gtk4.Orientation.VERTICAL,
              visible: true
            }
          )
        ] })),
        /* @__PURE__ */ jsx2(Tray_default, {})
      ]
    }
  );
};
var Center_default = Center;

// widgets/Bar/Modules/Time.tsx
var datetime = Variable({
  date: "",
  time: ""
}).poll(1e3, "date +'%a, %b %d|%H:%M:%S'", (output) => {
  const [date, time] = output.split("|");
  return { date, time };
});
var Time2 = ({ gdkmonitor }) => {
  const _datetime = datetime();
  return /* @__PURE__ */ jsx2("box", { name: `Time`, cssClasses: ["BarSection", "BarEnd"], hexpand: true, children: /* @__PURE__ */ jsx2(
    "button",
    {
      name: "End-Button",
      onClicked: () => {
        app_default.toggle_window(`QuickSetting-${gdkmonitor.connector}`);
      },
      children: /* @__PURE__ */ jsxs("box", { children: [
        /* @__PURE__ */ jsx2("label", { label: _datetime.as((d) => d.date + " ") }),
        /* @__PURE__ */ jsx2("label", { label: _datetime.as((d) => d.time) })
      ] })
    }
  ) });
};
var Time_default = Time2;

// widgets/Bar/End.tsx
var End = ({ name, gdkmonitor }) => {
  return /* @__PURE__ */ jsx2(
    "box",
    {
      name: `BarEnd-${name}`,
      cssClasses: ["BarSection", "BarEnd"],
      hexpand: true,
      halign: Gtk4.Align.END,
      children: /* @__PURE__ */ jsx2(Time_default, { gdkmonitor })
    }
  );
};
var End_default = End;

// widgets/Bar/Bar.tsx
var Bar = ({ gdkmonitor }) => {
  const { TOP, LEFT, RIGHT } = Astal6.WindowAnchor;
  const name = `Bar-${gdkmonitor.connector}`;
  return /* @__PURE__ */ jsx2(
    "window",
    {
      name,
      namespace: "Bar",
      application: app_default,
      cssClasses: ["Bar"],
      gdkmonitor,
      anchor: TOP | LEFT | RIGHT,
      exclusivity: Astal6.Exclusivity.EXCLUSIVE,
      visible: true,
      setup: (self) => {
        self.set_default_size(1, 1);
      },
      children: /* @__PURE__ */ jsx2(
        "centerbox",
        {
          name,
          cssClasses: ["BarCenterbox"],
          startWidget: /* @__PURE__ */ jsx2(Start_default, { name }),
          centerWidget: /* @__PURE__ */ jsx2(Center_default, { name }),
          endWidget: /* @__PURE__ */ jsx2(End_default, { name, gdkmonitor })
        }
      )
    }
  );
};
var Bar_default = Bar;

// widgets/commons/Popover.tsx
var Popover2 = ({
  child,
  name,
  gdkmonitor,
  visible,
  cssClasses
}) => {
  const { TOP, RIGHT, BOTTOM, LEFT } = Astal6.WindowAnchor;
  return /* @__PURE__ */ jsx2(
    "window",
    {
      name,
      namespace: "Popover",
      application: app_default,
      cssClasses: ["Popover", ...cssClasses || []],
      gdkmonitor,
      layer: Astal6.Layer.TOP,
      keymode: Astal6.Keymode.ON_DEMAND,
      anchor: TOP | RIGHT | BOTTOM | LEFT,
      visible: visible || false,
      setup: (self) => {
        self.set_default_size(1, 1);
      },
      onKeyPressed: (_event, keyval) => {
        if (keyval === Gdk2.KEY_Escape) {
          app_default.toggle_window(name);
        }
      },
      children: /* @__PURE__ */ jsxs("box", { cssClasses: [], children: [
        /* @__PURE__ */ jsx2(Padding, { name }),
        /* @__PURE__ */ jsxs("box", { vertical: true, hexpand: false, children: [
          child,
          /* @__PURE__ */ jsx2(Padding, { name })
        ] })
      ] })
    }
  );
};
var Padding = ({ name }) => {
  return /* @__PURE__ */ jsx2(
    "button",
    {
      cssClasses: ["Padding", "Debug"],
      canFocus: false,
      onClicked: () => {
        app_default.toggle_window(name);
      },
      hexpand: true,
      vexpand: true
    }
  );
};
var Popover_default = Popover2;

// widgets/QuickSetting/Button.tsx
var Button2 = ({ icon, label1, label2 }) => {
  return /* @__PURE__ */ jsx2("button", { cssClasses: ["QuickSettingButton"], hexpand: true, children: /* @__PURE__ */ jsxs("box", { spacing: 16, halign: Gtk4.Align.FILL, valign: Gtk4.Align.CENTER, children: [
    /* @__PURE__ */ jsx2("label", { cssClasses: ["Icon"], label: icon }),
    /* @__PURE__ */ jsxs(
      "box",
      {
        cssClasses: ["Labels"],
        vertical: true,
        valign: Gtk4.Align.CENTER,
        halign: Gtk4.Align.START,
        hexpand: true,
        children: [
          /* @__PURE__ */ jsx2(
            "label",
            {
              cssClasses: ["Label1"],
              halign: Gtk4.Align.START,
              label: label1
            }
          ),
          /* @__PURE__ */ jsx2(
            "label",
            {
              maxWidthChars: 15,
              cssClasses: ["Label2"],
              halign: Gtk4.Align.START,
              label: label2
            }
          )
        ]
      }
    ),
    /* @__PURE__ */ jsx2("label", { cssClasses: ["Icon", "Chevron"], label: "\uF054" })
  ] }) });
};
var Button_default = Button2;

// widgets/QuickSetting/ButtonSmall.tsx
var ButtonSmall = ({ icon }) => {
  return /* @__PURE__ */ jsx2("button", { cssClasses: ["QuickSettingButton", "Small"], hexpand: true, children: /* @__PURE__ */ jsx2("box", { cssClasses: ["Icon"], halign: Gtk4.Align.CENTER, children: /* @__PURE__ */ jsx2(
    "label",
    {
      cssClasses: [""],
      label: icon,
      hexpand: true,
      vexpand: false
    }
  ) }) });
};
var ButtonSmall_default = ButtonSmall;

// widgets/QuickSetting/QuickSetting.tsx
import AstalWp from "gi://AstalWp?version=0.1";
var QuickSetting = ({ gdkmonitor, visible }) => {
  const name = `QuickSetting-${gdkmonitor.connector}`;
  const speaker2 = AstalWp.get_default()?.audio.defaultSpeaker;
  const debouncedSetVolume = debounce((value) => {
    speaker2.volume = value;
  }, 100);
  return /* @__PURE__ */ jsx2(
    Popover_default,
    {
      name,
      gdkmonitor,
      visible,
      cssClasses: ["QuickSetting"],
      children: /* @__PURE__ */ jsxs(
        "box",
        {
          cssClasses: ["QuickSettingContainer"],
          vertical: true,
          spacing: 10,
          children: [
            /* @__PURE__ */ jsxs(
              "box",
              {
                cssClasses: ["QuickSettingRow"],
                hexpand: true,
                halign: Gtk4.Align.CENTER,
                spacing: 10,
                children: [
                  /* @__PURE__ */ jsx2(Button_default, { icon: "\u{F05A9}", label1: "Wi-Fi", label2: "TSL77" }),
                  /* @__PURE__ */ jsx2(
                    Button_default,
                    {
                      icon: "\u{F00AF}",
                      label1: "Bluetooth",
                      label2: "Nokia E3511"
                    }
                  )
                ]
              }
            ),
            /* @__PURE__ */ jsxs("box", { cssClasses: ["QuickSettingRow"], spacing: 10, children: [
              /* @__PURE__ */ jsx2(ButtonSmall_default, { icon: "\u{F0499}" }),
              /* @__PURE__ */ jsx2(ButtonSmall_default, { icon: "\u{F009C}" }),
              /* @__PURE__ */ jsx2(ButtonSmall_default, { icon: "\u{F020A}" })
            ] }),
            /* @__PURE__ */ jsxs("box", { cssClasses: ["QuickSettingRow"], spacing: 10, children: [
              /* @__PURE__ */ jsx2(ButtonSmall_default, { icon: "\u{F0080}" }),
              /* @__PURE__ */ jsx2(ButtonSmall_default, { icon: "\u{F04C3}" }),
              /* @__PURE__ */ jsx2(ButtonSmall_default, { icon: "\u{F18F4}" })
            ] }),
            /* @__PURE__ */ jsx2(
              "box",
              {
                cssClasses: ["QuickSettingRow"],
                spacing: 10,
                vertical: true,
                children: /* @__PURE__ */ jsxs("box", { valign: Gtk4.Align.CENTER, spacing: 10, children: [
                  /* @__PURE__ */ jsx2(
                    "image",
                    {
                      iconName: bind(speaker2, "volumeIcon"),
                      valign: Gtk4.Align.CENTER,
                      iconSize: Gtk4.IconSize.LARGE,
                      pixelSize: 20
                    }
                  ),
                  /* @__PURE__ */ jsx2(
                    "slider",
                    {
                      onChangeValue: (self) => {
                        debouncedSetVolume(self.value);
                      },
                      value: bind(speaker2, "volume"),
                      hexpand: true
                    }
                  )
                ] })
              }
            )
          ]
        }
      )
    }
  );
};
var QuickSettingInit = ({ gdkmonitor }) => {
  const w = QuickSetting({
    gdkmonitor
    // visible: gdkmonitor.manufacturer === "HKC OVERSEAS LIMITED",
  });
  app_default.connect("window-toggled", (_source, window) => {
    if (window.get_name() === `QuickSetting-${gdkmonitor.manufacturer}`) {
    }
  });
  return w;
};
var QuickSetting_default = QuickSettingInit;

// app.tsx
import AstalHyprland6 from "gi://AstalHyprland?version=0.1";
import AstalTray2 from "gi://AstalTray?version=0.1";

// widgets/Osd/Volume.tsx
import AstalWp2 from "gi://AstalWp?version=0.1";
import AstalHyprland4 from "gi://AstalHyprland?version=0.1";
var speaker = AstalWp2.get_default().get_default_speaker();
var hyprland4 = AstalHyprland4.get_default();
var VolumeComponent = ({ gdkmonitor, name }) => {
  const visible = Variable(false);
  const iconName = Variable("");
  const value = Variable(0);
  let firstTime = true;
  let tick = 0;
  let hideWindowTimeout;
  function show(v, icon) {
    if (hideWindowTimeout) {
      hideWindowTimeout.cancel();
      hideWindowTimeout = void 0;
    }
    if (firstTime) {
      firstTime = false;
      return;
    }
    const window = app_default.get_window(name);
    window?.show();
    visible.set(true);
    value.set(v);
    iconName.set(icon);
    tick++;
    timeout(1e3, () => {
      tick--;
      if (tick === 0) {
        visible.set(false);
        hideWindowTimeout = timeout(100, () => {
          window?.hide();
        });
      }
    });
  }
  return /* @__PURE__ */ jsx2(
    "window",
    {
      name,
      application: app_default,
      cssClasses: ["Volume"],
      gdkmonitor,
      anchor: Astal6.WindowAnchor.TOP,
      layer: Astal6.Layer.OVERLAY,
      exclusivity: Astal6.Exclusivity.IGNORE,
      visible: false,
      setup: (self) => {
        self.set_default_size(1, 1);
      },
      children: /* @__PURE__ */ jsx2(
        "revealer",
        {
          cssClasses: ["VolumeRevealer"],
          setup: (self) => {
            speaker?.connect("notify::volume", () => {
              const focusedMon = hyprland4.get_focused_monitor();
              if (focusedMon.name !== gdkmonitor.connector) {
                return;
              }
              show(speaker.volume, speaker.volumeIcon);
            });
          },
          revealChild: true,
          transitionType: Gtk4.RevealerTransitionType.SLIDE_DOWN,
          transition_duration: 500,
          children: /* @__PURE__ */ jsx2(
            "button",
            {
              cssClasses: ["VolumeButton"],
              onClicked: () => {
                visible.set(false);
              },
              valign: Gtk4.Align.CENTER,
              halign: Gtk4.Align.CENTER,
              children: /* @__PURE__ */ jsxs("box", { spacing: 10, children: [
                /* @__PURE__ */ jsx2("image", { iconName: iconName() }),
                /* @__PURE__ */ jsx2(
                  "levelbar",
                  {
                    valign: Gtk4.Align.CENTER,
                    widthRequest: 100,
                    value: value()
                  }
                ),
                /* @__PURE__ */ jsx2(
                  "label",
                  {
                    label: value((v) => `${Math.floor(v * 100)}%`)
                  }
                )
              ] })
            }
          )
        }
      )
    }
  );
};
var Volume = ({ gdkmonitor }) => {
  const name = `Volume-${gdkmonitor.connector}`;
  const w = VolumeComponent({
    gdkmonitor,
    name
  });
  app_default.connect("window-toggled", (_source, window) => {
    if (window.get_name() === name) {
    }
  });
  return w;
};
var Volume_default = Volume;

// widgets/Notification/NotificationItem.tsx
import AstalNotifd from "gi://AstalNotifd?version=0.1";

// widgets/Notification/Header.tsx
var Header = ({ notification, tick }) => {
  return /* @__PURE__ */ jsxs("box", { cssClasses: ["Header"], valign: Gtk4.Align.CENTER, children: [
    /* @__PURE__ */ jsxs(
      "box",
      {
        cssClasses: ["HeaderLeft"],
        halign: Gtk4.Align.START,
        hexpand: true,
        spacing: 5,
        children: [
          (notification.appIcon || notification.desktopEntry) && /* @__PURE__ */ jsx2(
            "image",
            {
              cssClasses: ["AppIcon"],
              visible: !!(notification.appIcon || notification.desktopEntry),
              iconName: notification.appIcon || notification.desktopEntry,
              pixelSize: 24
            }
          ),
          bind(tick).as((t) => /* @__PURE__ */ jsx2(
            "label",
            {
              cssClasses: ["HeaderLabel"],
              label: `${notification.appName || "Notification"} (${notification.id} - ${notification.desktopEntry || "Unknown"} - ${t.toString() + "s"})`
            }
          ))
        ]
      }
    ),
    /* @__PURE__ */ jsxs(
      "box",
      {
        cssClasses: ["HeaderRight"],
        halign: Gtk4.Align.END,
        hexpand: true,
        spacing: 5,
        children: [
          /* @__PURE__ */ jsx2(
            "label",
            {
              cssClasses: ["HeaderTime"],
              label: new Date(
                notification.time * 1e3
              ).toLocaleTimeString("en-US", {
                hour: "2-digit",
                minute: "2-digit",
                second: void 0,
                hour12: false
              })
            }
          ),
          /* @__PURE__ */ jsx2(
            "button",
            {
              cssClasses: ["CloseButton"],
              tooltipText: "Close Notification",
              onClicked: () => {
                notification.dismiss();
              },
              children: /* @__PURE__ */ jsx2("label", { label: "\u2715" })
            }
          )
        ]
      }
    )
  ] });
};
var Header_default = Header;

// widgets/Notification/Body.tsx
import Pango3 from "gi://Pango?version=1.0";
var isIcon = (icon) => {
  const iconTheme = new Gtk4.IconTheme();
  return iconTheme.has_icon(icon);
};
var fileExists = (path) => default2.file_test(path, default2.FileTest.EXISTS);
var Body = ({ notification }) => {
  return /* @__PURE__ */ jsxs(
    "box",
    {
      cssClasses: ["Content"],
      valign: Gtk4.Align.CENTER,
      spacing: 10,
      vexpand: true,
      children: [
        notification.image && fileExists(notification.image) && /* @__PURE__ */ jsx2("box", { valign: Gtk4.Align.CENTER, cssClasses: ["ContentImage"], children: /* @__PURE__ */ jsx2(
          "image",
          {
            file: notification.image,
            overflow: Gtk4.Overflow.HIDDEN,
            pixelSize: 64
          }
        ) }),
        notification.image && isIcon(notification.image) && /* @__PURE__ */ jsx2("box", { cssClasses: ["ContentIcon"], valign: Gtk4.Align.CENTER, children: /* @__PURE__ */ jsx2(
          "image",
          {
            iconName: notification.image,
            pixelSize: 64,
            halign: Gtk4.Align.CENTER,
            valign: Gtk4.Align.CENTER
          }
        ) }),
        /* @__PURE__ */ jsxs("box", { hexpand: true, vertical: true, valign: Gtk4.Align.CENTER, spacing: 5, children: [
          /* @__PURE__ */ jsx2(
            "label",
            {
              ellipsize: Pango3.EllipsizeMode.END,
              maxWidthChars: 30,
              cssClasses: ["ContentSummary"],
              halign: Gtk4.Align.START,
              xalign: 0,
              label: notification.summary
            }
          ),
          notification.body && /* @__PURE__ */ jsx2(
            "label",
            {
              cssClasses: ["ContentBody"],
              maxWidthChars: 30,
              wrap: true,
              halign: Gtk4.Align.START,
              xalign: 0,
              label: notification.body
            }
          )
        ] })
      ]
    }
  );
};
var Body_default = Body;

// widgets/Notification/Footer.tsx
import AstalHyprland5 from "gi://AstalHyprland?version=0.1";
var hyprland5 = AstalHyprland5.get_default();
var Footer = ({ notification }) => {
  return /* @__PURE__ */ jsx2("box", { cssClasses: ["Footer"], children: notification.get_actions().length > 0 && /* @__PURE__ */ jsx2("box", { cssClasses: ["FooterActions"], spacing: 6, children: notification.get_actions().map((action) => /* @__PURE__ */ jsx2(
    "button",
    {
      hexpand: true,
      onClicked: () => {
        notification.invoke(action.id);
        notification.dismiss();
        const clients = hyprland5.get_clients();
        const client = clients.find(
          (c) => c.class.toLowerCase().includes(
            notification.appName.toLowerCase()
          )
        );
        if (client) {
          hyprland5.dispatch(
            "focuswindow",
            `class:${client.class}`
          );
        }
      },
      children: /* @__PURE__ */ jsx2(
        "label",
        {
          label: action.label,
          halign: Gtk4.Align.CENTER,
          hexpand: true
        }
      )
    }
  )) }) });
};
var Footer_default = Footer;

// widgets/Notification/NotificationItem.tsx
var notifd = AstalNotifd.get_default();
var NotificationItem = ({ timer }) => {
  const notification = notifd.get_notification(timer.id);
  if (!notification) {
    return null;
  }
  return /* @__PURE__ */ jsxs(
    "box",
    {
      cssClasses: ["NotificationItem"],
      vertical: true,
      setup: (self) => {
        self.set_css_classes([
          "NotificationItem",
          notification.urgency === AstalNotifd.Urgency.CRITICAL ? "Urgent" : ""
        ]);
      },
      onHoverEnter: () => {
        timer.stop();
      },
      onHoverLeave: () => {
        timer.start();
      },
      spacing: 5,
      children: [
        /* @__PURE__ */ jsx2(Header_default, { notification, tick: timer.tick }),
        /* @__PURE__ */ jsx2(Body_default, { notification }),
        /* @__PURE__ */ jsx2(Footer_default, { notification })
      ]
    }
  );
};
var NotificationItem_default = NotificationItem;

// services/Notification/Manager.ts
import AstalNotifd2 from "gi://AstalNotifd?version=0.1";

// services/Notification/Timer.ts
var TICK = 10;
var Timer = class {
  id;
  tick;
  dismisser;
  interval;
  constructor(id, dismisser) {
    this.id = id;
    this.tick = Variable(TICK);
    this.dismisser = dismisser;
    this.start();
  }
  start() {
    if (this.interval) {
      return;
    }
    this.interval = interval(1e3, () => {
      const currentTick = this.tick.get();
      if (currentTick <= 0) {
        this.interval?.cancel();
        this.interval = void 0;
        this.dismisser(this.id);
      } else {
        this.tick.set(currentTick - 1);
      }
    });
  }
  stop() {
    this.interval?.cancel();
    this.interval = void 0;
    this.tick.set(TICK);
  }
};
var Timer_default = Timer;

// services/Notification/Manager.ts
var notifd2 = AstalNotifd2.get_default();
var MAX_PROCESSING = 3;
var Manager = class {
  queue = notifd2.get_notifications().map((n) => n.id);
  actives = [];
  entry = Variable({
    queue: this.queue,
    actives: this.actives
  });
  constructor() {
    notifd2.connect("notified", (_source, id, replaced) => {
      this.onNotified(_source, id, replaced);
    });
    notifd2.connect("resolved", (_source, id, reason) => {
      this.onResolved(_source, id, reason);
    });
    this.processQueue();
  }
  onNotified(_source, id, replaced) {
    const notification = notifd2.get_notification(id);
    if (!notification) {
      return;
    }
    if (notifd2.dontDisturb && notification.urgency !== AstalNotifd2.Urgency.CRITICAL) {
      return;
    }
    this.queue.push(id);
    this.processQueue();
  }
  onResolved(_source, id, reason) {
    const index = this.queue.indexOf(id);
    if (index !== -1) {
      this.queue.splice(index, 1);
    }
    const activeIndex = this.actives.findIndex((n) => n.id === id);
    if (activeIndex !== -1) {
      this.actives.splice(activeIndex, 1);
    }
    this.notify();
    this.processQueue();
  }
  processQueue() {
    if (this.actives.length >= MAX_PROCESSING) {
      return;
    }
    if (this.queue.length === 0) {
      return;
    }
    const id = this.queue.shift();
    if (id === void 0) {
      return;
    }
    this.actives.push(new Timer_default(id, this.softDismiss.bind(this)));
    this.notify();
    this.processQueue();
  }
  get() {
    return this.entry.get();
  }
  subscribe(callback) {
    return this.entry.subscribe(callback);
  }
  softDismiss(id) {
    const index = this.actives.findIndex((n) => n.id === id);
    if (index !== -1) {
      this.actives.splice(index, 1);
    }
    this.notify();
    this.processQueue();
  }
  notify() {
    this.entry.set({
      queue: this.queue,
      actives: this.actives
    });
  }
};
var Manager_default = Manager;

// widgets/Notification/NotificationPopup.tsx
var manager = new Manager_default();
var NotificationPopup = ({ gdkmonitor }) => {
  const name = `Notification-${gdkmonitor.connector}`;
  const { TOP, RIGHT } = Astal6.WindowAnchor;
  return /* @__PURE__ */ jsx2(
    "window",
    {
      name,
      namespace: "Notification",
      application: app_default,
      cssClasses: ["Notification"],
      gdkmonitor,
      layer: Astal6.Layer.TOP,
      anchor: TOP | RIGHT,
      visible: true,
      setup: (self) => {
        self.set_default_size(1, 1);
        manager.subscribe((entry) => {
          if (entry && entry.actives && entry.actives.length > 0) {
            self.show();
          } else {
            self.hide();
          }
        });
      },
      children: /* @__PURE__ */ jsx2(
        "box",
        {
          cssClasses: ["NotificationContainer"],
          vertical: true,
          spacing: 10,
          valign: Gtk4.Align.START,
          children: bind(manager).as((entry) => {
            return [...entry.actives].reverse().map((timer) => /* @__PURE__ */ jsx2(NotificationItem_default, { timer }));
          })
        }
      )
    }
  );
};
var NotificationPopup_default = NotificationPopup;

// app.tsx
function initMonitor(gdkmonitor) {
  return [
    NotificationPopup_default({ gdkmonitor }),
    Volume_default({ gdkmonitor }),
    Bar_default({ gdkmonitor }),
    QuickSetting_default({ gdkmonitor })
  ];
}
var hyprland6 = AstalHyprland6.get_default();
var windows = /* @__PURE__ */ new Map();
var hyprMonitors = /* @__PURE__ */ new Map();
function onMonitorAdded(_source, monitor) {
  hyprMonitors.set(monitor.id, monitor);
  const gdkmonitor = app_default.get_monitors().find(
    (m) => m.connector === monitor.name
  );
  if (gdkmonitor) {
    windows.set(gdkmonitor, initMonitor(gdkmonitor));
  }
}
function onMonitorRemoved(_source, id) {
  const monitor = hyprMonitors.get(id);
  if (!monitor) {
    return;
  }
  const gdkmonitor = app_default.get_monitors().find(
    (m) => m.connector === monitor.name
  );
  if (gdkmonitor) {
    const windowsToRemove = windows.get(gdkmonitor);
    if (windowsToRemove) {
      windowsToRemove.forEach((window) => window.destroy());
      windows.delete(gdkmonitor);
    }
  }
  hyprMonitors.delete(id);
}
function reinit() {
  windows.forEach((winList, gdkmonitor) => {
    winList.forEach((window) => window.destroy());
    windows.delete(gdkmonitor);
  });
  hyprland6.get_monitors().forEach((monitor) => {
    const gdkmonitor = app_default.get_monitors().find(
      (m) => m.connector === monitor.name
    );
    if (gdkmonitor) {
      windows.set(gdkmonitor, initMonitor(gdkmonitor));
    }
  });
}
app_default.start({
  instanceName: "Ass",
  css: styles_default,
  main() {
    hyprland6.get_monitors().forEach((monitor) => {
      hyprMonitors.set(monitor.id, monitor);
      const gdkmonitor = app_default.get_monitors().find(
        (m) => m.connector === monitor.name
      );
      if (gdkmonitor) {
        windows.set(gdkmonitor, initMonitor(gdkmonitor));
      }
    });
    hyprland6.connect("monitor-added", onMonitorAdded);
    hyprland6.connect("monitor-removed", onMonitorRemoved);
    hyprland6.connect("submap", (_source, name) => {
      if (name === "resize") {
        execAsync("notify-send -t 1000 'Resize mode activated'");
      } else if (name === "") {
        execAsync("notify-send -t 1000 'Back to normal mode'");
      }
    });
  },
  requestHandler(request, res) {
    if (request == "say hi") {
      return res("Hello from Astaltes!");
    }
    if (request === "tray") {
      const tray = AstalTray2.get_default();
      const items = tray.get_items();
      if (items.length === 0) {
        return res("No tray items found");
      }
      const titles = items.map((item) => item.title).join(", ");
      const tooltips = items.map((item) => item.tooltipMarkup).join(", ");
      const iconNames = items.map((item) => item.iconName).join(", ");
      const iconPaths = items.map((item) => item.iconThemePath).join(", ");
      const jsons = items.map((item) => item.to_json_string()).join(",");
      return res(`Tray items: ${titles}
                
Tooltips: ${tooltips}
                
Icons: ${iconNames}
                
Icon Paths: ${iconPaths}
                
JSONs: [${jsons}]`);
    }
    if (request == "reinit") {
      reinit();
      return res("Reinitialized monitors");
    }
    if (request.includes("rmmonitor")) {
      const id = parseInt(request.split("rmmonitor")[1].trim(), 10);
      if (isNaN(id)) {
        return res("Invalid monitor ID");
      }
      onMonitorRemoved(hyprland6, id);
      return res("Monitor removed");
    }
    if (request.includes("addmonitor")) {
      const id = parseInt(request.split("addmonitor")[1].trim(), 10);
      if (isNaN(id)) {
        return res("Invalid monitor ID");
      }
      const monitor = hyprland6.get_monitor(id);
      if (monitor) {
        onMonitorAdded(hyprland6, monitor);
        return res("Monitor added");
      }
      return res("No monitor to add");
    }
    res("Unknown request");
  }
});
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vLi4vLi4vdXNyL3NoYXJlL2FzdGFsL2dqcy9ndGs0L2luZGV4LnRzIiwgIi4uLy4uLy4uLy4uLy4uL3Vzci9zaGFyZS9hc3RhbC9nanMvdmFyaWFibGUudHMiLCAiLi4vLi4vLi4vLi4vLi4vdXNyL3NoYXJlL2FzdGFsL2dqcy9iaW5kaW5nLnRzIiwgIi4uLy4uLy4uLy4uLy4uL3Vzci9zaGFyZS9hc3RhbC9nanMvdGltZS50cyIsICIuLi8uLi8uLi8uLi8uLi91c3Ivc2hhcmUvYXN0YWwvZ2pzL3Byb2Nlc3MudHMiLCAiLi4vLi4vLi4vLi4vLi4vdXNyL3NoYXJlL2FzdGFsL2dqcy9fYXN0YWwudHMiLCAiLi4vLi4vLi4vLi4vLi4vdXNyL3NoYXJlL2FzdGFsL2dqcy9ndGs0L2FzdGFsaWZ5LnRzIiwgIi4uLy4uLy4uLy4uLy4uL3Vzci9zaGFyZS9hc3RhbC9nanMvZ3RrNC9hcHAudHMiLCAiLi4vLi4vLi4vLi4vLi4vdXNyL3NoYXJlL2FzdGFsL2dqcy9vdmVycmlkZXMudHMiLCAiLi4vLi4vLi4vLi4vLi4vdXNyL3NoYXJlL2FzdGFsL2dqcy9fYXBwLnRzIiwgIi4uLy4uLy4uLy4uLy4uL3Vzci9zaGFyZS9hc3RhbC9nanMvZ3RrNC93aWRnZXQudHMiLCAic2FzczovaG9tZS9nZWdlaC9Eb2N1bWVudHMvYXN0YWwtdGVzdC9zdHlsZXMvc3R5bGVzLnNjc3MiLCAiLi4vbWlzYy9jdXJzb3IudHMiLCAiLi4vLi4vLi4vLi4vLi4vdXNyL3NoYXJlL2FzdGFsL2dqcy9ndGs0L2pzeC1ydW50aW1lLnRzIiwgIi4uL3dpZGdldHMvQmFyL01vZHVsZXMvTGF1bmNoZXIudHN4IiwgIi4uLy4uLy4uLy4uLy4uL3Vzci9zaGFyZS9hc3RhbC9nanMvaW5kZXgudHMiLCAiLi4vLi4vLi4vLi4vLi4vdXNyL3NoYXJlL2FzdGFsL2dqcy9maWxlLnRzIiwgIi4uLy4uLy4uLy4uLy4uL3Vzci9zaGFyZS9hc3RhbC9nanMvZ29iamVjdC50cyIsICIuLi93aWRnZXRzL0Jhci9Nb2R1bGVzL1dvcmtzcGFjZXMudHN4IiwgIi4uL3dpZGdldHMvQmFyL01vZHVsZXMvRm9jdXNlZENsaWVudC50c3giLCAiLi4vd2lkZ2V0cy9CYXIvU3RhcnQudHN4IiwgIi4uL3dpZGdldHMvQmFyL01vZHVsZXMvVHJheS50c3giLCAiLi4vbGliL3V0aWxzLnRzIiwgIi4uL3dpZGdldHMvQmFyL01vZHVsZXMvTWVkaWEudHN4IiwgIi4uL3dpZGdldHMvQmFyL0NlbnRlci50c3giLCAiLi4vd2lkZ2V0cy9CYXIvTW9kdWxlcy9UaW1lLnRzeCIsICIuLi93aWRnZXRzL0Jhci9FbmQudHN4IiwgIi4uL3dpZGdldHMvQmFyL0Jhci50c3giLCAiLi4vd2lkZ2V0cy9jb21tb25zL1BvcG92ZXIudHN4IiwgIi4uL3dpZGdldHMvUXVpY2tTZXR0aW5nL0J1dHRvbi50c3giLCAiLi4vd2lkZ2V0cy9RdWlja1NldHRpbmcvQnV0dG9uU21hbGwudHN4IiwgIi4uL3dpZGdldHMvUXVpY2tTZXR0aW5nL1F1aWNrU2V0dGluZy50c3giLCAiLi4vYXBwLnRzeCIsICIuLi93aWRnZXRzL09zZC9Wb2x1bWUudHN4IiwgIi4uL3dpZGdldHMvTm90aWZpY2F0aW9uL05vdGlmaWNhdGlvbkl0ZW0udHN4IiwgIi4uL3dpZGdldHMvTm90aWZpY2F0aW9uL0hlYWRlci50c3giLCAiLi4vd2lkZ2V0cy9Ob3RpZmljYXRpb24vQm9keS50c3giLCAiLi4vd2lkZ2V0cy9Ob3RpZmljYXRpb24vRm9vdGVyLnRzeCIsICIuLi9zZXJ2aWNlcy9Ob3RpZmljYXRpb24vTWFuYWdlci50cyIsICIuLi9zZXJ2aWNlcy9Ob3RpZmljYXRpb24vVGltZXIudHMiLCAiLi4vd2lkZ2V0cy9Ob3RpZmljYXRpb24vTm90aWZpY2F0aW9uUG9wdXAudHN4Il0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgQXN0YWwgZnJvbSBcImdpOi8vQXN0YWw/dmVyc2lvbj00LjBcIlxuaW1wb3J0IEd0ayBmcm9tIFwiZ2k6Ly9HdGs/dmVyc2lvbj00LjBcIlxuaW1wb3J0IEdkayBmcm9tIFwiZ2k6Ly9HZGs/dmVyc2lvbj00LjBcIlxuaW1wb3J0IGFzdGFsaWZ5LCB7IHR5cGUgQ29uc3RydWN0UHJvcHMgfSBmcm9tIFwiLi9hc3RhbGlmeS5qc1wiXG5cbmV4cG9ydCB7IEFzdGFsLCBHdGssIEdkayB9XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFwcCB9IGZyb20gXCIuL2FwcC5qc1wiXG5leHBvcnQgeyBhc3RhbGlmeSwgQ29uc3RydWN0UHJvcHMgfVxuZXhwb3J0ICogYXMgV2lkZ2V0IGZyb20gXCIuL3dpZGdldC5qc1wiXG5leHBvcnQgeyBob29rIH0gZnJvbSBcIi4uL19hc3RhbFwiXG4iLCAiaW1wb3J0IEFzdGFsIGZyb20gXCJnaTovL0FzdGFsSU9cIlxuaW1wb3J0IEJpbmRpbmcsIHsgdHlwZSBDb25uZWN0YWJsZSwgdHlwZSBTdWJzY3JpYmFibGUgfSBmcm9tIFwiLi9iaW5kaW5nLmpzXCJcbmltcG9ydCB7IGludGVydmFsIH0gZnJvbSBcIi4vdGltZS5qc1wiXG5pbXBvcnQgeyBleGVjQXN5bmMsIHN1YnByb2Nlc3MgfSBmcm9tIFwiLi9wcm9jZXNzLmpzXCJcblxuY2xhc3MgVmFyaWFibGVXcmFwcGVyPFQ+IGV4dGVuZHMgRnVuY3Rpb24ge1xuICAgIHByaXZhdGUgdmFyaWFibGUhOiBBc3RhbC5WYXJpYWJsZUJhc2VcbiAgICBwcml2YXRlIGVyckhhbmRsZXI/ID0gY29uc29sZS5lcnJvclxuXG4gICAgcHJpdmF0ZSBfdmFsdWU6IFRcbiAgICBwcml2YXRlIF9wb2xsPzogQXN0YWwuVGltZVxuICAgIHByaXZhdGUgX3dhdGNoPzogQXN0YWwuUHJvY2Vzc1xuXG4gICAgcHJpdmF0ZSBwb2xsSW50ZXJ2YWwgPSAxMDAwXG4gICAgcHJpdmF0ZSBwb2xsRXhlYz86IHN0cmluZ1tdIHwgc3RyaW5nXG4gICAgcHJpdmF0ZSBwb2xsVHJhbnNmb3JtPzogKHN0ZG91dDogc3RyaW5nLCBwcmV2OiBUKSA9PiBUXG4gICAgcHJpdmF0ZSBwb2xsRm4/OiAocHJldjogVCkgPT4gVCB8IFByb21pc2U8VD5cblxuICAgIHByaXZhdGUgd2F0Y2hUcmFuc2Zvcm0/OiAoc3Rkb3V0OiBzdHJpbmcsIHByZXY6IFQpID0+IFRcbiAgICBwcml2YXRlIHdhdGNoRXhlYz86IHN0cmluZ1tdIHwgc3RyaW5nXG5cbiAgICBjb25zdHJ1Y3Rvcihpbml0OiBUKSB7XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgdGhpcy5fdmFsdWUgPSBpbml0XG4gICAgICAgIHRoaXMudmFyaWFibGUgPSBuZXcgQXN0YWwuVmFyaWFibGVCYXNlKClcbiAgICAgICAgdGhpcy52YXJpYWJsZS5jb25uZWN0KFwiZHJvcHBlZFwiLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN0b3BXYXRjaCgpXG4gICAgICAgICAgICB0aGlzLnN0b3BQb2xsKClcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy52YXJpYWJsZS5jb25uZWN0KFwiZXJyb3JcIiwgKF8sIGVycikgPT4gdGhpcy5lcnJIYW5kbGVyPy4oZXJyKSlcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eSh0aGlzLCB7XG4gICAgICAgICAgICBhcHBseTogKHRhcmdldCwgXywgYXJncykgPT4gdGFyZ2V0Ll9jYWxsKGFyZ3NbMF0pLFxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHByaXZhdGUgX2NhbGw8UiA9IFQ+KHRyYW5zZm9ybT86ICh2YWx1ZTogVCkgPT4gUik6IEJpbmRpbmc8Uj4ge1xuICAgICAgICBjb25zdCBiID0gQmluZGluZy5iaW5kKHRoaXMpXG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm0gPyBiLmFzKHRyYW5zZm9ybSkgOiBiIGFzIHVua25vd24gYXMgQmluZGluZzxSPlxuICAgIH1cblxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gU3RyaW5nKGBWYXJpYWJsZTwke3RoaXMuZ2V0KCl9PmApXG4gICAgfVxuXG4gICAgZ2V0KCk6IFQgeyByZXR1cm4gdGhpcy5fdmFsdWUgfVxuICAgIHNldCh2YWx1ZTogVCkge1xuICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMuX3ZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IHZhbHVlXG4gICAgICAgICAgICB0aGlzLnZhcmlhYmxlLmVtaXQoXCJjaGFuZ2VkXCIpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGFydFBvbGwoKSB7XG4gICAgICAgIGlmICh0aGlzLl9wb2xsKVxuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgaWYgKHRoaXMucG9sbEZuKSB7XG4gICAgICAgICAgICB0aGlzLl9wb2xsID0gaW50ZXJ2YWwodGhpcy5wb2xsSW50ZXJ2YWwsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB2ID0gdGhpcy5wb2xsRm4hKHRoaXMuZ2V0KCkpXG4gICAgICAgICAgICAgICAgaWYgKHYgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHYudGhlbih2ID0+IHRoaXMuc2V0KHYpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB0aGlzLnZhcmlhYmxlLmVtaXQoXCJlcnJvclwiLCBlcnIpKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0KHYpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBvbGxFeGVjKSB7XG4gICAgICAgICAgICB0aGlzLl9wb2xsID0gaW50ZXJ2YWwodGhpcy5wb2xsSW50ZXJ2YWwsICgpID0+IHtcbiAgICAgICAgICAgICAgICBleGVjQXN5bmModGhpcy5wb2xsRXhlYyEpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKHYgPT4gdGhpcy5zZXQodGhpcy5wb2xsVHJhbnNmb3JtISh2LCB0aGlzLmdldCgpKSkpXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gdGhpcy52YXJpYWJsZS5lbWl0KFwiZXJyb3JcIiwgZXJyKSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGFydFdhdGNoKCkge1xuICAgICAgICBpZiAodGhpcy5fd2F0Y2gpXG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICB0aGlzLl93YXRjaCA9IHN1YnByb2Nlc3Moe1xuICAgICAgICAgICAgY21kOiB0aGlzLndhdGNoRXhlYyEsXG4gICAgICAgICAgICBvdXQ6IG91dCA9PiB0aGlzLnNldCh0aGlzLndhdGNoVHJhbnNmb3JtIShvdXQsIHRoaXMuZ2V0KCkpKSxcbiAgICAgICAgICAgIGVycjogZXJyID0+IHRoaXMudmFyaWFibGUuZW1pdChcImVycm9yXCIsIGVyciksXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgc3RvcFBvbGwoKSB7XG4gICAgICAgIHRoaXMuX3BvbGw/LmNhbmNlbCgpXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9wb2xsXG4gICAgfVxuXG4gICAgc3RvcFdhdGNoKCkge1xuICAgICAgICB0aGlzLl93YXRjaD8ua2lsbCgpXG4gICAgICAgIGRlbGV0ZSB0aGlzLl93YXRjaFxuICAgIH1cblxuICAgIGlzUG9sbGluZygpIHsgcmV0dXJuICEhdGhpcy5fcG9sbCB9XG4gICAgaXNXYXRjaGluZygpIHsgcmV0dXJuICEhdGhpcy5fd2F0Y2ggfVxuXG4gICAgZHJvcCgpIHtcbiAgICAgICAgdGhpcy52YXJpYWJsZS5lbWl0KFwiZHJvcHBlZFwiKVxuICAgIH1cblxuICAgIG9uRHJvcHBlZChjYWxsYmFjazogKCkgPT4gdm9pZCkge1xuICAgICAgICB0aGlzLnZhcmlhYmxlLmNvbm5lY3QoXCJkcm9wcGVkXCIsIGNhbGxiYWNrKVxuICAgICAgICByZXR1cm4gdGhpcyBhcyB1bmtub3duIGFzIFZhcmlhYmxlPFQ+XG4gICAgfVxuXG4gICAgb25FcnJvcihjYWxsYmFjazogKGVycjogc3RyaW5nKSA9PiB2b2lkKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmVyckhhbmRsZXJcbiAgICAgICAgdGhpcy52YXJpYWJsZS5jb25uZWN0KFwiZXJyb3JcIiwgKF8sIGVycikgPT4gY2FsbGJhY2soZXJyKSlcbiAgICAgICAgcmV0dXJuIHRoaXMgYXMgdW5rbm93biBhcyBWYXJpYWJsZTxUPlxuICAgIH1cblxuICAgIHN1YnNjcmliZShjYWxsYmFjazogKHZhbHVlOiBUKSA9PiB2b2lkKSB7XG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy52YXJpYWJsZS5jb25uZWN0KFwiY2hhbmdlZFwiLCAoKSA9PiB7XG4gICAgICAgICAgICBjYWxsYmFjayh0aGlzLmdldCgpKVxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gKCkgPT4gdGhpcy52YXJpYWJsZS5kaXNjb25uZWN0KGlkKVxuICAgIH1cblxuICAgIHBvbGwoXG4gICAgICAgIGludGVydmFsOiBudW1iZXIsXG4gICAgICAgIGV4ZWM6IHN0cmluZyB8IHN0cmluZ1tdLFxuICAgICAgICB0cmFuc2Zvcm0/OiAoc3Rkb3V0OiBzdHJpbmcsIHByZXY6IFQpID0+IFRcbiAgICApOiBWYXJpYWJsZTxUPlxuXG4gICAgcG9sbChcbiAgICAgICAgaW50ZXJ2YWw6IG51bWJlcixcbiAgICAgICAgY2FsbGJhY2s6IChwcmV2OiBUKSA9PiBUIHwgUHJvbWlzZTxUPlxuICAgICk6IFZhcmlhYmxlPFQ+XG5cbiAgICBwb2xsKFxuICAgICAgICBpbnRlcnZhbDogbnVtYmVyLFxuICAgICAgICBleGVjOiBzdHJpbmcgfCBzdHJpbmdbXSB8ICgocHJldjogVCkgPT4gVCB8IFByb21pc2U8VD4pLFxuICAgICAgICB0cmFuc2Zvcm06IChzdGRvdXQ6IHN0cmluZywgcHJldjogVCkgPT4gVCA9IG91dCA9PiBvdXQgYXMgVCxcbiAgICApIHtcbiAgICAgICAgdGhpcy5zdG9wUG9sbCgpXG4gICAgICAgIHRoaXMucG9sbEludGVydmFsID0gaW50ZXJ2YWxcbiAgICAgICAgdGhpcy5wb2xsVHJhbnNmb3JtID0gdHJhbnNmb3JtXG4gICAgICAgIGlmICh0eXBlb2YgZXhlYyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aGlzLnBvbGxGbiA9IGV4ZWNcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnBvbGxFeGVjXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBvbGxFeGVjID0gZXhlY1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMucG9sbEZuXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGFydFBvbGwoKVxuICAgICAgICByZXR1cm4gdGhpcyBhcyB1bmtub3duIGFzIFZhcmlhYmxlPFQ+XG4gICAgfVxuXG4gICAgd2F0Y2goXG4gICAgICAgIGV4ZWM6IHN0cmluZyB8IHN0cmluZ1tdLFxuICAgICAgICB0cmFuc2Zvcm06IChzdGRvdXQ6IHN0cmluZywgcHJldjogVCkgPT4gVCA9IG91dCA9PiBvdXQgYXMgVCxcbiAgICApIHtcbiAgICAgICAgdGhpcy5zdG9wV2F0Y2goKVxuICAgICAgICB0aGlzLndhdGNoRXhlYyA9IGV4ZWNcbiAgICAgICAgdGhpcy53YXRjaFRyYW5zZm9ybSA9IHRyYW5zZm9ybVxuICAgICAgICB0aGlzLnN0YXJ0V2F0Y2goKVxuICAgICAgICByZXR1cm4gdGhpcyBhcyB1bmtub3duIGFzIFZhcmlhYmxlPFQ+XG4gICAgfVxuXG4gICAgb2JzZXJ2ZShcbiAgICAgICAgb2JqczogQXJyYXk8W29iajogQ29ubmVjdGFibGUsIHNpZ25hbDogc3RyaW5nXT4sXG4gICAgICAgIGNhbGxiYWNrOiAoLi4uYXJnczogYW55W10pID0+IFQsXG4gICAgKTogVmFyaWFibGU8VD5cblxuICAgIG9ic2VydmUoXG4gICAgICAgIG9iajogQ29ubmVjdGFibGUsXG4gICAgICAgIHNpZ25hbDogc3RyaW5nLFxuICAgICAgICBjYWxsYmFjazogKC4uLmFyZ3M6IGFueVtdKSA9PiBULFxuICAgICk6IFZhcmlhYmxlPFQ+XG5cbiAgICBvYnNlcnZlKFxuICAgICAgICBvYmpzOiBDb25uZWN0YWJsZSB8IEFycmF5PFtvYmo6IENvbm5lY3RhYmxlLCBzaWduYWw6IHN0cmluZ10+LFxuICAgICAgICBzaWdPckZuOiBzdHJpbmcgfCAoKG9iajogQ29ubmVjdGFibGUsIC4uLmFyZ3M6IGFueVtdKSA9PiBUKSxcbiAgICAgICAgY2FsbGJhY2s/OiAob2JqOiBDb25uZWN0YWJsZSwgLi4uYXJnczogYW55W10pID0+IFQsXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IGYgPSB0eXBlb2Ygc2lnT3JGbiA9PT0gXCJmdW5jdGlvblwiID8gc2lnT3JGbiA6IGNhbGxiYWNrID8/ICgoKSA9PiB0aGlzLmdldCgpKVxuICAgICAgICBjb25zdCBzZXQgPSAob2JqOiBDb25uZWN0YWJsZSwgLi4uYXJnczogYW55W10pID0+IHRoaXMuc2V0KGYob2JqLCAuLi5hcmdzKSlcblxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmpzKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBvYmogb2Ygb2Jqcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IFtvLCBzXSA9IG9ialxuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gby5jb25uZWN0KHMsIHNldClcbiAgICAgICAgICAgICAgICB0aGlzLm9uRHJvcHBlZCgoKSA9PiBvLmRpc2Nvbm5lY3QoaWQpKVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzaWdPckZuID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaWQgPSBvYmpzLmNvbm5lY3Qoc2lnT3JGbiwgc2V0KVxuICAgICAgICAgICAgICAgIHRoaXMub25Ecm9wcGVkKCgpID0+IG9ianMuZGlzY29ubmVjdChpZCkpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcyBhcyB1bmtub3duIGFzIFZhcmlhYmxlPFQ+XG4gICAgfVxuXG4gICAgc3RhdGljIGRlcml2ZTxcbiAgICAgICAgY29uc3QgRGVwcyBleHRlbmRzIEFycmF5PFN1YnNjcmliYWJsZTxhbnk+PixcbiAgICAgICAgQXJncyBleHRlbmRzIHtcbiAgICAgICAgICAgIFtLIGluIGtleW9mIERlcHNdOiBEZXBzW0tdIGV4dGVuZHMgU3Vic2NyaWJhYmxlPGluZmVyIFQ+ID8gVCA6IG5ldmVyXG4gICAgICAgIH0sXG4gICAgICAgIFYgPSBBcmdzLFxuICAgID4oZGVwczogRGVwcywgZm46ICguLi5hcmdzOiBBcmdzKSA9PiBWID0gKC4uLmFyZ3MpID0+IGFyZ3MgYXMgdW5rbm93biBhcyBWKSB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZSA9ICgpID0+IGZuKC4uLmRlcHMubWFwKGQgPT4gZC5nZXQoKSkgYXMgQXJncylcbiAgICAgICAgY29uc3QgZGVyaXZlZCA9IG5ldyBWYXJpYWJsZSh1cGRhdGUoKSlcbiAgICAgICAgY29uc3QgdW5zdWJzID0gZGVwcy5tYXAoZGVwID0+IGRlcC5zdWJzY3JpYmUoKCkgPT4gZGVyaXZlZC5zZXQodXBkYXRlKCkpKSlcbiAgICAgICAgZGVyaXZlZC5vbkRyb3BwZWQoKCkgPT4gdW5zdWJzLm1hcCh1bnN1YiA9PiB1bnN1YigpKSlcbiAgICAgICAgcmV0dXJuIGRlcml2ZWRcbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmFyaWFibGU8VD4gZXh0ZW5kcyBPbWl0PFZhcmlhYmxlV3JhcHBlcjxUPiwgXCJiaW5kXCI+IHtcbiAgICA8Uj4odHJhbnNmb3JtOiAodmFsdWU6IFQpID0+IFIpOiBCaW5kaW5nPFI+XG4gICAgKCk6IEJpbmRpbmc8VD5cbn1cblxuZXhwb3J0IGNvbnN0IFZhcmlhYmxlID0gbmV3IFByb3h5KFZhcmlhYmxlV3JhcHBlciBhcyBhbnksIHtcbiAgICBhcHBseTogKF90LCBfYSwgYXJncykgPT4gbmV3IFZhcmlhYmxlV3JhcHBlcihhcmdzWzBdKSxcbn0pIGFzIHtcbiAgICBkZXJpdmU6IHR5cGVvZiBWYXJpYWJsZVdyYXBwZXJbXCJkZXJpdmVcIl1cbiAgICA8VD4oaW5pdDogVCk6IFZhcmlhYmxlPFQ+XG4gICAgbmV3PFQ+KGluaXQ6IFQpOiBWYXJpYWJsZTxUPlxufVxuXG5leHBvcnQgY29uc3QgeyBkZXJpdmUgfSA9IFZhcmlhYmxlXG5leHBvcnQgZGVmYXVsdCBWYXJpYWJsZVxuIiwgImV4cG9ydCBjb25zdCBzbmFrZWlmeSA9IChzdHI6IHN0cmluZykgPT4gc3RyXG4gICAgLnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pL2csIFwiJDFfJDJcIilcbiAgICAucmVwbGFjZUFsbChcIi1cIiwgXCJfXCIpXG4gICAgLnRvTG93ZXJDYXNlKClcblxuZXhwb3J0IGNvbnN0IGtlYmFiaWZ5ID0gKHN0cjogc3RyaW5nKSA9PiBzdHJcbiAgICAucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvZywgXCIkMS0kMlwiKVxuICAgIC5yZXBsYWNlQWxsKFwiX1wiLCBcIi1cIilcbiAgICAudG9Mb3dlckNhc2UoKVxuXG5leHBvcnQgaW50ZXJmYWNlIFN1YnNjcmliYWJsZTxUID0gdW5rbm93bj4ge1xuICAgIHN1YnNjcmliZShjYWxsYmFjazogKHZhbHVlOiBUKSA9PiB2b2lkKTogKCkgPT4gdm9pZFxuICAgIGdldCgpOiBUXG4gICAgW2tleTogc3RyaW5nXTogYW55XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29ubmVjdGFibGUge1xuICAgIGNvbm5lY3Qoc2lnbmFsOiBzdHJpbmcsIGNhbGxiYWNrOiAoLi4uYXJnczogYW55W10pID0+IHVua25vd24pOiBudW1iZXJcbiAgICBkaXNjb25uZWN0KGlkOiBudW1iZXIpOiB2b2lkXG4gICAgW2tleTogc3RyaW5nXTogYW55XG59XG5cbmV4cG9ydCBjbGFzcyBCaW5kaW5nPFZhbHVlPiB7XG4gICAgcHJpdmF0ZSB0cmFuc2Zvcm1GbiA9ICh2OiBhbnkpID0+IHZcblxuICAgICNlbWl0dGVyOiBTdWJzY3JpYmFibGU8VmFsdWU+IHwgQ29ubmVjdGFibGVcbiAgICAjcHJvcD86IHN0cmluZ1xuXG4gICAgc3RhdGljIGJpbmQ8XG4gICAgICAgIFQgZXh0ZW5kcyBDb25uZWN0YWJsZSxcbiAgICAgICAgUCBleHRlbmRzIGtleW9mIFQsXG4gICAgPihvYmplY3Q6IFQsIHByb3BlcnR5OiBQKTogQmluZGluZzxUW1BdPlxuXG4gICAgc3RhdGljIGJpbmQ8VD4ob2JqZWN0OiBTdWJzY3JpYmFibGU8VD4pOiBCaW5kaW5nPFQ+XG5cbiAgICBzdGF0aWMgYmluZChlbWl0dGVyOiBDb25uZWN0YWJsZSB8IFN1YnNjcmliYWJsZSwgcHJvcD86IHN0cmluZykge1xuICAgICAgICByZXR1cm4gbmV3IEJpbmRpbmcoZW1pdHRlciwgcHJvcClcbiAgICB9XG5cbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKGVtaXR0ZXI6IENvbm5lY3RhYmxlIHwgU3Vic2NyaWJhYmxlPFZhbHVlPiwgcHJvcD86IHN0cmluZykge1xuICAgICAgICB0aGlzLiNlbWl0dGVyID0gZW1pdHRlclxuICAgICAgICB0aGlzLiNwcm9wID0gcHJvcCAmJiBrZWJhYmlmeShwcm9wKVxuICAgIH1cblxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYEJpbmRpbmc8JHt0aGlzLiNlbWl0dGVyfSR7dGhpcy4jcHJvcCA/IGAsIFwiJHt0aGlzLiNwcm9wfVwiYCA6IFwiXCJ9PmBcbiAgICB9XG5cbiAgICBhczxUPihmbjogKHY6IFZhbHVlKSA9PiBUKTogQmluZGluZzxUPiB7XG4gICAgICAgIGNvbnN0IGJpbmQgPSBuZXcgQmluZGluZyh0aGlzLiNlbWl0dGVyLCB0aGlzLiNwcm9wKVxuICAgICAgICBiaW5kLnRyYW5zZm9ybUZuID0gKHY6IFZhbHVlKSA9PiBmbih0aGlzLnRyYW5zZm9ybUZuKHYpKVxuICAgICAgICByZXR1cm4gYmluZCBhcyB1bmtub3duIGFzIEJpbmRpbmc8VD5cbiAgICB9XG5cbiAgICBnZXQoKTogVmFsdWUge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuI2VtaXR0ZXIuZ2V0ID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm1Gbih0aGlzLiNlbWl0dGVyLmdldCgpKVxuXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy4jcHJvcCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgY29uc3QgZ2V0dGVyID0gYGdldF8ke3NuYWtlaWZ5KHRoaXMuI3Byb3ApfWBcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy4jZW1pdHRlcltnZXR0ZXJdID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtRm4odGhpcy4jZW1pdHRlcltnZXR0ZXJdKCkpXG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybUZuKHRoaXMuI2VtaXR0ZXJbdGhpcy4jcHJvcF0pXG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBFcnJvcihcImNhbiBub3QgZ2V0IHZhbHVlIG9mIGJpbmRpbmdcIilcbiAgICB9XG5cbiAgICBzdWJzY3JpYmUoY2FsbGJhY2s6ICh2YWx1ZTogVmFsdWUpID0+IHZvaWQpOiAoKSA9PiB2b2lkIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLiNlbWl0dGVyLnN1YnNjcmliZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy4jZW1pdHRlci5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHRoaXMuZ2V0KCkpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLiNlbWl0dGVyLmNvbm5lY3QgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgY29uc3Qgc2lnbmFsID0gYG5vdGlmeTo6JHt0aGlzLiNwcm9wfWBcbiAgICAgICAgICAgIGNvbnN0IGlkID0gdGhpcy4jZW1pdHRlci5jb25uZWN0KHNpZ25hbCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHRoaXMuZ2V0KCkpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICAodGhpcy4jZW1pdHRlci5kaXNjb25uZWN0IGFzIENvbm5lY3RhYmxlW1wiZGlzY29ubmVjdFwiXSkoaWQpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgRXJyb3IoYCR7dGhpcy4jZW1pdHRlcn0gaXMgbm90IGJpbmRhYmxlYClcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCB7IGJpbmQgfSA9IEJpbmRpbmdcbmV4cG9ydCBkZWZhdWx0IEJpbmRpbmdcbiIsICJpbXBvcnQgQXN0YWwgZnJvbSBcImdpOi8vQXN0YWxJT1wiXG5cbmV4cG9ydCB0eXBlIFRpbWUgPSBBc3RhbC5UaW1lXG5leHBvcnQgY29uc3QgVGltZSA9IEFzdGFsLlRpbWVcblxuZXhwb3J0IGZ1bmN0aW9uIGludGVydmFsKGludGVydmFsOiBudW1iZXIsIGNhbGxiYWNrPzogKCkgPT4gdm9pZCkge1xuICAgIHJldHVybiBBc3RhbC5UaW1lLmludGVydmFsKGludGVydmFsLCAoKSA9PiB2b2lkIGNhbGxiYWNrPy4oKSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRpbWVvdXQodGltZW91dDogbnVtYmVyLCBjYWxsYmFjaz86ICgpID0+IHZvaWQpIHtcbiAgICByZXR1cm4gQXN0YWwuVGltZS50aW1lb3V0KHRpbWVvdXQsICgpID0+IHZvaWQgY2FsbGJhY2s/LigpKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaWRsZShjYWxsYmFjaz86ICgpID0+IHZvaWQpIHtcbiAgICByZXR1cm4gQXN0YWwuVGltZS5pZGxlKCgpID0+IHZvaWQgY2FsbGJhY2s/LigpKVxufVxuIiwgImltcG9ydCBBc3RhbCBmcm9tIFwiZ2k6Ly9Bc3RhbElPXCJcblxudHlwZSBBcmdzID0ge1xuICAgIGNtZDogc3RyaW5nIHwgc3RyaW5nW11cbiAgICBvdXQ/OiAoc3Rkb3V0OiBzdHJpbmcpID0+IHZvaWRcbiAgICBlcnI/OiAoc3RkZXJyOiBzdHJpbmcpID0+IHZvaWRcbn1cblxuZXhwb3J0IHR5cGUgUHJvY2VzcyA9IEFzdGFsLlByb2Nlc3NcbmV4cG9ydCBjb25zdCBQcm9jZXNzID0gQXN0YWwuUHJvY2Vzc1xuXG5leHBvcnQgZnVuY3Rpb24gc3VicHJvY2VzcyhhcmdzOiBBcmdzKTogQXN0YWwuUHJvY2Vzc1xuXG5leHBvcnQgZnVuY3Rpb24gc3VicHJvY2VzcyhcbiAgICBjbWQ6IHN0cmluZyB8IHN0cmluZ1tdLFxuICAgIG9uT3V0PzogKHN0ZG91dDogc3RyaW5nKSA9PiB2b2lkLFxuICAgIG9uRXJyPzogKHN0ZGVycjogc3RyaW5nKSA9PiB2b2lkLFxuKTogQXN0YWwuUHJvY2Vzc1xuXG5leHBvcnQgZnVuY3Rpb24gc3VicHJvY2VzcyhcbiAgICBhcmdzT3JDbWQ6IEFyZ3MgfCBzdHJpbmcgfCBzdHJpbmdbXSxcbiAgICBvbk91dDogKHN0ZG91dDogc3RyaW5nKSA9PiB2b2lkID0gcHJpbnQsXG4gICAgb25FcnI6IChzdGRlcnI6IHN0cmluZykgPT4gdm9pZCA9IHByaW50ZXJyLFxuKSB7XG4gICAgY29uc3QgYXJncyA9IEFycmF5LmlzQXJyYXkoYXJnc09yQ21kKSB8fCB0eXBlb2YgYXJnc09yQ21kID09PSBcInN0cmluZ1wiXG4gICAgY29uc3QgeyBjbWQsIGVyciwgb3V0IH0gPSB7XG4gICAgICAgIGNtZDogYXJncyA/IGFyZ3NPckNtZCA6IGFyZ3NPckNtZC5jbWQsXG4gICAgICAgIGVycjogYXJncyA/IG9uRXJyIDogYXJnc09yQ21kLmVyciB8fCBvbkVycixcbiAgICAgICAgb3V0OiBhcmdzID8gb25PdXQgOiBhcmdzT3JDbWQub3V0IHx8IG9uT3V0LFxuICAgIH1cblxuICAgIGNvbnN0IHByb2MgPSBBcnJheS5pc0FycmF5KGNtZClcbiAgICAgICAgPyBBc3RhbC5Qcm9jZXNzLnN1YnByb2Nlc3N2KGNtZClcbiAgICAgICAgOiBBc3RhbC5Qcm9jZXNzLnN1YnByb2Nlc3MoY21kKVxuXG4gICAgcHJvYy5jb25uZWN0KFwic3Rkb3V0XCIsIChfLCBzdGRvdXQ6IHN0cmluZykgPT4gb3V0KHN0ZG91dCkpXG4gICAgcHJvYy5jb25uZWN0KFwic3RkZXJyXCIsIChfLCBzdGRlcnI6IHN0cmluZykgPT4gZXJyKHN0ZGVycikpXG4gICAgcmV0dXJuIHByb2Ncbn1cblxuLyoqIEB0aHJvd3Mge0dMaWIuRXJyb3J9IFRocm93cyBzdGRlcnIgKi9cbmV4cG9ydCBmdW5jdGlvbiBleGVjKGNtZDogc3RyaW5nIHwgc3RyaW5nW10pIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShjbWQpXG4gICAgICAgID8gQXN0YWwuUHJvY2Vzcy5leGVjdihjbWQpXG4gICAgICAgIDogQXN0YWwuUHJvY2Vzcy5leGVjKGNtZClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4ZWNBc3luYyhjbWQ6IHN0cmluZyB8IHN0cmluZ1tdKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjbWQpKSB7XG4gICAgICAgICAgICBBc3RhbC5Qcm9jZXNzLmV4ZWNfYXN5bmN2KGNtZCwgKF8sIHJlcykgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoQXN0YWwuUHJvY2Vzcy5leGVjX2FzeW5jdl9maW5pc2gocmVzKSlcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIEFzdGFsLlByb2Nlc3MuZXhlY19hc3luYyhjbWQsIChfLCByZXMpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKEFzdGFsLlByb2Nlc3MuZXhlY19maW5pc2gocmVzKSlcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH0pXG59XG4iLCAiaW1wb3J0IFZhcmlhYmxlIGZyb20gXCIuL3ZhcmlhYmxlLmpzXCJcbmltcG9ydCB7IGV4ZWNBc3luYyB9IGZyb20gXCIuL3Byb2Nlc3MuanNcIlxuaW1wb3J0IEJpbmRpbmcsIHsgQ29ubmVjdGFibGUsIGtlYmFiaWZ5LCBzbmFrZWlmeSwgU3Vic2NyaWJhYmxlIH0gZnJvbSBcIi4vYmluZGluZy5qc1wiXG5cbmV4cG9ydCBjb25zdCBub0ltcGxpY2l0RGVzdHJveSA9IFN5bWJvbChcIm5vIG5vIGltcGxpY2l0IGRlc3Ryb3lcIilcbmV4cG9ydCBjb25zdCBzZXRDaGlsZHJlbiA9IFN5bWJvbChcImNoaWxkcmVuIHNldHRlciBtZXRob2RcIilcblxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlQmluZGluZ3MoYXJyYXk6IGFueVtdKSB7XG4gICAgZnVuY3Rpb24gZ2V0VmFsdWVzKC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgICAgIGxldCBpID0gMFxuICAgICAgICByZXR1cm4gYXJyYXkubWFwKHZhbHVlID0+IHZhbHVlIGluc3RhbmNlb2YgQmluZGluZ1xuICAgICAgICAgICAgPyBhcmdzW2krK11cbiAgICAgICAgICAgIDogdmFsdWUsXG4gICAgICAgIClcbiAgICB9XG5cbiAgICBjb25zdCBiaW5kaW5ncyA9IGFycmF5LmZpbHRlcihpID0+IGkgaW5zdGFuY2VvZiBCaW5kaW5nKVxuXG4gICAgaWYgKGJpbmRpbmdzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgcmV0dXJuIGFycmF5XG5cbiAgICBpZiAoYmluZGluZ3MubGVuZ3RoID09PSAxKVxuICAgICAgICByZXR1cm4gYmluZGluZ3NbMF0uYXMoZ2V0VmFsdWVzKVxuXG4gICAgcmV0dXJuIFZhcmlhYmxlLmRlcml2ZShiaW5kaW5ncywgZ2V0VmFsdWVzKSgpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRQcm9wKG9iajogYW55LCBwcm9wOiBzdHJpbmcsIHZhbHVlOiBhbnkpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBzZXR0ZXIgPSBgc2V0XyR7c25ha2VpZnkocHJvcCl9YFxuICAgICAgICBpZiAodHlwZW9mIG9ialtzZXR0ZXJdID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICByZXR1cm4gb2JqW3NldHRlcl0odmFsdWUpXG5cbiAgICAgICAgcmV0dXJuIChvYmpbcHJvcF0gPSB2YWx1ZSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBjb3VsZCBub3Qgc2V0IHByb3BlcnR5IFwiJHtwcm9wfVwiIG9uICR7b2JqfTpgLCBlcnJvcilcbiAgICB9XG59XG5cbmV4cG9ydCB0eXBlIEJpbmRhYmxlUHJvcHM8VD4gPSB7XG4gICAgW0sgaW4ga2V5b2YgVF06IEJpbmRpbmc8VFtLXT4gfCBUW0tdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaG9vazxXaWRnZXQgZXh0ZW5kcyBDb25uZWN0YWJsZT4oXG4gICAgd2lkZ2V0OiBXaWRnZXQsXG4gICAgb2JqZWN0OiBDb25uZWN0YWJsZSB8IFN1YnNjcmliYWJsZSxcbiAgICBzaWduYWxPckNhbGxiYWNrOiBzdHJpbmcgfCAoKHNlbGY6IFdpZGdldCwgLi4uYXJnczogYW55W10pID0+IHZvaWQpLFxuICAgIGNhbGxiYWNrPzogKHNlbGY6IFdpZGdldCwgLi4uYXJnczogYW55W10pID0+IHZvaWQsXG4pIHtcbiAgICBpZiAodHlwZW9mIG9iamVjdC5jb25uZWN0ID09PSBcImZ1bmN0aW9uXCIgJiYgY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3QgaWQgPSBvYmplY3QuY29ubmVjdChzaWduYWxPckNhbGxiYWNrLCAoXzogYW55LCAuLi5hcmdzOiB1bmtub3duW10pID0+IHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayh3aWRnZXQsIC4uLmFyZ3MpXG4gICAgICAgIH0pXG4gICAgICAgIHdpZGdldC5jb25uZWN0KFwiZGVzdHJveVwiLCAoKSA9PiB7XG4gICAgICAgICAgICAob2JqZWN0LmRpc2Nvbm5lY3QgYXMgQ29ubmVjdGFibGVbXCJkaXNjb25uZWN0XCJdKShpZClcbiAgICAgICAgfSlcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmplY3Quc3Vic2NyaWJlID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIHNpZ25hbE9yQ2FsbGJhY2sgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBjb25zdCB1bnN1YiA9IG9iamVjdC5zdWJzY3JpYmUoKC4uLmFyZ3M6IHVua25vd25bXSkgPT4ge1xuICAgICAgICAgICAgc2lnbmFsT3JDYWxsYmFjayh3aWRnZXQsIC4uLmFyZ3MpXG4gICAgICAgIH0pXG4gICAgICAgIHdpZGdldC5jb25uZWN0KFwiZGVzdHJveVwiLCB1bnN1YilcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb25zdHJ1Y3Q8V2lkZ2V0IGV4dGVuZHMgQ29ubmVjdGFibGUgJiB7IFtzZXRDaGlsZHJlbl06IChjaGlsZHJlbjogYW55W10pID0+IHZvaWQgfT4od2lkZ2V0OiBXaWRnZXQsIGNvbmZpZzogYW55KSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1jb25zdFxuICAgIGxldCB7IHNldHVwLCBjaGlsZCwgY2hpbGRyZW4gPSBbXSwgLi4ucHJvcHMgfSA9IGNvbmZpZ1xuXG4gICAgaWYgKGNoaWxkcmVuIGluc3RhbmNlb2YgQmluZGluZykge1xuICAgICAgICBjaGlsZHJlbiA9IFtjaGlsZHJlbl1cbiAgICB9XG5cbiAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgY2hpbGRyZW4udW5zaGlmdChjaGlsZClcbiAgICB9XG5cbiAgICAvLyByZW1vdmUgdW5kZWZpbmVkIHZhbHVlc1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHByb3BzKSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGVsZXRlIHByb3BzW2tleV1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGNvbGxlY3QgYmluZGluZ3NcbiAgICBjb25zdCBiaW5kaW5nczogQXJyYXk8W3N0cmluZywgQmluZGluZzxhbnk+XT4gPSBPYmplY3RcbiAgICAgICAgLmtleXMocHJvcHMpXG4gICAgICAgIC5yZWR1Y2UoKGFjYzogYW55LCBwcm9wKSA9PiB7XG4gICAgICAgICAgICBpZiAocHJvcHNbcHJvcF0gaW5zdGFuY2VvZiBCaW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmluZGluZyA9IHByb3BzW3Byb3BdXG4gICAgICAgICAgICAgICAgZGVsZXRlIHByb3BzW3Byb3BdXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsuLi5hY2MsIFtwcm9wLCBiaW5kaW5nXV1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhY2NcbiAgICAgICAgfSwgW10pXG5cbiAgICAvLyBjb2xsZWN0IHNpZ25hbCBoYW5kbGVyc1xuICAgIGNvbnN0IG9uSGFuZGxlcnM6IEFycmF5PFtzdHJpbmcsIHN0cmluZyB8ICgoKSA9PiB1bmtub3duKV0+ID0gT2JqZWN0XG4gICAgICAgIC5rZXlzKHByb3BzKVxuICAgICAgICAucmVkdWNlKChhY2M6IGFueSwga2V5KSA9PiB7XG4gICAgICAgICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoXCJvblwiKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpZyA9IGtlYmFiaWZ5KGtleSkuc3BsaXQoXCItXCIpLnNsaWNlKDEpLmpvaW4oXCItXCIpXG4gICAgICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IHByb3BzW2tleV1cbiAgICAgICAgICAgICAgICBkZWxldGUgcHJvcHNba2V5XVxuICAgICAgICAgICAgICAgIHJldHVybiBbLi4uYWNjLCBbc2lnLCBoYW5kbGVyXV1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhY2NcbiAgICAgICAgfSwgW10pXG5cbiAgICAvLyBzZXQgY2hpbGRyZW5cbiAgICBjb25zdCBtZXJnZWRDaGlsZHJlbiA9IG1lcmdlQmluZGluZ3MoY2hpbGRyZW4uZmxhdChJbmZpbml0eSkpXG4gICAgaWYgKG1lcmdlZENoaWxkcmVuIGluc3RhbmNlb2YgQmluZGluZykge1xuICAgICAgICB3aWRnZXRbc2V0Q2hpbGRyZW5dKG1lcmdlZENoaWxkcmVuLmdldCgpKVxuICAgICAgICB3aWRnZXQuY29ubmVjdChcImRlc3Ryb3lcIiwgbWVyZ2VkQ2hpbGRyZW4uc3Vic2NyaWJlKCh2KSA9PiB7XG4gICAgICAgICAgICB3aWRnZXRbc2V0Q2hpbGRyZW5dKHYpXG4gICAgICAgIH0pKVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChtZXJnZWRDaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB3aWRnZXRbc2V0Q2hpbGRyZW5dKG1lcmdlZENoaWxkcmVuKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gc2V0dXAgc2lnbmFsIGhhbmRsZXJzXG4gICAgZm9yIChjb25zdCBbc2lnbmFsLCBjYWxsYmFja10gb2Ygb25IYW5kbGVycykge1xuICAgICAgICBjb25zdCBzaWcgPSBzaWduYWwuc3RhcnRzV2l0aChcIm5vdGlmeVwiKVxuICAgICAgICAgICAgPyBzaWduYWwucmVwbGFjZShcIi1cIiwgXCI6OlwiKVxuICAgICAgICAgICAgOiBzaWduYWxcblxuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHdpZGdldC5jb25uZWN0KHNpZywgY2FsbGJhY2spXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aWRnZXQuY29ubmVjdChzaWcsICgpID0+IGV4ZWNBc3luYyhjYWxsYmFjaylcbiAgICAgICAgICAgICAgICAudGhlbihwcmludCkuY2F0Y2goY29uc29sZS5lcnJvcikpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzZXR1cCBiaW5kaW5ncyBoYW5kbGVyc1xuICAgIGZvciAoY29uc3QgW3Byb3AsIGJpbmRpbmddIG9mIGJpbmRpbmdzKSB7XG4gICAgICAgIGlmIChwcm9wID09PSBcImNoaWxkXCIgfHwgcHJvcCA9PT0gXCJjaGlsZHJlblwiKSB7XG4gICAgICAgICAgICB3aWRnZXQuY29ubmVjdChcImRlc3Ryb3lcIiwgYmluZGluZy5zdWJzY3JpYmUoKHY6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHdpZGdldFtzZXRDaGlsZHJlbl0odilcbiAgICAgICAgICAgIH0pKVxuICAgICAgICB9XG4gICAgICAgIHdpZGdldC5jb25uZWN0KFwiZGVzdHJveVwiLCBiaW5kaW5nLnN1YnNjcmliZSgodjogYW55KSA9PiB7XG4gICAgICAgICAgICBzZXRQcm9wKHdpZGdldCwgcHJvcCwgdilcbiAgICAgICAgfSkpXG4gICAgICAgIHNldFByb3Aod2lkZ2V0LCBwcm9wLCBiaW5kaW5nLmdldCgpKVxuICAgIH1cblxuICAgIC8vIGZpbHRlciB1bmRlZmluZWQgdmFsdWVzXG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMocHJvcHMpKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkZWxldGUgcHJvcHNba2V5XVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgT2JqZWN0LmFzc2lnbih3aWRnZXQsIHByb3BzKVxuICAgIHNldHVwPy4od2lkZ2V0KVxuICAgIHJldHVybiB3aWRnZXRcbn1cblxuZnVuY3Rpb24gaXNBcnJvd0Z1bmN0aW9uKGZ1bmM6IGFueSk6IGZ1bmMgaXMgKGFyZ3M6IGFueSkgPT4gYW55IHtcbiAgICByZXR1cm4gIU9iamVjdC5oYXNPd24oZnVuYywgXCJwcm90b3R5cGVcIilcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGpzeChcbiAgICBjdG9yczogUmVjb3JkPHN0cmluZywgeyBuZXcocHJvcHM6IGFueSk6IGFueSB9IHwgKChwcm9wczogYW55KSA9PiBhbnkpPixcbiAgICBjdG9yOiBzdHJpbmcgfCAoKHByb3BzOiBhbnkpID0+IGFueSkgfCB7IG5ldyhwcm9wczogYW55KTogYW55IH0sXG4gICAgeyBjaGlsZHJlbiwgLi4ucHJvcHMgfTogYW55LFxuKSB7XG4gICAgY2hpbGRyZW4gPz89IFtdXG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKVxuICAgICAgICBjaGlsZHJlbiA9IFtjaGlsZHJlbl1cblxuICAgIGNoaWxkcmVuID0gY2hpbGRyZW4uZmlsdGVyKEJvb2xlYW4pXG5cbiAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID09PSAxKVxuICAgICAgICBwcm9wcy5jaGlsZCA9IGNoaWxkcmVuWzBdXG4gICAgZWxzZSBpZiAoY2hpbGRyZW4ubGVuZ3RoID4gMSlcbiAgICAgICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZHJlblxuXG4gICAgaWYgKHR5cGVvZiBjdG9yID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGlmIChpc0Fycm93RnVuY3Rpb24oY3RvcnNbY3Rvcl0pKVxuICAgICAgICAgICAgcmV0dXJuIGN0b3JzW2N0b3JdKHByb3BzKVxuXG4gICAgICAgIHJldHVybiBuZXcgY3RvcnNbY3Rvcl0ocHJvcHMpXG4gICAgfVxuXG4gICAgaWYgKGlzQXJyb3dGdW5jdGlvbihjdG9yKSlcbiAgICAgICAgcmV0dXJuIGN0b3IocHJvcHMpXG5cbiAgICByZXR1cm4gbmV3IGN0b3IocHJvcHMpXG59XG4iLCAiaW1wb3J0IHsgbm9JbXBsaWNpdERlc3Ryb3ksIHNldENoaWxkcmVuLCB0eXBlIEJpbmRhYmxlUHJvcHMsIGNvbnN0cnVjdCB9IGZyb20gXCIuLi9fYXN0YWwuanNcIlxuaW1wb3J0IEd0ayBmcm9tIFwiZ2k6Ly9HdGs/dmVyc2lvbj00LjBcIlxuaW1wb3J0IEdkayBmcm9tIFwiZ2k6Ly9HZGs/dmVyc2lvbj00LjBcIlxuaW1wb3J0IEJpbmRpbmcgZnJvbSBcIi4uL2JpbmRpbmcuanNcIlxuXG5leHBvcnQgY29uc3QgdHlwZSA9IFN5bWJvbChcImNoaWxkIHR5cGVcIilcbmNvbnN0IGR1bW15QnVsZGVyID0gbmV3IEd0ay5CdWlsZGVyXG5cbmZ1bmN0aW9uIF9nZXRDaGlsZHJlbih3aWRnZXQ6IEd0ay5XaWRnZXQpOiBBcnJheTxHdGsuV2lkZ2V0PiB7XG4gICAgaWYgKFwiZ2V0X2NoaWxkXCIgaW4gd2lkZ2V0ICYmIHR5cGVvZiB3aWRnZXQuZ2V0X2NoaWxkID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gd2lkZ2V0LmdldF9jaGlsZCgpID8gW3dpZGdldC5nZXRfY2hpbGQoKV0gOiBbXVxuICAgIH1cblxuICAgIGNvbnN0IGNoaWxkcmVuOiBBcnJheTxHdGsuV2lkZ2V0PiA9IFtdXG4gICAgbGV0IGNoID0gd2lkZ2V0LmdldF9maXJzdF9jaGlsZCgpXG4gICAgd2hpbGUgKGNoICE9PSBudWxsKSB7XG4gICAgICAgIGNoaWxkcmVuLnB1c2goY2gpXG4gICAgICAgIGNoID0gY2guZ2V0X25leHRfc2libGluZygpXG4gICAgfVxuICAgIHJldHVybiBjaGlsZHJlblxufVxuXG5mdW5jdGlvbiBfc2V0Q2hpbGRyZW4od2lkZ2V0OiBHdGsuV2lkZ2V0LCBjaGlsZHJlbjogYW55W10pIHtcbiAgICBjaGlsZHJlbiA9IGNoaWxkcmVuLmZsYXQoSW5maW5pdHkpLm1hcChjaCA9PiBjaCBpbnN0YW5jZW9mIEd0ay5XaWRnZXRcbiAgICAgICAgPyBjaFxuICAgICAgICA6IG5ldyBHdGsuTGFiZWwoeyB2aXNpYmxlOiB0cnVlLCBsYWJlbDogU3RyaW5nKGNoKSB9KSlcblxuXG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiBjaGlsZHJlbikge1xuICAgICAgICB3aWRnZXQudmZ1bmNfYWRkX2NoaWxkKFxuICAgICAgICAgICAgZHVtbXlCdWxkZXIsXG4gICAgICAgICAgICBjaGlsZCxcbiAgICAgICAgICAgIHR5cGUgaW4gY2hpbGQgPyBjaGlsZFt0eXBlXSA6IG51bGwsXG4gICAgICAgIClcbiAgICB9XG59XG5cbnR5cGUgQ29uZmlnPFQgZXh0ZW5kcyBHdGsuV2lkZ2V0PiA9IHtcbiAgICBzZXRDaGlsZHJlbih3aWRnZXQ6IFQsIGNoaWxkcmVuOiBhbnlbXSk6IHZvaWRcbiAgICBnZXRDaGlsZHJlbih3aWRnZXQ6IFQpOiBBcnJheTxHdGsuV2lkZ2V0PlxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhc3RhbGlmeTxcbiAgICBXaWRnZXQgZXh0ZW5kcyBHdGsuV2lkZ2V0LFxuICAgIFByb3BzIGV4dGVuZHMgR3RrLldpZGdldC5Db25zdHJ1Y3RvclByb3BzID0gR3RrLldpZGdldC5Db25zdHJ1Y3RvclByb3BzLFxuICAgIFNpZ25hbHMgZXh0ZW5kcyBSZWNvcmQ8YG9uJHtzdHJpbmd9YCwgQXJyYXk8dW5rbm93bj4+ID0gUmVjb3JkPGBvbiR7c3RyaW5nfWAsIGFueVtdPixcbj4oY2xzOiB7IG5ldyguLi5hcmdzOiBhbnlbXSk6IFdpZGdldCB9LCBjb25maWc6IFBhcnRpYWw8Q29uZmlnPFdpZGdldD4+ID0ge30pIHtcbiAgICBPYmplY3QuYXNzaWduKGNscy5wcm90b3R5cGUsIHtcbiAgICAgICAgW3NldENoaWxkcmVuXShjaGlsZHJlbjogYW55W10pIHtcbiAgICAgICAgICAgIGNvbnN0IHcgPSB0aGlzIGFzIHVua25vd24gYXMgV2lkZ2V0XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIChjb25maWcuZ2V0Q2hpbGRyZW4/Lih3KSB8fCBfZ2V0Q2hpbGRyZW4odykpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgR3RrLldpZGdldCkge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZC51bnBhcmVudCgpXG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hpbGRyZW4uaW5jbHVkZXMoY2hpbGQpICYmIG5vSW1wbGljaXREZXN0cm95IGluIHRoaXMpXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZC5ydW5fZGlzcG9zZSgpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY29uZmlnLnNldENoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLnNldENoaWxkcmVuKHcsIGNoaWxkcmVuKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBfc2V0Q2hpbGRyZW4odywgY2hpbGRyZW4pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSlcblxuICAgIHJldHVybiB7XG4gICAgICAgIFtjbHMubmFtZV06IChcbiAgICAgICAgICAgIHByb3BzOiBDb25zdHJ1Y3RQcm9wczxXaWRnZXQsIFByb3BzLCBTaWduYWxzPiA9IHt9LFxuICAgICAgICAgICAgLi4uY2hpbGRyZW46IGFueVtdXG4gICAgICAgICk6IFdpZGdldCA9PiB7XG4gICAgICAgICAgICBjb25zdCB3aWRnZXQgPSBuZXcgY2xzKFwiY3NzTmFtZVwiIGluIHByb3BzID8geyBjc3NOYW1lOiBwcm9wcy5jc3NOYW1lIH0gOiB7fSlcblxuICAgICAgICAgICAgaWYgKFwiY3NzTmFtZVwiIGluIHByb3BzKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHByb3BzLmNzc05hbWVcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHByb3BzLm5vSW1wbGljaXREZXN0cm95KSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih3aWRnZXQsIHsgW25vSW1wbGljaXREZXN0cm95XTogdHJ1ZSB9KVxuICAgICAgICAgICAgICAgIGRlbGV0ZSBwcm9wcy5ub0ltcGxpY2l0RGVzdHJveVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocHJvcHMudHlwZSkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24od2lkZ2V0LCB7IFt0eXBlXTogcHJvcHMudHlwZSB9KVxuICAgICAgICAgICAgICAgIGRlbGV0ZSBwcm9wcy50eXBlXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihwcm9wcywgeyBjaGlsZHJlbiB9KVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gY29uc3RydWN0KHdpZGdldCBhcyBhbnksIHNldHVwQ29udHJvbGxlcnMod2lkZ2V0LCBwcm9wcyBhcyBhbnkpKVxuICAgICAgICB9LFxuICAgIH1bY2xzLm5hbWVdXG59XG5cbnR5cGUgU2lnSGFuZGxlcjxcbiAgICBXIGV4dGVuZHMgSW5zdGFuY2VUeXBlPHR5cGVvZiBHdGsuV2lkZ2V0PixcbiAgICBBcmdzIGV4dGVuZHMgQXJyYXk8dW5rbm93bj4sXG4+ID0gKChzZWxmOiBXLCAuLi5hcmdzOiBBcmdzKSA9PiB1bmtub3duKSB8IHN0cmluZyB8IHN0cmluZ1tdXG5cbmV4cG9ydCB7IEJpbmRhYmxlUHJvcHMgfVxuZXhwb3J0IHR5cGUgQmluZGFibGVDaGlsZCA9IEd0ay5XaWRnZXQgfCBCaW5kaW5nPEd0ay5XaWRnZXQ+XG5cbmV4cG9ydCB0eXBlIENvbnN0cnVjdFByb3BzPFxuICAgIFNlbGYgZXh0ZW5kcyBJbnN0YW5jZVR5cGU8dHlwZW9mIEd0ay5XaWRnZXQ+LFxuICAgIFByb3BzIGV4dGVuZHMgR3RrLldpZGdldC5Db25zdHJ1Y3RvclByb3BzLFxuICAgIFNpZ25hbHMgZXh0ZW5kcyBSZWNvcmQ8YG9uJHtzdHJpbmd9YCwgQXJyYXk8dW5rbm93bj4+ID0gUmVjb3JkPGBvbiR7c3RyaW5nfWAsIGFueVtdPixcbj4gPSBQYXJ0aWFsPHtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGNhbid0IGFzc2lnbiB0byB1bmtub3duLCBidXQgaXQgd29ya3MgYXMgZXhwZWN0ZWQgdGhvdWdoXG4gICAgW1MgaW4ga2V5b2YgU2lnbmFsc106IFNpZ0hhbmRsZXI8U2VsZiwgU2lnbmFsc1tTXT5cbn0+ICYgUGFydGlhbDx7XG4gICAgW0tleSBpbiBgb24ke3N0cmluZ31gXTogU2lnSGFuZGxlcjxTZWxmLCBhbnlbXT5cbn0+ICYgUGFydGlhbDxCaW5kYWJsZVByb3BzPE9taXQ8UHJvcHMsIFwiY3NzTmFtZVwiIHwgXCJjc3NfbmFtZVwiPj4+ICYge1xuICAgIG5vSW1wbGljaXREZXN0cm95PzogdHJ1ZVxuICAgIHR5cGU/OiBzdHJpbmdcbiAgICBjc3NOYW1lPzogc3RyaW5nXG59ICYgRXZlbnRDb250cm9sbGVyPFNlbGY+ICYge1xuICAgIG9uRGVzdHJveT86IChzZWxmOiBTZWxmKSA9PiB1bmtub3duXG4gICAgc2V0dXA/OiAoc2VsZjogU2VsZikgPT4gdm9pZFxufVxuXG50eXBlIEV2ZW50Q29udHJvbGxlcjxTZWxmIGV4dGVuZHMgR3RrLldpZGdldD4gPSB7XG4gICAgb25Gb2N1c0VudGVyPzogKHNlbGY6IFNlbGYpID0+IHZvaWRcbiAgICBvbkZvY3VzTGVhdmU/OiAoc2VsZjogU2VsZikgPT4gdm9pZFxuXG4gICAgb25LZXlQcmVzc2VkPzogKHNlbGY6IFNlbGYsIGtleXZhbDogbnVtYmVyLCBrZXljb2RlOiBudW1iZXIsIHN0YXRlOiBHZGsuTW9kaWZpZXJUeXBlKSA9PiB2b2lkXG4gICAgb25LZXlSZWxlYXNlZD86IChzZWxmOiBTZWxmLCBrZXl2YWw6IG51bWJlciwga2V5Y29kZTogbnVtYmVyLCBzdGF0ZTogR2RrLk1vZGlmaWVyVHlwZSkgPT4gdm9pZFxuICAgIG9uS2V5TW9kaWZpZXI/OiAoc2VsZjogU2VsZiwgc3RhdGU6IEdkay5Nb2RpZmllclR5cGUpID0+IHZvaWRcblxuICAgIG9uTGVnYWN5PzogKHNlbGY6IFNlbGYsIGV2ZW50OiBHZGsuRXZlbnQpID0+IHZvaWRcbiAgICBvbkJ1dHRvblByZXNzZWQ/OiAoc2VsZjogU2VsZiwgc3RhdGU6IEdkay5CdXR0b25FdmVudCkgPT4gdm9pZFxuICAgIG9uQnV0dG9uUmVsZWFzZWQ/OiAoc2VsZjogU2VsZiwgc3RhdGU6IEdkay5CdXR0b25FdmVudCkgPT4gdm9pZFxuXG4gICAgb25Ib3ZlckVudGVyPzogKHNlbGY6IFNlbGYsIHg6IG51bWJlciwgeTogbnVtYmVyKSA9PiB2b2lkXG4gICAgb25Ib3ZlckxlYXZlPzogKHNlbGY6IFNlbGYpID0+IHZvaWRcbiAgICBvbk1vdGlvbj86IChzZWxmOiBTZWxmLCB4OiBudW1iZXIsIHk6IG51bWJlcikgPT4gdm9pZFxuXG4gICAgb25TY3JvbGw/OiAoc2VsZjogU2VsZiwgZHg6IG51bWJlciwgZHk6IG51bWJlcikgPT4gdm9pZFxuICAgIG9uU2Nyb2xsRGVjZWxlcmF0ZT86IChzZWxmOiBTZWxmLCB2ZWxfeDogbnVtYmVyLCB2ZWxfeTogbnVtYmVyKSA9PiB2b2lkXG59XG5cbmZ1bmN0aW9uIHNldHVwQ29udHJvbGxlcnM8VD4od2lkZ2V0OiBHdGsuV2lkZ2V0LCB7XG4gICAgb25Gb2N1c0VudGVyLFxuICAgIG9uRm9jdXNMZWF2ZSxcbiAgICBvbktleVByZXNzZWQsXG4gICAgb25LZXlSZWxlYXNlZCxcbiAgICBvbktleU1vZGlmaWVyLFxuICAgIG9uTGVnYWN5LFxuICAgIG9uQnV0dG9uUHJlc3NlZCxcbiAgICBvbkJ1dHRvblJlbGVhc2VkLFxuICAgIG9uSG92ZXJFbnRlcixcbiAgICBvbkhvdmVyTGVhdmUsXG4gICAgb25Nb3Rpb24sXG4gICAgb25TY3JvbGwsXG4gICAgb25TY3JvbGxEZWNlbGVyYXRlLFxuICAgIC4uLnByb3BzXG59OiBFdmVudENvbnRyb2xsZXI8R3RrLldpZGdldD4gJiBUKSB7XG4gICAgaWYgKG9uRm9jdXNFbnRlciB8fCBvbkZvY3VzTGVhdmUpIHtcbiAgICAgICAgY29uc3QgZm9jdXMgPSBuZXcgR3RrLkV2ZW50Q29udHJvbGxlckZvY3VzXG4gICAgICAgIHdpZGdldC5hZGRfY29udHJvbGxlcihmb2N1cylcblxuICAgICAgICBpZiAob25Gb2N1c0VudGVyKVxuICAgICAgICAgICAgZm9jdXMuY29ubmVjdChcImVudGVyXCIsICgpID0+IG9uRm9jdXNFbnRlcih3aWRnZXQpKVxuXG4gICAgICAgIGlmIChvbkZvY3VzTGVhdmUpXG4gICAgICAgICAgICBmb2N1cy5jb25uZWN0KFwibGVhdmVcIiwgKCkgPT4gb25Gb2N1c0xlYXZlKHdpZGdldCkpXG4gICAgfVxuXG4gICAgaWYgKG9uS2V5UHJlc3NlZCB8fCBvbktleVJlbGVhc2VkIHx8IG9uS2V5TW9kaWZpZXIpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gbmV3IEd0ay5FdmVudENvbnRyb2xsZXJLZXlcbiAgICAgICAgd2lkZ2V0LmFkZF9jb250cm9sbGVyKGtleSlcblxuICAgICAgICBpZiAob25LZXlQcmVzc2VkKVxuICAgICAgICAgICAga2V5LmNvbm5lY3QoXCJrZXktcHJlc3NlZFwiLCAoXywgdmFsLCBjb2RlLCBzdGF0ZSkgPT4gb25LZXlQcmVzc2VkKHdpZGdldCwgdmFsLCBjb2RlLCBzdGF0ZSkpXG5cbiAgICAgICAgaWYgKG9uS2V5UmVsZWFzZWQpXG4gICAgICAgICAgICBrZXkuY29ubmVjdChcImtleS1yZWxlYXNlZFwiLCAoXywgdmFsLCBjb2RlLCBzdGF0ZSkgPT4gb25LZXlSZWxlYXNlZCh3aWRnZXQsIHZhbCwgY29kZSwgc3RhdGUpKVxuXG4gICAgICAgIGlmIChvbktleU1vZGlmaWVyKVxuICAgICAgICAgICAga2V5LmNvbm5lY3QoXCJtb2RpZmllcnNcIiwgKF8sIHN0YXRlKSA9PiBvbktleU1vZGlmaWVyKHdpZGdldCwgc3RhdGUpKVxuICAgIH1cblxuICAgIGlmIChvbkxlZ2FjeSB8fCBvbkJ1dHRvblByZXNzZWQgfHwgb25CdXR0b25SZWxlYXNlZCkge1xuICAgICAgICBjb25zdCBsZWdhY3kgPSBuZXcgR3RrLkV2ZW50Q29udHJvbGxlckxlZ2FjeVxuICAgICAgICB3aWRnZXQuYWRkX2NvbnRyb2xsZXIobGVnYWN5KVxuXG4gICAgICAgIGxlZ2FjeS5jb25uZWN0KFwiZXZlbnRcIiwgKF8sIGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuZ2V0X2V2ZW50X3R5cGUoKSA9PT0gR2RrLkV2ZW50VHlwZS5CVVRUT05fUFJFU1MpIHtcbiAgICAgICAgICAgICAgICBvbkJ1dHRvblByZXNzZWQ/Lih3aWRnZXQsIGV2ZW50IGFzIEdkay5CdXR0b25FdmVudClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGV2ZW50LmdldF9ldmVudF90eXBlKCkgPT09IEdkay5FdmVudFR5cGUuQlVUVE9OX1JFTEVBU0UpIHtcbiAgICAgICAgICAgICAgICBvbkJ1dHRvblJlbGVhc2VkPy4od2lkZ2V0LCBldmVudCBhcyBHZGsuQnV0dG9uRXZlbnQpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9uTGVnYWN5Py4od2lkZ2V0LCBldmVudClcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAob25Nb3Rpb24gfHwgb25Ib3ZlckVudGVyIHx8IG9uSG92ZXJMZWF2ZSkge1xuICAgICAgICBjb25zdCBob3ZlciA9IG5ldyBHdGsuRXZlbnRDb250cm9sbGVyTW90aW9uXG4gICAgICAgIHdpZGdldC5hZGRfY29udHJvbGxlcihob3ZlcilcblxuICAgICAgICBpZiAob25Ib3ZlckVudGVyKVxuICAgICAgICAgICAgaG92ZXIuY29ubmVjdChcImVudGVyXCIsIChfLCB4LCB5KSA9PiBvbkhvdmVyRW50ZXIod2lkZ2V0LCB4LCB5KSlcblxuICAgICAgICBpZiAob25Ib3ZlckxlYXZlKVxuICAgICAgICAgICAgaG92ZXIuY29ubmVjdChcImxlYXZlXCIsICgpID0+IG9uSG92ZXJMZWF2ZSh3aWRnZXQpKVxuXG4gICAgICAgIGlmIChvbk1vdGlvbilcbiAgICAgICAgICAgIGhvdmVyLmNvbm5lY3QoXCJtb3Rpb25cIiwgKF8sIHgsIHkpID0+IG9uTW90aW9uKHdpZGdldCwgeCwgeSkpXG4gICAgfVxuXG4gICAgaWYgKG9uU2Nyb2xsIHx8IG9uU2Nyb2xsRGVjZWxlcmF0ZSkge1xuICAgICAgICBjb25zdCBzY3JvbGwgPSBuZXcgR3RrLkV2ZW50Q29udHJvbGxlclNjcm9sbFxuICAgICAgICBzY3JvbGwuZmxhZ3MgPSBHdGsuRXZlbnRDb250cm9sbGVyU2Nyb2xsRmxhZ3MuQk9USF9BWEVTIHwgR3RrLkV2ZW50Q29udHJvbGxlclNjcm9sbEZsYWdzLktJTkVUSUNcbiAgICAgICAgd2lkZ2V0LmFkZF9jb250cm9sbGVyKHNjcm9sbClcblxuICAgICAgICBpZiAob25TY3JvbGwpXG4gICAgICAgICAgICBzY3JvbGwuY29ubmVjdChcInNjcm9sbFwiLCAoXywgeCwgeSkgPT4gb25TY3JvbGwod2lkZ2V0LCB4LCB5KSlcblxuICAgICAgICBpZiAob25TY3JvbGxEZWNlbGVyYXRlKVxuICAgICAgICAgICAgc2Nyb2xsLmNvbm5lY3QoXCJkZWNlbGVyYXRlXCIsIChfLCB4LCB5KSA9PiBvblNjcm9sbERlY2VsZXJhdGUod2lkZ2V0LCB4LCB5KSlcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvcHNcbn1cbiIsICJpbXBvcnQgR0xpYiBmcm9tIFwiZ2k6Ly9HTGliP3ZlcnNpb249Mi4wXCJcbmltcG9ydCBHdGsgZnJvbSBcImdpOi8vR3RrP3ZlcnNpb249NC4wXCJcbmltcG9ydCBBc3RhbCBmcm9tIFwiZ2k6Ly9Bc3RhbD92ZXJzaW9uPTQuMFwiXG5pbXBvcnQgeyBta0FwcCB9IGZyb20gXCIuLi9fYXBwXCJcblxuR3RrLmluaXQoKVxuXG4vLyBzdG9wIHRoaXMgZnJvbSBsZWFraW5nIGludG8gc3VicHJvY2Vzc2VzXG4vLyBhbmQgZ2lvIGxhdW5jaCBpbnZvY2F0aW9uc1xuR0xpYi51bnNldGVudihcIkxEX1BSRUxPQURcIilcblxuLy8gdXNlcnMgbWlnaHQgd2FudCB0byB1c2UgQWR3YWl0YSBpbiB3aGljaCBjYXNlIGl0IGhhcyB0byBiZSBpbml0aWFsaXplZFxuLy8gaXQgbWlnaHQgYmUgY29tbW9uIHBpdGZhbGwgdG8gZm9yZ2V0IGl0IGJlY2F1c2UgYEFwcGAgaXMgbm90IGBBZHcuQXBwbGljYXRpb25gXG5hd2FpdCBpbXBvcnQoXCJnaTovL0Fkdz92ZXJzaW9uPTFcIilcbiAgICAudGhlbigoeyBkZWZhdWx0OiBBZHcgfSkgPT4gQWR3LmluaXQoKSlcbiAgICAuY2F0Y2goKCkgPT4gdm9pZCAwKVxuXG5leHBvcnQgZGVmYXVsdCBta0FwcChBc3RhbC5BcHBsaWNhdGlvbilcbiIsICIvKipcbiAqIFdvcmthcm91bmQgZm9yIFwiQ2FuJ3QgY29udmVydCBub24tbnVsbCBwb2ludGVyIHRvIEpTIHZhbHVlIFwiXG4gKi9cblxuZXhwb3J0IHsgfVxuXG5jb25zdCBzbmFrZWlmeSA9IChzdHI6IHN0cmluZykgPT4gc3RyXG4gICAgLnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pL2csIFwiJDFfJDJcIilcbiAgICAucmVwbGFjZUFsbChcIi1cIiwgXCJfXCIpXG4gICAgLnRvTG93ZXJDYXNlKClcblxuYXN5bmMgZnVuY3Rpb24gc3VwcHJlc3M8VD4obW9kOiBQcm9taXNlPHsgZGVmYXVsdDogVCB9PiwgcGF0Y2g6IChtOiBUKSA9PiB2b2lkKSB7XG4gICAgcmV0dXJuIG1vZC50aGVuKG0gPT4gcGF0Y2gobS5kZWZhdWx0KSkuY2F0Y2goKCkgPT4gdm9pZCAwKVxufVxuXG5mdW5jdGlvbiBwYXRjaDxQIGV4dGVuZHMgb2JqZWN0Pihwcm90bzogUCwgcHJvcDogRXh0cmFjdDxrZXlvZiBQLCBzdHJpbmc+KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvLCBwcm9wLCB7XG4gICAgICAgIGdldCgpIHsgcmV0dXJuIHRoaXNbYGdldF8ke3NuYWtlaWZ5KHByb3ApfWBdKCkgfSxcbiAgICB9KVxufVxuXG5hd2FpdCBzdXBwcmVzcyhpbXBvcnQoXCJnaTovL0FzdGFsQXBwc1wiKSwgKHsgQXBwcywgQXBwbGljYXRpb24gfSkgPT4ge1xuICAgIHBhdGNoKEFwcHMucHJvdG90eXBlLCBcImxpc3RcIilcbiAgICBwYXRjaChBcHBsaWNhdGlvbi5wcm90b3R5cGUsIFwia2V5d29yZHNcIilcbiAgICBwYXRjaChBcHBsaWNhdGlvbi5wcm90b3R5cGUsIFwiY2F0ZWdvcmllc1wiKVxufSlcblxuYXdhaXQgc3VwcHJlc3MoaW1wb3J0KFwiZ2k6Ly9Bc3RhbEJhdHRlcnlcIiksICh7IFVQb3dlciB9KSA9PiB7XG4gICAgcGF0Y2goVVBvd2VyLnByb3RvdHlwZSwgXCJkZXZpY2VzXCIpXG59KVxuXG5hd2FpdCBzdXBwcmVzcyhpbXBvcnQoXCJnaTovL0FzdGFsQmx1ZXRvb3RoXCIpLCAoeyBBZGFwdGVyLCBCbHVldG9vdGgsIERldmljZSB9KSA9PiB7XG4gICAgcGF0Y2goQWRhcHRlci5wcm90b3R5cGUsIFwidXVpZHNcIilcbiAgICBwYXRjaChCbHVldG9vdGgucHJvdG90eXBlLCBcImFkYXB0ZXJzXCIpXG4gICAgcGF0Y2goQmx1ZXRvb3RoLnByb3RvdHlwZSwgXCJkZXZpY2VzXCIpXG4gICAgcGF0Y2goRGV2aWNlLnByb3RvdHlwZSwgXCJ1dWlkc1wiKVxufSlcblxuYXdhaXQgc3VwcHJlc3MoaW1wb3J0KFwiZ2k6Ly9Bc3RhbENhdmFcIiksICh7IENhdmEgfSkgPT4ge1xuICAgIHBhdGNoKENhdmEucHJvdG90eXBlLCBcInZhbHVlc1wiKVxufSlcblxuYXdhaXQgc3VwcHJlc3MoaW1wb3J0KFwiZ2k6Ly9Bc3RhbEh5cHJsYW5kXCIpLCAoeyBIeXBybGFuZCwgTW9uaXRvciwgV29ya3NwYWNlIH0pID0+IHtcbiAgICBwYXRjaChIeXBybGFuZC5wcm90b3R5cGUsIFwiYmluZHNcIilcbiAgICBwYXRjaChIeXBybGFuZC5wcm90b3R5cGUsIFwibW9uaXRvcnNcIilcbiAgICBwYXRjaChIeXBybGFuZC5wcm90b3R5cGUsIFwid29ya3NwYWNlc1wiKVxuICAgIHBhdGNoKEh5cHJsYW5kLnByb3RvdHlwZSwgXCJjbGllbnRzXCIpXG4gICAgcGF0Y2goTW9uaXRvci5wcm90b3R5cGUsIFwiYXZhaWxhYmxlTW9kZXNcIilcbiAgICBwYXRjaChNb25pdG9yLnByb3RvdHlwZSwgXCJhdmFpbGFibGVfbW9kZXNcIilcbiAgICBwYXRjaChXb3Jrc3BhY2UucHJvdG90eXBlLCBcImNsaWVudHNcIilcbn0pXG5cbmF3YWl0IHN1cHByZXNzKGltcG9ydChcImdpOi8vQXN0YWxNcHJpc1wiKSwgKHsgTXByaXMsIFBsYXllciB9KSA9PiB7XG4gICAgcGF0Y2goTXByaXMucHJvdG90eXBlLCBcInBsYXllcnNcIilcbiAgICBwYXRjaChQbGF5ZXIucHJvdG90eXBlLCBcInN1cHBvcnRlZF91cmlfc2NoZW1lc1wiKVxuICAgIHBhdGNoKFBsYXllci5wcm90b3R5cGUsIFwic3VwcG9ydGVkVXJpU2NoZW1lc1wiKVxuICAgIHBhdGNoKFBsYXllci5wcm90b3R5cGUsIFwic3VwcG9ydGVkX21pbWVfdHlwZXNcIilcbiAgICBwYXRjaChQbGF5ZXIucHJvdG90eXBlLCBcInN1cHBvcnRlZE1pbWVUeXBlc1wiKVxuICAgIHBhdGNoKFBsYXllci5wcm90b3R5cGUsIFwiY29tbWVudHNcIilcbn0pXG5cbmF3YWl0IHN1cHByZXNzKGltcG9ydChcImdpOi8vQXN0YWxOZXR3b3JrXCIpLCAoeyBXaWZpIH0pID0+IHtcbiAgICBwYXRjaChXaWZpLnByb3RvdHlwZSwgXCJhY2Nlc3NfcG9pbnRzXCIpXG4gICAgcGF0Y2goV2lmaS5wcm90b3R5cGUsIFwiYWNjZXNzUG9pbnRzXCIpXG59KVxuXG5hd2FpdCBzdXBwcmVzcyhpbXBvcnQoXCJnaTovL0FzdGFsTm90aWZkXCIpLCAoeyBOb3RpZmQsIE5vdGlmaWNhdGlvbiB9KSA9PiB7XG4gICAgcGF0Y2goTm90aWZkLnByb3RvdHlwZSwgXCJub3RpZmljYXRpb25zXCIpXG4gICAgcGF0Y2goTm90aWZpY2F0aW9uLnByb3RvdHlwZSwgXCJhY3Rpb25zXCIpXG59KVxuXG5hd2FpdCBzdXBwcmVzcyhpbXBvcnQoXCJnaTovL0FzdGFsUG93ZXJQcm9maWxlc1wiKSwgKHsgUG93ZXJQcm9maWxlcyB9KSA9PiB7XG4gICAgcGF0Y2goUG93ZXJQcm9maWxlcy5wcm90b3R5cGUsIFwiYWN0aW9uc1wiKVxufSlcblxuYXdhaXQgc3VwcHJlc3MoaW1wb3J0KFwiZ2k6Ly9Bc3RhbFJpdmVyXCIpLCAoeyBSaXZlciB9KSA9PiB7XG4gIHBhdGNoKFJpdmVyLnByb3RvdHlwZSwgXCJvdXRwdXRzXCIpXG59KVxuXG5hd2FpdCBzdXBwcmVzcyhpbXBvcnQoXCJnaTovL0FzdGFsVHJheVwiKSwgKHsgVHJheSB9KSA9PiB7XG4gIHBhdGNoKFRyYXkucHJvdG90eXBlLCBcIml0ZW1zXCIpXG59KVxuXG5hd2FpdCBzdXBwcmVzcyhpbXBvcnQoXCJnaTovL0FzdGFsV3BcIiksICh7IFdwLCBBdWRpbywgVmlkZW8sIE5vZGUsIEVuZHBvaW50LCBEZXZpY2UgfSkgPT4ge1xuICAgIHBhdGNoKFdwLnByb3RvdHlwZSwgXCJub2Rlc1wiKVxuICAgIHBhdGNoKFdwLnByb3RvdHlwZSwgXCJkZXZpY2VzXCIpXG4gICAgcGF0Y2goQXVkaW8ucHJvdG90eXBlLCBcInN0cmVhbXNcIilcbiAgICBwYXRjaChBdWRpby5wcm90b3R5cGUsIFwicmVjb3JkZXJzXCIpXG4gICAgcGF0Y2goQXVkaW8ucHJvdG90eXBlLCBcIm1pY3JvcGhvbmVzXCIpXG4gICAgcGF0Y2goQXVkaW8ucHJvdG90eXBlLCBcInNwZWFrZXJzXCIpXG4gICAgcGF0Y2goQXVkaW8ucHJvdG90eXBlLCBcImRldmljZXNcIilcbiAgICBwYXRjaChWaWRlby5wcm90b3R5cGUsIFwic3RyZWFtc1wiKVxuICAgIHBhdGNoKFZpZGVvLnByb3RvdHlwZSwgXCJyZWNvcmRlcnNcIilcbiAgICBwYXRjaChWaWRlby5wcm90b3R5cGUsIFwic2lua3NcIilcbiAgICBwYXRjaChWaWRlby5wcm90b3R5cGUsIFwic291cmNlc1wiKVxuICAgIHBhdGNoKFZpZGVvLnByb3RvdHlwZSwgXCJkZXZpY2VzXCIpXG4gICAgcGF0Y2goRW5kcG9pbnQucHJvdG90eXBlLCBcInJvdXRlc1wiKVxuICAgIHBhdGNoKE5vZGUucHJvdG90eXBlLCBcImNoYW5uZWxzXCIpXG4gICAgcGF0Y2goRGV2aWNlLnByb3RvdHlwZSwgXCJwcm9maWxlc1wiKVxuICAgIHBhdGNoKERldmljZS5wcm90b3R5cGUsIFwicm91dGVzXCIpXG4gICAgcGF0Y2goRGV2aWNlLnByb3RvdHlwZSwgXCJpbnB1dF9yb3V0ZXNcIilcbiAgICBwYXRjaChEZXZpY2UucHJvdG90eXBlLCBcImlucHV0Um91dGVzXCIpXG4gICAgcGF0Y2goRGV2aWNlLnByb3RvdHlwZSwgXCJvdXRwdXRfcm91dGVzXCIpXG4gICAgcGF0Y2goRGV2aWNlLnByb3RvdHlwZSwgXCJvdXRwdXRSb3V0ZXNcIilcbn0pXG4iLCAiaW1wb3J0IFwiLi9vdmVycmlkZXMuanNcIlxuaW1wb3J0IHsgc2V0Q29uc29sZUxvZ0RvbWFpbiB9IGZyb20gXCJjb25zb2xlXCJcbmltcG9ydCB7IGV4aXQsIHByb2dyYW1BcmdzIH0gZnJvbSBcInN5c3RlbVwiXG5pbXBvcnQgSU8gZnJvbSBcImdpOi8vQXN0YWxJT1wiXG5pbXBvcnQgR09iamVjdCBmcm9tIFwiZ2k6Ly9HT2JqZWN0XCJcbmltcG9ydCBHaW8gZnJvbSBcImdpOi8vR2lvP3ZlcnNpb249Mi4wXCJcbmltcG9ydCB0eXBlIEFzdGFsMyBmcm9tIFwiZ2k6Ly9Bc3RhbD92ZXJzaW9uPTMuMFwiXG5pbXBvcnQgdHlwZSBBc3RhbDQgZnJvbSBcImdpOi8vQXN0YWw/dmVyc2lvbj00LjBcIlxuXG50eXBlIENvbmZpZyA9IFBhcnRpYWw8e1xuICAgIGluc3RhbmNlTmFtZTogc3RyaW5nXG4gICAgY3NzOiBzdHJpbmdcbiAgICBpY29uczogc3RyaW5nXG4gICAgZ3RrVGhlbWU6IHN0cmluZ1xuICAgIGljb25UaGVtZTogc3RyaW5nXG4gICAgY3Vyc29yVGhlbWU6IHN0cmluZ1xuICAgIGhvbGQ6IGJvb2xlYW5cbiAgICByZXF1ZXN0SGFuZGxlcihyZXF1ZXN0OiBzdHJpbmcsIHJlczogKHJlc3BvbnNlOiBhbnkpID0+IHZvaWQpOiB2b2lkXG4gICAgbWFpbiguLi5hcmdzOiBzdHJpbmdbXSk6IHZvaWRcbiAgICBjbGllbnQobWVzc2FnZTogKG1zZzogc3RyaW5nKSA9PiBzdHJpbmcsIC4uLmFyZ3M6IHN0cmluZ1tdKTogdm9pZFxufT5cblxuaW50ZXJmYWNlIEFzdGFsM0pTIGV4dGVuZHMgQXN0YWwzLkFwcGxpY2F0aW9uIHtcbiAgICBldmFsKGJvZHk6IHN0cmluZyk6IFByb21pc2U8YW55PlxuICAgIHJlcXVlc3RIYW5kbGVyOiBDb25maWdbXCJyZXF1ZXN0SGFuZGxlclwiXVxuICAgIGFwcGx5X2NzcyhzdHlsZTogc3RyaW5nLCByZXNldD86IGJvb2xlYW4pOiB2b2lkXG4gICAgcXVpdChjb2RlPzogbnVtYmVyKTogdm9pZFxuICAgIHN0YXJ0KGNvbmZpZz86IENvbmZpZyk6IHZvaWRcbn1cblxuaW50ZXJmYWNlIEFzdGFsNEpTIGV4dGVuZHMgQXN0YWw0LkFwcGxpY2F0aW9uIHtcbiAgICBldmFsKGJvZHk6IHN0cmluZyk6IFByb21pc2U8YW55PlxuICAgIHJlcXVlc3RIYW5kbGVyPzogQ29uZmlnW1wicmVxdWVzdEhhbmRsZXJcIl1cbiAgICBhcHBseV9jc3Moc3R5bGU6IHN0cmluZywgcmVzZXQ/OiBib29sZWFuKTogdm9pZFxuICAgIHF1aXQoY29kZT86IG51bWJlcik6IHZvaWRcbiAgICBzdGFydChjb25maWc/OiBDb25maWcpOiB2b2lkXG59XG5cbnR5cGUgQXBwMyA9IHR5cGVvZiBBc3RhbDMuQXBwbGljYXRpb25cbnR5cGUgQXBwNCA9IHR5cGVvZiBBc3RhbDQuQXBwbGljYXRpb25cblxuZXhwb3J0IGZ1bmN0aW9uIG1rQXBwPEFwcCBleHRlbmRzIEFwcDM+KEFwcDogQXBwKTogQXN0YWwzSlNcbmV4cG9ydCBmdW5jdGlvbiBta0FwcDxBcHAgZXh0ZW5kcyBBcHA0PihBcHA6IEFwcCk6IEFzdGFsNEpTXG5cbmV4cG9ydCBmdW5jdGlvbiBta0FwcChBcHA6IEFwcDMgfCBBcHA0KSB7XG4gICAgcmV0dXJuIG5ldyAoY2xhc3MgQXN0YWxKUyBleHRlbmRzIEFwcCB7XG4gICAgICAgIHN0YXRpYyB7IEdPYmplY3QucmVnaXN0ZXJDbGFzcyh7IEdUeXBlTmFtZTogXCJBc3RhbEpTXCIgfSwgdGhpcyBhcyBhbnkpIH1cblxuICAgICAgICBldmFsKGJvZHk6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm4gPSBGdW5jdGlvbihgcmV0dXJuIChhc3luYyBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICR7Ym9keS5pbmNsdWRlcyhcIjtcIikgPyBib2R5IDogYHJldHVybiAke2JvZHl9O2B9XG4gICAgICAgICAgICAgICAgICAgIH0pYClcbiAgICAgICAgICAgICAgICAgICAgZm4oKSgpLnRoZW4ocmVzKS5jYXRjaChyZWopXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqKGVycm9yKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICByZXF1ZXN0SGFuZGxlcj86IENvbmZpZ1tcInJlcXVlc3RIYW5kbGVyXCJdXG5cbiAgICAgICAgdmZ1bmNfcmVxdWVzdChtc2c6IHN0cmluZywgY29ubjogR2lvLlNvY2tldENvbm5lY3Rpb24pOiB2b2lkIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5yZXF1ZXN0SGFuZGxlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0SGFuZGxlcihtc2csIChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBJTy53cml0ZV9zb2NrKGNvbm4sIFN0cmluZyhyZXNwb25zZSksIChfLCByZXMpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBJTy53cml0ZV9zb2NrX2ZpbmlzaChyZXMpLFxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3VwZXIudmZ1bmNfcmVxdWVzdChtc2csIGNvbm4pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBhcHBseV9jc3Moc3R5bGU6IHN0cmluZywgcmVzZXQgPSBmYWxzZSkge1xuICAgICAgICAgICAgc3VwZXIuYXBwbHlfY3NzKHN0eWxlLCByZXNldClcbiAgICAgICAgfVxuXG4gICAgICAgIHF1aXQoY29kZT86IG51bWJlcik6IHZvaWQge1xuICAgICAgICAgICAgc3VwZXIucXVpdCgpXG4gICAgICAgICAgICBleGl0KGNvZGUgPz8gMClcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXJ0KHsgcmVxdWVzdEhhbmRsZXIsIGNzcywgaG9sZCwgbWFpbiwgY2xpZW50LCBpY29ucywgLi4uY2ZnIH06IENvbmZpZyA9IHt9KSB7XG4gICAgICAgICAgICBjb25zdCBhcHAgPSB0aGlzIGFzIHVua25vd24gYXMgSW5zdGFuY2VUeXBlPEFwcDMgfCBBcHA0PlxuXG4gICAgICAgICAgICBjbGllbnQgPz89ICgpID0+IHtcbiAgICAgICAgICAgICAgICBwcmludChgQXN0YWwgaW5zdGFuY2UgXCIke2FwcC5pbnN0YW5jZU5hbWV9XCIgYWxyZWFkeSBydW5uaW5nYClcbiAgICAgICAgICAgICAgICBleGl0KDEpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgY2ZnKVxuICAgICAgICAgICAgc2V0Q29uc29sZUxvZ0RvbWFpbihhcHAuaW5zdGFuY2VOYW1lKVxuXG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RIYW5kbGVyID0gcmVxdWVzdEhhbmRsZXJcbiAgICAgICAgICAgIGFwcC5jb25uZWN0KFwiYWN0aXZhdGVcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIG1haW4/LiguLi5wcm9ncmFtQXJncylcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXBwLmFjcXVpcmVfc29ja2V0KClcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNsaWVudChtc2cgPT4gSU8uc2VuZF9yZXF1ZXN0KGFwcC5pbnN0YW5jZU5hbWUsIG1zZykhLCAuLi5wcm9ncmFtQXJncylcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNzcylcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5X2Nzcyhjc3MsIGZhbHNlKVxuXG4gICAgICAgICAgICBpZiAoaWNvbnMpXG4gICAgICAgICAgICAgICAgYXBwLmFkZF9pY29ucyhpY29ucylcblxuICAgICAgICAgICAgaG9sZCA/Pz0gdHJ1ZVxuICAgICAgICAgICAgaWYgKGhvbGQpXG4gICAgICAgICAgICAgICAgYXBwLmhvbGQoKVxuXG4gICAgICAgICAgICBhcHAucnVuQXN5bmMoW10pXG4gICAgICAgIH1cbiAgICB9KVxufVxuIiwgImltcG9ydCBBc3RhbCBmcm9tIFwiZ2k6Ly9Bc3RhbD92ZXJzaW9uPTQuMFwiXG5pbXBvcnQgR3RrIGZyb20gXCJnaTovL0d0az92ZXJzaW9uPTQuMFwiXG5pbXBvcnQgYXN0YWxpZnksIHsgdHlwZSwgdHlwZSBDb25zdHJ1Y3RQcm9wcyB9IGZyb20gXCIuL2FzdGFsaWZ5LmpzXCJcblxuZnVuY3Rpb24gZmlsdGVyKGNoaWxkcmVuOiBhbnlbXSkge1xuICAgIHJldHVybiBjaGlsZHJlbi5mbGF0KEluZmluaXR5KS5tYXAoY2ggPT4gY2ggaW5zdGFuY2VvZiBHdGsuV2lkZ2V0XG4gICAgICAgID8gY2hcbiAgICAgICAgOiBuZXcgR3RrLkxhYmVsKHsgdmlzaWJsZTogdHJ1ZSwgbGFiZWw6IFN0cmluZyhjaCkgfSkpXG59XG5cbi8vIEJveFxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEFzdGFsLkJveC5wcm90b3R5cGUsIFwiY2hpbGRyZW5cIiwge1xuICAgIGdldCgpIHsgcmV0dXJuIHRoaXMuZ2V0X2NoaWxkcmVuKCkgfSxcbiAgICBzZXQodikgeyB0aGlzLnNldF9jaGlsZHJlbih2KSB9LFxufSlcblxuZXhwb3J0IHR5cGUgQm94UHJvcHMgPSBDb25zdHJ1Y3RQcm9wczxBc3RhbC5Cb3gsIEFzdGFsLkJveC5Db25zdHJ1Y3RvclByb3BzPlxuZXhwb3J0IGNvbnN0IEJveCA9IGFzdGFsaWZ5PEFzdGFsLkJveCwgQXN0YWwuQm94LkNvbnN0cnVjdG9yUHJvcHM+KEFzdGFsLkJveCwge1xuICAgIGdldENoaWxkcmVuKHNlbGYpIHsgcmV0dXJuIHNlbGYuZ2V0X2NoaWxkcmVuKCkgfSxcbiAgICBzZXRDaGlsZHJlbihzZWxmLCBjaGlsZHJlbikgeyByZXR1cm4gc2VsZi5zZXRfY2hpbGRyZW4oZmlsdGVyKGNoaWxkcmVuKSkgfSxcbn0pXG5cbi8vIEJ1dHRvblxudHlwZSBCdXR0b25TaWduYWxzID0ge1xuICAgIG9uQ2xpY2tlZDogW11cbn1cblxuZXhwb3J0IHR5cGUgQnV0dG9uUHJvcHMgPSBDb25zdHJ1Y3RQcm9wczxHdGsuQnV0dG9uLCBHdGsuQnV0dG9uLkNvbnN0cnVjdG9yUHJvcHMsIEJ1dHRvblNpZ25hbHM+XG5leHBvcnQgY29uc3QgQnV0dG9uID0gYXN0YWxpZnk8R3RrLkJ1dHRvbiwgR3RrLkJ1dHRvbi5Db25zdHJ1Y3RvclByb3BzLCBCdXR0b25TaWduYWxzPihHdGsuQnV0dG9uKVxuXG4vLyBDZW50ZXJCb3hcbmV4cG9ydCB0eXBlIENlbnRlckJveFByb3BzID0gQ29uc3RydWN0UHJvcHM8R3RrLkNlbnRlckJveCwgR3RrLkNlbnRlckJveC5Db25zdHJ1Y3RvclByb3BzPlxuZXhwb3J0IGNvbnN0IENlbnRlckJveCA9IGFzdGFsaWZ5PEd0ay5DZW50ZXJCb3gsIEd0ay5DZW50ZXJCb3guQ29uc3RydWN0b3JQcm9wcz4oR3RrLkNlbnRlckJveCwge1xuICAgIGdldENoaWxkcmVuKGJveCkge1xuICAgICAgICByZXR1cm4gW2JveC5zdGFydFdpZGdldCwgYm94LmNlbnRlcldpZGdldCwgYm94LmVuZFdpZGdldF1cbiAgICB9LFxuICAgIHNldENoaWxkcmVuKGJveCwgY2hpbGRyZW4pIHtcbiAgICAgICAgY29uc3QgY2ggPSBmaWx0ZXIoY2hpbGRyZW4pXG4gICAgICAgIGJveC5zdGFydFdpZGdldCA9IGNoWzBdIHx8IG5ldyBHdGsuQm94XG4gICAgICAgIGJveC5jZW50ZXJXaWRnZXQgPSBjaFsxXSB8fCBuZXcgR3RrLkJveFxuICAgICAgICBib3guZW5kV2lkZ2V0ID0gY2hbMl0gfHwgbmV3IEd0ay5Cb3hcbiAgICB9LFxufSlcblxuLy8gVE9ETzogQ2lyY3VsYXJQcm9ncmVzc1xuLy8gVE9ETzogRHJhd2luZ0FyZWFcblxuLy8gRW50cnlcbnR5cGUgRW50cnlTaWduYWxzID0ge1xuICAgIG9uQWN0aXZhdGU6IFtdXG4gICAgb25Ob3RpZnlUZXh0OiBbXVxufVxuXG5leHBvcnQgdHlwZSBFbnRyeVByb3BzID0gQ29uc3RydWN0UHJvcHM8R3RrLkVudHJ5LCBHdGsuRW50cnkuQ29uc3RydWN0b3JQcm9wcywgRW50cnlTaWduYWxzPlxuZXhwb3J0IGNvbnN0IEVudHJ5ID0gYXN0YWxpZnk8R3RrLkVudHJ5LCBHdGsuRW50cnkuQ29uc3RydWN0b3JQcm9wcywgRW50cnlTaWduYWxzPihHdGsuRW50cnksIHtcbiAgICBnZXRDaGlsZHJlbigpIHsgcmV0dXJuIFtdIH0sXG59KVxuXG4vLyBJbWFnZVxuZXhwb3J0IHR5cGUgSW1hZ2VQcm9wcyA9IENvbnN0cnVjdFByb3BzPEd0ay5JbWFnZSwgR3RrLkltYWdlLkNvbnN0cnVjdG9yUHJvcHM+XG5leHBvcnQgY29uc3QgSW1hZ2UgPSBhc3RhbGlmeTxHdGsuSW1hZ2UsIEd0ay5JbWFnZS5Db25zdHJ1Y3RvclByb3BzPihHdGsuSW1hZ2UsIHtcbiAgICBnZXRDaGlsZHJlbigpIHsgcmV0dXJuIFtdIH0sXG59KVxuXG4vLyBMYWJlbFxuZXhwb3J0IHR5cGUgTGFiZWxQcm9wcyA9IENvbnN0cnVjdFByb3BzPEd0ay5MYWJlbCwgR3RrLkxhYmVsLkNvbnN0cnVjdG9yUHJvcHM+XG5leHBvcnQgY29uc3QgTGFiZWwgPSBhc3RhbGlmeTxHdGsuTGFiZWwsIEd0ay5MYWJlbC5Db25zdHJ1Y3RvclByb3BzPihHdGsuTGFiZWwsIHtcbiAgICBnZXRDaGlsZHJlbigpIHsgcmV0dXJuIFtdIH0sXG4gICAgc2V0Q2hpbGRyZW4oc2VsZiwgY2hpbGRyZW4pIHsgc2VsZi5sYWJlbCA9IFN0cmluZyhjaGlsZHJlbikgfSxcbn0pXG5cbi8vIExldmVsQmFyXG5leHBvcnQgdHlwZSBMZXZlbEJhclByb3BzID0gQ29uc3RydWN0UHJvcHM8R3RrLkxldmVsQmFyLCBHdGsuTGV2ZWxCYXIuQ29uc3RydWN0b3JQcm9wcz5cbmV4cG9ydCBjb25zdCBMZXZlbEJhciA9IGFzdGFsaWZ5PEd0ay5MZXZlbEJhciwgR3RrLkxldmVsQmFyLkNvbnN0cnVjdG9yUHJvcHM+KEd0ay5MZXZlbEJhciwge1xuICAgIGdldENoaWxkcmVuKCkgeyByZXR1cm4gW10gfSxcbn0pXG5cbi8vIFRPRE86IExpc3RCb3hcblxuLy8gT3ZlcmxheVxuZXhwb3J0IHR5cGUgT3ZlcmxheVByb3BzID0gQ29uc3RydWN0UHJvcHM8R3RrLk92ZXJsYXksIEd0ay5PdmVybGF5LkNvbnN0cnVjdG9yUHJvcHM+XG5leHBvcnQgY29uc3QgT3ZlcmxheSA9IGFzdGFsaWZ5PEd0ay5PdmVybGF5LCBHdGsuT3ZlcmxheS5Db25zdHJ1Y3RvclByb3BzPihHdGsuT3ZlcmxheSwge1xuICAgIGdldENoaWxkcmVuKHNlbGYpIHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW46IEFycmF5PEd0ay5XaWRnZXQ+ID0gW11cbiAgICAgICAgbGV0IGNoID0gc2VsZi5nZXRfZmlyc3RfY2hpbGQoKVxuICAgICAgICB3aGlsZSAoY2ggIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goY2gpXG4gICAgICAgICAgICBjaCA9IGNoLmdldF9uZXh0X3NpYmxpbmcoKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuLmZpbHRlcihjaCA9PiBjaCAhPT0gc2VsZi5jaGlsZClcbiAgICB9LFxuICAgIHNldENoaWxkcmVuKHNlbGYsIGNoaWxkcmVuKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgZmlsdGVyKGNoaWxkcmVuKSkge1xuICAgICAgICAgICAgY29uc3QgdHlwZXMgPSB0eXBlIGluIGNoaWxkXG4gICAgICAgICAgICAgICAgPyAoY2hpbGRbdHlwZV0gYXMgc3RyaW5nKS5zcGxpdCgvXFxzKy8pXG4gICAgICAgICAgICAgICAgOiBbXVxuXG4gICAgICAgICAgICBpZiAodHlwZXMuaW5jbHVkZXMoXCJvdmVybGF5XCIpKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5hZGRfb3ZlcmxheShjaGlsZClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VsZi5zZXRfY2hpbGQoY2hpbGQpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNlbGYuc2V0X21lYXN1cmVfb3ZlcmxheShjaGlsZCwgdHlwZXMuaW5jbHVkZXMoXCJtZWFzdXJlXCIpKVxuICAgICAgICAgICAgc2VsZi5zZXRfY2xpcF9vdmVybGF5KGNoaWxkLCB0eXBlcy5pbmNsdWRlcyhcImNsaXBcIikpXG4gICAgICAgIH1cbiAgICB9LFxufSlcblxuLy8gUmV2ZWFsZXJcbmV4cG9ydCB0eXBlIFJldmVhbGVyUHJvcHMgPSBDb25zdHJ1Y3RQcm9wczxHdGsuUmV2ZWFsZXIsIEd0ay5SZXZlYWxlci5Db25zdHJ1Y3RvclByb3BzPlxuZXhwb3J0IGNvbnN0IFJldmVhbGVyID0gYXN0YWxpZnk8R3RrLlJldmVhbGVyLCBHdGsuUmV2ZWFsZXIuQ29uc3RydWN0b3JQcm9wcz4oR3RrLlJldmVhbGVyKVxuXG4vLyBTbGlkZXJcbnR5cGUgU2xpZGVyU2lnbmFscyA9IHtcbiAgICBvbkNoYW5nZVZhbHVlOiBbXVxufVxuXG5leHBvcnQgdHlwZSBTbGlkZXJQcm9wcyA9IENvbnN0cnVjdFByb3BzPEFzdGFsLlNsaWRlciwgQXN0YWwuU2xpZGVyLkNvbnN0cnVjdG9yUHJvcHMsIFNsaWRlclNpZ25hbHM+XG5leHBvcnQgY29uc3QgU2xpZGVyID0gYXN0YWxpZnk8QXN0YWwuU2xpZGVyLCBBc3RhbC5TbGlkZXIuQ29uc3RydWN0b3JQcm9wcywgU2xpZGVyU2lnbmFscz4oQXN0YWwuU2xpZGVyLCB7XG4gICAgZ2V0Q2hpbGRyZW4oKSB7IHJldHVybiBbXSB9LFxufSlcblxuLy8gU3RhY2tcbmV4cG9ydCB0eXBlIFN0YWNrUHJvcHMgPSBDb25zdHJ1Y3RQcm9wczxHdGsuU3RhY2ssIEd0ay5TdGFjay5Db25zdHJ1Y3RvclByb3BzPlxuZXhwb3J0IGNvbnN0IFN0YWNrID0gYXN0YWxpZnk8R3RrLlN0YWNrLCBHdGsuU3RhY2suQ29uc3RydWN0b3JQcm9wcz4oR3RrLlN0YWNrLCB7XG4gICAgc2V0Q2hpbGRyZW4oc2VsZiwgY2hpbGRyZW4pIHtcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBmaWx0ZXIoY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGQubmFtZSAhPSBcIlwiICYmIGNoaWxkLm5hbWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHNlbGYuYWRkX25hbWVkKGNoaWxkLCBjaGlsZC5uYW1lKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWxmLmFkZF9jaGlsZChjaGlsZClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG59KVxuXG4vLyBTd2l0Y2hcbmV4cG9ydCB0eXBlIFN3aXRjaFByb3BzID0gQ29uc3RydWN0UHJvcHM8R3RrLlN3aXRjaCwgR3RrLlN3aXRjaC5Db25zdHJ1Y3RvclByb3BzPlxuZXhwb3J0IGNvbnN0IFN3aXRjaCA9IGFzdGFsaWZ5PEd0ay5Td2l0Y2gsIEd0ay5Td2l0Y2guQ29uc3RydWN0b3JQcm9wcz4oR3RrLlN3aXRjaCwge1xuICAgIGdldENoaWxkcmVuKCkgeyByZXR1cm4gW10gfSxcbn0pXG5cbi8vIFdpbmRvd1xuZXhwb3J0IHR5cGUgV2luZG93UHJvcHMgPSBDb25zdHJ1Y3RQcm9wczxBc3RhbC5XaW5kb3csIEFzdGFsLldpbmRvdy5Db25zdHJ1Y3RvclByb3BzPlxuZXhwb3J0IGNvbnN0IFdpbmRvdyA9IGFzdGFsaWZ5PEFzdGFsLldpbmRvdywgQXN0YWwuV2luZG93LkNvbnN0cnVjdG9yUHJvcHM+KEFzdGFsLldpbmRvdylcblxuLy8gTWVudUJ1dHRvblxuZXhwb3J0IHR5cGUgTWVudUJ1dHRvblByb3BzID0gQ29uc3RydWN0UHJvcHM8R3RrLk1lbnVCdXR0b24sIEd0ay5NZW51QnV0dG9uLkNvbnN0cnVjdG9yUHJvcHM+XG5leHBvcnQgY29uc3QgTWVudUJ1dHRvbiA9IGFzdGFsaWZ5PEd0ay5NZW51QnV0dG9uLCBHdGsuTWVudUJ1dHRvbi5Db25zdHJ1Y3RvclByb3BzPihHdGsuTWVudUJ1dHRvbiwge1xuICAgIGdldENoaWxkcmVuKHNlbGYpIHsgcmV0dXJuIFtzZWxmLnBvcG92ZXIsIHNlbGYuY2hpbGRdIH0sXG4gICAgc2V0Q2hpbGRyZW4oc2VsZiwgY2hpbGRyZW4pIHtcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBmaWx0ZXIoY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBHdGsuUG9wb3Zlcikge1xuICAgICAgICAgICAgICAgIHNlbGYuc2V0X3BvcG92ZXIoY2hpbGQpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlbGYuc2V0X2NoaWxkKGNoaWxkKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbn0pXG5cbi8vIFBvcG9wZXJcbmV4cG9ydCB0eXBlIFBvcG92ZXJQcm9wcyA9IENvbnN0cnVjdFByb3BzPEd0ay5Qb3BvdmVyLCBHdGsuUG9wb3Zlci5Db25zdHJ1Y3RvclByb3BzPlxuZXhwb3J0IGNvbnN0IFBvcG92ZXIgPSBhc3RhbGlmeTxHdGsuUG9wb3ZlciwgR3RrLlBvcG92ZXIuQ29uc3RydWN0b3JQcm9wcz4oR3RrLlBvcG92ZXIpXG4iLCAid2luZG93IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIGNvbG9yOiAjM2MzODM2O1xuICBmb250LWZhbWlseTogXCJKZXRCcmFpbnNNb25vIE5lcmQgRm9udFwiLCBzYW5zLXNlcmlmO1xuICBmb250LXNpemU6IDE0cHg7XG59XG5cbmJ1dHRvbiB7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICBjb2xvcjogIzNjMzgzNjtcbiAgcGFkZGluZzogMDtcbiAgYm9yZGVyOiBub25lO1xuICBib3JkZXItcmFkaXVzOiAwO1xufVxuXG5sYWJlbCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xufVxuXG5ib3gge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbn1cblxuLkljb24ge1xuICBmb250LWZhbWlseTogXCJKZXRCcmFpbnNNb25vIE5lcmQgRm9udCBNb25vXCIsIG1vbm9zcGFjZTtcbn1cblxuLkRlYnVnIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xuICBjb2xvcjogZ3JlZW47XG59XG5cbmJ1dHRvbjpob3ZlciB7XG4gIGNvbG9yOiAjN2U3NzcwO1xufVxuXG5idXR0b24uRGVidWcge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XG4gIGNvbG9yOiBncmVlbjtcbn1cblxuYnV0dG9uLlBhZGRpbmcge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgY29sb3I6ICM3ZTc3NzA7XG59XG5cbndpbmRvdy5CYXIge1xuICBwYWRkaW5nOiAwLjVyZW0gMXJlbSAwLjZyZW0gMC42cmVtO1xufVxud2luZG93LkJhciBib3guQmFyQ2VudGVyYm94IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZiZjFjNztcbiAgY29sb3I6ICMzYzM4MzY7XG4gIGJvcmRlci1yYWRpdXM6IDAuNXJlbTtcbiAgYm94LXNoYWRvdzogNXB4IDVweCAwIDAgIzNjMzgzNjtcbn1cbndpbmRvdy5CYXIgYm94LkJhckNlbnRlcmJveCBib3guQmFyU2VjdGlvbiB7XG4gIHBhZGRpbmc6IDAgMC40cmVtO1xufVxud2luZG93LkJhciBib3guQmFyQ2VudGVyYm94IHNlcGFyYXRvciB7XG4gIG1hcmdpbjogMC41cmVtIDAuNXJlbTtcbiAgbWluLXdpZHRoOiAwLjJyZW07XG4gIGJhY2tncm91bmQtY29sb3I6ICNFN0RGQkU7XG4gIGJvcmRlci1yYWRpdXM6IDFyZW07XG59XG53aW5kb3cuQmFyIGJveC5CYXJDZW50ZXJib3ggYm94LkxhdW5jaGVyIGJ1dHRvbi5MYXVuY2hlckJ1dHRvbiB7XG4gIGZvbnQtc2l6ZTogMjhweDtcbiAgcGFkZGluZy1sZWZ0OiAwLjJyZW07XG4gIHBhZGRpbmctcmlnaHQ6IDAuMnJlbTtcbn1cbndpbmRvdy5CYXIgYm94LkJhckNlbnRlcmJveCBib3guTWVkaWEgYm94Lk1lZGlhUGxheWJhY2sge1xuICBtYXJnaW46IDAgMC40cmVtIDAgMDtcbn1cbndpbmRvdy5CYXIgYm94LkJhckNlbnRlcmJveCBib3guTWVkaWEgYm94Lk1lZGlhUGxheWJhY2sgYnV0dG9uLk1lZGlhUGxheWJhY2tCdXR0b24ge1xuICBmb250LXNpemU6IDIycHg7XG4gIHBhZGRpbmc6IDAgMC4zcmVtO1xufVxud2luZG93LkJhciBib3guQmFyQ2VudGVyYm94IGJveC5NZWRpYSBib3guTWVkaWFQbGF5YmFjayBidXR0b24uTWVkaWFQbGF5YmFja0J1dHRvbi5EaXNhYmxlZCB7XG4gIGNvbG9yOiAjN2U3NzcwO1xufVxud2luZG93LkJhciBib3guQmFyQ2VudGVyYm94IGJveC5NZWRpYSBpbWFnZS5NZWRpYUltYWdlQ292ZXJBcnQge1xuICBtYXJnaW46IDAgMC41cmVtIDAgMDtcbn1cbndpbmRvdy5CYXIgYm94LkJhckNlbnRlcmJveCBib3guTWVkaWEgbGFiZWwuTWVkaWFUaXRsZUJ1dHRvbkxhYmVsIHtcbiAgZm9udC1zaXplOiBzbWFsbDtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbn1cbndpbmRvdy5CYXIgYm94LkJhckNlbnRlcmJveCBib3guV29ya3NwYWNlcyBidXR0b24uV29ya3NwYWNlQnV0dG9uIHtcbiAgY29sb3I6ICNBNTlFODY7XG59XG53aW5kb3cuQmFyIGJveC5CYXJDZW50ZXJib3ggYm94LldvcmtzcGFjZXMgYnV0dG9uLldvcmtzcGFjZUJ1dHRvbi5BY3RpdmUge1xuICBjb2xvcjogIzNjMzgzNjtcbn1cbndpbmRvdy5CYXIgYm94LkJhckNlbnRlcmJveCBib3guV29ya3NwYWNlcyBidXR0b24uV29ya3NwYWNlQnV0dG9uLkFjdGl2ZSA+IGxhYmVsIHtcbiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG59XG53aW5kb3cuQmFyIGJveC5CYXJDZW50ZXJib3ggYm94LldvcmtzcGFjZXMgYnV0dG9uLldvcmtzcGFjZUJ1dHRvbi5IYXNDbGllbnQge1xuICBjb2xvcjogIzNjMzgzNjtcbn1cbndpbmRvdy5CYXIgYm94LkJhckNlbnRlcmJveCBib3guRm9jdXNlZENsaWVudCBsYWJlbC5Gb2N1c2VkQ2xpZW50TGFiZWwge1xuICBmb250LXNpemU6IHNtYWxsO1xuICBmb250LXdlaWdodDogNTAwO1xufVxud2luZG93LkJhciBib3guQmFyQ2VudGVyYm94IGJveC5UcmF5IG1lbnVidXR0b24uVHJheU1lbnVCdXR0b24gbGFiZWwuVHJheUxhYmVsSWNvbiB7XG4gIGZvbnQtc2l6ZTogMThweDtcbn1cbndpbmRvdy5CYXIgYm94LkJhckNlbnRlcmJveCBib3guVHJheSBtZW51YnV0dG9uLlRyYXlNZW51QnV0dG9uIGltYWdlLlRyYXlJbWFnZUljb24ge1xuICBtaW4td2lkdGg6IDE4cHg7XG59XG5cbndpbmRvdy5RdWlja1NldHRpbmcge1xuICBwYWRkaW5nOiAwLjVyZW0gMXJlbSAwLjZyZW0gMC42cmVtO1xufVxud2luZG93LlF1aWNrU2V0dGluZyBib3guUXVpY2tTZXR0aW5nQ29udGFpbmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZiZjFjNztcbiAgY29sb3I6ICMzYzM4MzY7XG4gIHBhZGRpbmc6IDFyZW07XG4gIGJvcmRlci1yYWRpdXM6IDAuNXJlbTtcbiAgYm94LXNoYWRvdzogNXB4IDVweCAwIDAgIzNjMzgzNjtcbn1cbndpbmRvdy5RdWlja1NldHRpbmcgYm94LlF1aWNrU2V0dGluZ0NvbnRhaW5lciBidXR0b24uUXVpY2tTZXR0aW5nQnV0dG9uIHtcbiAgcGFkZGluZzogMC41cmVtIDFyZW07XG4gIGJhY2tncm91bmQtY29sb3I6ICNFN0RGQkU7XG4gIGNvbG9yOiAjM2MzODM2O1xuICBtaW4td2lkdGg6IDEyMHB4O1xuICBtaW4taGVpZ2h0OiA1MHB4O1xuICBmb250LXNpemU6IDE0cHg7XG4gIGJvcmRlci1yYWRpdXM6IDAuNXJlbTtcbn1cbndpbmRvdy5RdWlja1NldHRpbmcgYm94LlF1aWNrU2V0dGluZ0NvbnRhaW5lciBidXR0b24uUXVpY2tTZXR0aW5nQnV0dG9uOmhvdmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzdlNzc3MDtcbiAgY29sb3I6ICNmMmU5ZDQ7XG59XG53aW5kb3cuUXVpY2tTZXR0aW5nIGJveC5RdWlja1NldHRpbmdDb250YWluZXIgYnV0dG9uLlF1aWNrU2V0dGluZ0J1dHRvbi5TbWFsbCB7XG4gIG1pbi13aWR0aDogNjBweDtcbiAgbWluLWhlaWdodDogMzBweDtcbn1cbndpbmRvdy5RdWlja1NldHRpbmcgYm94LlF1aWNrU2V0dGluZ0NvbnRhaW5lciBidXR0b24uUXVpY2tTZXR0aW5nQnV0dG9uIC5JY29uIHtcbiAgZm9udC1zaXplOiAyNHB4O1xufVxud2luZG93LlF1aWNrU2V0dGluZyBib3guUXVpY2tTZXR0aW5nQ29udGFpbmVyIGJ1dHRvbi5RdWlja1NldHRpbmdCdXR0b24gLkNoZXZyb24ge1xuICBmb250LXNpemU6IDIwcHg7XG59XG53aW5kb3cuUXVpY2tTZXR0aW5nIGJveC5RdWlja1NldHRpbmdDb250YWluZXIgYnV0dG9uLlF1aWNrU2V0dGluZ0J1dHRvbiAuTGFiZWwxIHtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbn1cbndpbmRvdy5RdWlja1NldHRpbmcgYm94LlF1aWNrU2V0dGluZ0NvbnRhaW5lciBidXR0b24uUXVpY2tTZXR0aW5nQnV0dG9uIC5MYWJlbDIge1xuICBmb250LXNpemU6IDEycHg7XG4gIGNvbG9yOiAjN2U3NzcwO1xufVxud2luZG93LlF1aWNrU2V0dGluZyBib3guUXVpY2tTZXR0aW5nQ29udGFpbmVyIGltYWdlIHtcbiAgY29sb3I6ICMzYzM4MzY7XG59XG53aW5kb3cuUXVpY2tTZXR0aW5nIGJveC5RdWlja1NldHRpbmdDb250YWluZXIgc2NhbGUge1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDA7XG59XG53aW5kb3cuUXVpY2tTZXR0aW5nIGJveC5RdWlja1NldHRpbmdDb250YWluZXIgc2NhbGUgdHJvdWdoIHtcbiAgYm9yZGVyLXJhZGl1czogMXJlbTtcbn1cbndpbmRvdy5RdWlja1NldHRpbmcgYm94LlF1aWNrU2V0dGluZ0NvbnRhaW5lciBzY2FsZSB0cm91Z2ggaGlnaGxpZ2h0IHtcbiAgbWluLWhlaWdodDogMjBweDtcbiAgbWluLXdpZHRoOiAyMHB4O1xuICBib3JkZXItcmFkaXVzOiAxcmVtO1xuICBvdXRsaW5lOiB1bnNldDtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzNjMzgzNjtcbn1cbndpbmRvdy5RdWlja1NldHRpbmcgYm94LlF1aWNrU2V0dGluZ0NvbnRhaW5lciBzY2FsZSB0cm91Z2ggc2xpZGVyIHtcbiAgYm94LXNoYWRvdzogbm9uZTtcbiAgb3V0bGluZTogdW5zZXQ7XG4gIGJvcmRlcjogMDtcbiAgbWluLWhlaWdodDogMjBweDtcbiAgbWluLXdpZHRoOiAyMHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbn1cblxud2luZG93LlZvbHVtZSB7XG4gIG1hcmdpbi10b3A6IDMuNXJlbTtcbiAgbWluLWhlaWdodDogMTAwcHg7XG4gIG1pbi13aWR0aDogMTAwcHg7XG59XG53aW5kb3cuVm9sdW1lIHJldmVhbGVyLlZvbHVtZVJldmVhbGVyIHtcbiAgcGFkZGluZzogMXJlbTtcbn1cbndpbmRvdy5Wb2x1bWUgcmV2ZWFsZXIuVm9sdW1lUmV2ZWFsZXIgYnV0dG9uLlZvbHVtZUJ1dHRvbiB7XG4gIHBhZGRpbmc6IDAuNXJlbTtcbiAgYm9yZGVyLXJhZGl1czogMC41cmVtO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmJmMWM3O1xuICBib3gtc2hhZG93OiA1cHggNXB4IDAgMCAjM2MzODM2O1xufVxuXG53aW5kb3cuTm90aWZpY2F0aW9uIHtcbiAgcGFkZGluZzogMC41cmVtIDFyZW0gMC42cmVtIDAuNnJlbTtcbn1cbndpbmRvdy5Ob3RpZmljYXRpb24gYm94Lk5vdGlmaWNhdGlvbkNvbnRhaW5lciBib3guTm90aWZpY2F0aW9uSXRlbSB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmYmYxYzc7XG4gIGNvbG9yOiAjM2MzODM2O1xuICBib3JkZXItcmFkaXVzOiAwLjVyZW07XG4gIGJveC1zaGFkb3c6IDVweCA1cHggMCAwICMzYzM4MzY7XG4gIG1pbi13aWR0aDogMzAwcHg7XG4gIHBhZGRpbmc6IDAuNXJlbSAxcmVtO1xufVxud2luZG93Lk5vdGlmaWNhdGlvbiBib3guTm90aWZpY2F0aW9uQ29udGFpbmVyIGJveC5Ob3RpZmljYXRpb25JdGVtIGJveC5IZWFkZXIge1xuICBwYWRkaW5nOiAwLjVyZW0gMDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICM3ZTc3NzA7XG59XG53aW5kb3cuTm90aWZpY2F0aW9uIGJveC5Ob3RpZmljYXRpb25Db250YWluZXIgYm94Lk5vdGlmaWNhdGlvbkl0ZW0gYm94LkNvbnRlbnQge1xuICBtaW4taGVpZ2h0OiA1MHB4O1xufVxud2luZG93Lk5vdGlmaWNhdGlvbiBib3guTm90aWZpY2F0aW9uQ29udGFpbmVyIGJveC5Ob3RpZmljYXRpb25JdGVtIGJveC5Gb290ZXIge1xuICBtaW4taGVpZ2h0OiAxcHg7XG59IiwgImltcG9ydCB7IEdkayB9IGZyb20gXCJhc3RhbC9ndGs0XCJcblxuZXhwb3J0IGNvbnN0IF9kZWZhdWx0ID0gR2RrLkN1cnNvci5uZXdfZnJvbV9uYW1lKFwiZGVmYXVsdFwiLCBudWxsKVxuZXhwb3J0IGNvbnN0IHBvaW50ZXIgPSBHZGsuQ3Vyc29yLm5ld19mcm9tX25hbWUoXCJwb2ludGVyXCIsIG51bGwpXG5leHBvcnQgY29uc3Qgbm90QWxsb3dlZCA9IEdkay5DdXJzb3IubmV3X2Zyb21fbmFtZShcIm5vdC1hbGxvd2VkXCIsIG51bGwpXG4iLCAiaW1wb3J0IEd0ayBmcm9tIFwiZ2k6Ly9HdGs/dmVyc2lvbj00LjBcIlxuaW1wb3J0IHsgdHlwZSBCaW5kYWJsZUNoaWxkIH0gZnJvbSBcIi4vYXN0YWxpZnkuanNcIlxuaW1wb3J0IHsgbWVyZ2VCaW5kaW5ncywganN4IGFzIF9qc3ggfSBmcm9tIFwiLi4vX2FzdGFsLmpzXCJcbmltcG9ydCAqIGFzIFdpZGdldCBmcm9tIFwiLi93aWRnZXQuanNcIlxuXG5leHBvcnQgZnVuY3Rpb24gRnJhZ21lbnQoeyBjaGlsZHJlbiA9IFtdLCBjaGlsZCB9OiB7XG4gICAgY2hpbGQ/OiBCaW5kYWJsZUNoaWxkXG4gICAgY2hpbGRyZW4/OiBBcnJheTxCaW5kYWJsZUNoaWxkPlxufSkge1xuICAgIGlmIChjaGlsZCkgY2hpbGRyZW4ucHVzaChjaGlsZClcbiAgICByZXR1cm4gbWVyZ2VCaW5kaW5ncyhjaGlsZHJlbilcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGpzeChcbiAgICBjdG9yOiBrZXlvZiB0eXBlb2YgY3RvcnMgfCB0eXBlb2YgR3RrLldpZGdldCxcbiAgICBwcm9wczogYW55LFxuKSB7XG4gICAgcmV0dXJuIF9qc3goY3RvcnMsIGN0b3IgYXMgYW55LCBwcm9wcylcbn1cblxuY29uc3QgY3RvcnMgPSB7XG4gICAgYm94OiBXaWRnZXQuQm94LFxuICAgIGJ1dHRvbjogV2lkZ2V0LkJ1dHRvbixcbiAgICBjZW50ZXJib3g6IFdpZGdldC5DZW50ZXJCb3gsXG4gICAgLy8gY2lyY3VsYXJwcm9ncmVzczogV2lkZ2V0LkNpcmN1bGFyUHJvZ3Jlc3MsXG4gICAgLy8gZHJhd2luZ2FyZWE6IFdpZGdldC5EcmF3aW5nQXJlYSxcbiAgICBlbnRyeTogV2lkZ2V0LkVudHJ5LFxuICAgIGltYWdlOiBXaWRnZXQuSW1hZ2UsXG4gICAgbGFiZWw6IFdpZGdldC5MYWJlbCxcbiAgICBsZXZlbGJhcjogV2lkZ2V0LkxldmVsQmFyLFxuICAgIG92ZXJsYXk6IFdpZGdldC5PdmVybGF5LFxuICAgIHJldmVhbGVyOiBXaWRnZXQuUmV2ZWFsZXIsXG4gICAgc2xpZGVyOiBXaWRnZXQuU2xpZGVyLFxuICAgIHN0YWNrOiBXaWRnZXQuU3RhY2ssXG4gICAgc3dpdGNoOiBXaWRnZXQuU3dpdGNoLFxuICAgIHdpbmRvdzogV2lkZ2V0LldpbmRvdyxcbiAgICBtZW51YnV0dG9uOiBXaWRnZXQuTWVudUJ1dHRvbixcbiAgICBwb3BvdmVyOiBXaWRnZXQuUG9wb3Zlcixcbn1cblxuZGVjbGFyZSBnbG9iYWwge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbmFtZXNwYWNlXG4gICAgbmFtZXNwYWNlIEpTWCB7XG4gICAgICAgIHR5cGUgRWxlbWVudCA9IEd0ay5XaWRnZXRcbiAgICAgICAgdHlwZSBFbGVtZW50Q2xhc3MgPSBHdGsuV2lkZ2V0XG4gICAgICAgIGludGVyZmFjZSBJbnRyaW5zaWNFbGVtZW50cyB7XG4gICAgICAgICAgICBib3g6IFdpZGdldC5Cb3hQcm9wc1xuICAgICAgICAgICAgYnV0dG9uOiBXaWRnZXQuQnV0dG9uUHJvcHNcbiAgICAgICAgICAgIGNlbnRlcmJveDogV2lkZ2V0LkNlbnRlckJveFByb3BzXG4gICAgICAgICAgICAvLyBjaXJjdWxhcnByb2dyZXNzOiBXaWRnZXQuQ2lyY3VsYXJQcm9ncmVzc1Byb3BzXG4gICAgICAgICAgICAvLyBkcmF3aW5nYXJlYTogV2lkZ2V0LkRyYXdpbmdBcmVhUHJvcHNcbiAgICAgICAgICAgIGVudHJ5OiBXaWRnZXQuRW50cnlQcm9wc1xuICAgICAgICAgICAgaW1hZ2U6IFdpZGdldC5JbWFnZVByb3BzXG4gICAgICAgICAgICBsYWJlbDogV2lkZ2V0LkxhYmVsUHJvcHNcbiAgICAgICAgICAgIGxldmVsYmFyOiBXaWRnZXQuTGV2ZWxCYXJQcm9wc1xuICAgICAgICAgICAgb3ZlcmxheTogV2lkZ2V0Lk92ZXJsYXlQcm9wc1xuICAgICAgICAgICAgcmV2ZWFsZXI6IFdpZGdldC5SZXZlYWxlclByb3BzXG4gICAgICAgICAgICBzbGlkZXI6IFdpZGdldC5TbGlkZXJQcm9wc1xuICAgICAgICAgICAgc3RhY2s6IFdpZGdldC5TdGFja1Byb3BzXG4gICAgICAgICAgICBzd2l0Y2g6IFdpZGdldC5Td2l0Y2hQcm9wc1xuICAgICAgICAgICAgd2luZG93OiBXaWRnZXQuV2luZG93UHJvcHNcbiAgICAgICAgICAgIG1lbnVidXR0b246IFdpZGdldC5NZW51QnV0dG9uUHJvcHNcbiAgICAgICAgICAgIHBvcG92ZXI6IFdpZGdldC5Qb3BvdmVyUHJvcHNcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGpzeHMgPSBqc3hcbiIsICJpbXBvcnQgeyBHdGsgfSBmcm9tIFwiYXN0YWwvZ3RrNFwiXG5pbXBvcnQgeyBwb2ludGVyIH0gZnJvbSBcIi4uLy4uLy4uL21pc2MvY3Vyc29yXCJcblxuY29uc3QgTGF1bmNoZXIgPSAoKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPGJveFxuICAgICAgICAgICAgbmFtZT17XCJMYXVuY2hlclwifVxuICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiTGF1bmNoZXJcIl19XG4gICAgICAgID5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBuYW1lPXtcIkxhdW5jaGVyQnV0dG9uXCJ9XG4gICAgICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiSWNvblwiLCBcIkxhdW5jaGVyQnV0dG9uXCJdfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2tlZD17KCkgPT4gcHJpbnQoXCJoZWxsb1wiKX1cbiAgICAgICAgICAgICAgICB0b29sdGlwVGV4dD17XCJMYXVuY2hlclwifVxuICAgICAgICAgICAgICAgIGN1cnNvcj17cG9pbnRlcn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8bGFiZWwgbGFiZWw9e1wiXHVEQjgyXHVEQ0M3XCJ9IC8+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9ib3g+XG4gICAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBMYXVuY2hlclxuIiwgImltcG9ydCBcIi4vb3ZlcnJpZGVzLmpzXCJcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXN0YWxJTyB9IGZyb20gXCJnaTovL0FzdGFsSU8/dmVyc2lvbj0wLjFcIlxuZXhwb3J0ICogZnJvbSBcIi4vcHJvY2Vzcy5qc1wiXG5leHBvcnQgKiBmcm9tIFwiLi90aW1lLmpzXCJcbmV4cG9ydCAqIGZyb20gXCIuL2ZpbGUuanNcIlxuZXhwb3J0ICogZnJvbSBcIi4vZ29iamVjdC5qc1wiXG5leHBvcnQgeyBCaW5kaW5nLCBiaW5kIH0gZnJvbSBcIi4vYmluZGluZy5qc1wiXG5leHBvcnQgeyBWYXJpYWJsZSwgZGVyaXZlIH0gZnJvbSBcIi4vdmFyaWFibGUuanNcIlxuIiwgImltcG9ydCBBc3RhbCBmcm9tIFwiZ2k6Ly9Bc3RhbElPXCJcbmltcG9ydCBHaW8gZnJvbSBcImdpOi8vR2lvP3ZlcnNpb249Mi4wXCJcblxuZXhwb3J0IHsgR2lvIH1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlYWRGaWxlKHBhdGg6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIEFzdGFsLnJlYWRfZmlsZShwYXRoKSB8fCBcIlwiXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWFkRmlsZUFzeW5jKHBhdGg6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgQXN0YWwucmVhZF9maWxlX2FzeW5jKHBhdGgsIChfLCByZXMpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShBc3RhbC5yZWFkX2ZpbGVfZmluaXNoKHJlcykgfHwgXCJcIilcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3cml0ZUZpbGUocGF0aDogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBBc3RhbC53cml0ZV9maWxlKHBhdGgsIGNvbnRlbnQpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3cml0ZUZpbGVBc3luYyhwYXRoOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIEFzdGFsLndyaXRlX2ZpbGVfYXN5bmMocGF0aCwgY29udGVudCwgKF8sIHJlcykgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKEFzdGFsLndyaXRlX2ZpbGVfZmluaXNoKHJlcykpXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbW9uaXRvckZpbGUoXG4gICAgcGF0aDogc3RyaW5nLFxuICAgIGNhbGxiYWNrOiAoZmlsZTogc3RyaW5nLCBldmVudDogR2lvLkZpbGVNb25pdG9yRXZlbnQpID0+IHZvaWQsXG4pOiBHaW8uRmlsZU1vbml0b3Ige1xuICAgIHJldHVybiBBc3RhbC5tb25pdG9yX2ZpbGUocGF0aCwgKGZpbGU6IHN0cmluZywgZXZlbnQ6IEdpby5GaWxlTW9uaXRvckV2ZW50KSA9PiB7XG4gICAgICAgIGNhbGxiYWNrKGZpbGUsIGV2ZW50KVxuICAgIH0pIVxufVxuIiwgImltcG9ydCBHT2JqZWN0IGZyb20gXCJnaTovL0dPYmplY3RcIlxuXG5leHBvcnQgeyBkZWZhdWx0IGFzIEdMaWIgfSBmcm9tIFwiZ2k6Ly9HTGliP3ZlcnNpb249Mi4wXCJcbmV4cG9ydCB7IEdPYmplY3QsIEdPYmplY3QgYXMgZGVmYXVsdCB9XG5cbmNvbnN0IG1ldGEgPSBTeW1ib2woXCJtZXRhXCIpXG5jb25zdCBwcml2ID0gU3ltYm9sKFwicHJpdlwiKVxuXG5jb25zdCB7IFBhcmFtU3BlYywgUGFyYW1GbGFncyB9ID0gR09iamVjdFxuXG5jb25zdCBrZWJhYmlmeSA9IChzdHI6IHN0cmluZykgPT4gc3RyXG4gICAgLnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pL2csIFwiJDEtJDJcIilcbiAgICAucmVwbGFjZUFsbChcIl9cIiwgXCItXCIpXG4gICAgLnRvTG93ZXJDYXNlKClcblxudHlwZSBTaWduYWxEZWNsYXJhdGlvbiA9IHtcbiAgICBmbGFncz86IEdPYmplY3QuU2lnbmFsRmxhZ3NcbiAgICBhY2N1bXVsYXRvcj86IEdPYmplY3QuQWNjdW11bGF0b3JUeXBlXG4gICAgcmV0dXJuX3R5cGU/OiBHT2JqZWN0LkdUeXBlXG4gICAgcGFyYW1fdHlwZXM/OiBBcnJheTxHT2JqZWN0LkdUeXBlPlxufVxuXG50eXBlIFByb3BlcnR5RGVjbGFyYXRpb24gPVxuICAgIHwgSW5zdGFuY2VUeXBlPHR5cGVvZiBHT2JqZWN0LlBhcmFtU3BlYz5cbiAgICB8IHsgJGd0eXBlOiBHT2JqZWN0LkdUeXBlIH1cbiAgICB8IHR5cGVvZiBTdHJpbmdcbiAgICB8IHR5cGVvZiBOdW1iZXJcbiAgICB8IHR5cGVvZiBCb29sZWFuXG4gICAgfCB0eXBlb2YgT2JqZWN0XG5cbnR5cGUgR09iamVjdENvbnN0cnVjdG9yID0ge1xuICAgIFttZXRhXT86IHtcbiAgICAgICAgUHJvcGVydGllcz86IHsgW2tleTogc3RyaW5nXTogR09iamVjdC5QYXJhbVNwZWMgfVxuICAgICAgICBTaWduYWxzPzogeyBba2V5OiBzdHJpbmddOiBHT2JqZWN0LlNpZ25hbERlZmluaXRpb24gfVxuICAgIH1cbiAgICBuZXcoLi4uYXJnczogYW55W10pOiBhbnlcbn1cblxudHlwZSBNZXRhSW5mbyA9IEdPYmplY3QuTWV0YUluZm88bmV2ZXIsIEFycmF5PHsgJGd0eXBlOiBHT2JqZWN0LkdUeXBlIH0+LCBuZXZlcj5cblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyKG9wdGlvbnM6IE1ldGFJbmZvID0ge30pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGNsczogR09iamVjdENvbnN0cnVjdG9yKSB7XG4gICAgICAgIGNvbnN0IHQgPSBvcHRpb25zLlRlbXBsYXRlXG4gICAgICAgIGlmICh0eXBlb2YgdCA9PT0gXCJzdHJpbmdcIiAmJiAhdC5zdGFydHNXaXRoKFwicmVzb3VyY2U6Ly9cIikgJiYgIXQuc3RhcnRzV2l0aChcImZpbGU6Ly9cIikpIHtcbiAgICAgICAgICAgIC8vIGFzc3VtZSB4bWwgdGVtcGxhdGVcbiAgICAgICAgICAgIG9wdGlvbnMuVGVtcGxhdGUgPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUodClcbiAgICAgICAgfVxuXG4gICAgICAgIEdPYmplY3QucmVnaXN0ZXJDbGFzcyh7XG4gICAgICAgICAgICBTaWduYWxzOiB7IC4uLmNsc1ttZXRhXT8uU2lnbmFscyB9LFxuICAgICAgICAgICAgUHJvcGVydGllczogeyAuLi5jbHNbbWV0YV0/LlByb3BlcnRpZXMgfSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH0sIGNscylcblxuICAgICAgICBkZWxldGUgY2xzW21ldGFdXG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvcGVydHkoZGVjbGFyYXRpb246IFByb3BlcnR5RGVjbGFyYXRpb24gPSBPYmplY3QpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldDogYW55LCBwcm9wOiBhbnksIGRlc2M/OiBQcm9wZXJ0eURlc2NyaXB0b3IpIHtcbiAgICAgICAgdGFyZ2V0LmNvbnN0cnVjdG9yW21ldGFdID8/PSB7fVxuICAgICAgICB0YXJnZXQuY29uc3RydWN0b3JbbWV0YV0uUHJvcGVydGllcyA/Pz0ge31cblxuICAgICAgICBjb25zdCBuYW1lID0ga2ViYWJpZnkocHJvcClcblxuICAgICAgICBpZiAoIWRlc2MpIHtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3AsIHtcbiAgICAgICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW3ByaXZdPy5bcHJvcF0gPz8gZGVmYXVsdFZhbHVlKGRlY2xhcmF0aW9uKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0KHY6IGFueSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodiAhPT0gdGhpc1twcm9wXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1twcml2XSA/Pz0ge31cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbcHJpdl1bcHJvcF0gPSB2XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeShuYW1lKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGBzZXRfJHtuYW1lLnJlcGxhY2UoXCItXCIsIFwiX1wiKX1gLCB7XG4gICAgICAgICAgICAgICAgdmFsdWUodjogYW55KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbcHJvcF0gPSB2XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGBnZXRfJHtuYW1lLnJlcGxhY2UoXCItXCIsIFwiX1wiKX1gLCB7XG4gICAgICAgICAgICAgICAgdmFsdWUoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW3Byb3BdXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIHRhcmdldC5jb25zdHJ1Y3RvclttZXRhXS5Qcm9wZXJ0aWVzW2tlYmFiaWZ5KHByb3ApXSA9IHBzcGVjKG5hbWUsIFBhcmFtRmxhZ3MuUkVBRFdSSVRFLCBkZWNsYXJhdGlvbilcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBmbGFncyA9IDBcbiAgICAgICAgICAgIGlmIChkZXNjLmdldCkgZmxhZ3MgfD0gUGFyYW1GbGFncy5SRUFEQUJMRVxuICAgICAgICAgICAgaWYgKGRlc2Muc2V0KSBmbGFncyB8PSBQYXJhbUZsYWdzLldSSVRBQkxFXG5cbiAgICAgICAgICAgIHRhcmdldC5jb25zdHJ1Y3RvclttZXRhXS5Qcm9wZXJ0aWVzW2tlYmFiaWZ5KHByb3ApXSA9IHBzcGVjKG5hbWUsIGZsYWdzLCBkZWNsYXJhdGlvbilcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNpZ25hbCguLi5wYXJhbXM6IEFycmF5PHsgJGd0eXBlOiBHT2JqZWN0LkdUeXBlIH0gfCB0eXBlb2YgT2JqZWN0Pik6XG4odGFyZ2V0OiBhbnksIHNpZ25hbDogYW55LCBkZXNjPzogUHJvcGVydHlEZXNjcmlwdG9yKSA9PiB2b2lkXG5cbmV4cG9ydCBmdW5jdGlvbiBzaWduYWwoZGVjbGFyYXRpb24/OiBTaWduYWxEZWNsYXJhdGlvbik6XG4odGFyZ2V0OiBhbnksIHNpZ25hbDogYW55LCBkZXNjPzogUHJvcGVydHlEZXNjcmlwdG9yKSA9PiB2b2lkXG5cbmV4cG9ydCBmdW5jdGlvbiBzaWduYWwoXG4gICAgZGVjbGFyYXRpb24/OiBTaWduYWxEZWNsYXJhdGlvbiB8IHsgJGd0eXBlOiBHT2JqZWN0LkdUeXBlIH0gfCB0eXBlb2YgT2JqZWN0LFxuICAgIC4uLnBhcmFtczogQXJyYXk8eyAkZ3R5cGU6IEdPYmplY3QuR1R5cGUgfSB8IHR5cGVvZiBPYmplY3Q+XG4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldDogYW55LCBzaWduYWw6IGFueSwgZGVzYz86IFByb3BlcnR5RGVzY3JpcHRvcikge1xuICAgICAgICB0YXJnZXQuY29uc3RydWN0b3JbbWV0YV0gPz89IHt9XG4gICAgICAgIHRhcmdldC5jb25zdHJ1Y3RvclttZXRhXS5TaWduYWxzID8/PSB7fVxuXG4gICAgICAgIGNvbnN0IG5hbWUgPSBrZWJhYmlmeShzaWduYWwpXG5cbiAgICAgICAgaWYgKGRlY2xhcmF0aW9uIHx8IHBhcmFtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRPRE86IHR5cGUgYXNzZXJ0XG4gICAgICAgICAgICBjb25zdCBhcnIgPSBbZGVjbGFyYXRpb24sIC4uLnBhcmFtc10ubWFwKHYgPT4gdi4kZ3R5cGUpXG4gICAgICAgICAgICB0YXJnZXQuY29uc3RydWN0b3JbbWV0YV0uU2lnbmFsc1tuYW1lXSA9IHtcbiAgICAgICAgICAgICAgICBwYXJhbV90eXBlczogYXJyLFxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0LmNvbnN0cnVjdG9yW21ldGFdLlNpZ25hbHNbbmFtZV0gPSBkZWNsYXJhdGlvbiB8fCB7XG4gICAgICAgICAgICAgICAgcGFyYW1fdHlwZXM6IFtdLFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkZXNjKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBzaWduYWwsIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gKC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChuYW1lLCAuLi5hcmdzKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgb2c6ICgoLi4uYXJnczogYW55W10pID0+IHZvaWQpID0gZGVzYy52YWx1ZVxuICAgICAgICAgICAgZGVzYy52YWx1ZSA9IGZ1bmN0aW9uICguLi5hcmdzOiBhbnlbXSkge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3Igbm90IHR5cGVkXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KG5hbWUsIC4uLmFyZ3MpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBgb25fJHtuYW1lLnJlcGxhY2UoXCItXCIsIFwiX1wiKX1gLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uICguLi5hcmdzOiBhbnlbXSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2cuYXBwbHkodGhpcywgYXJncylcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gcHNwZWMobmFtZTogc3RyaW5nLCBmbGFnczogbnVtYmVyLCBkZWNsYXJhdGlvbjogUHJvcGVydHlEZWNsYXJhdGlvbikge1xuICAgIGlmIChkZWNsYXJhdGlvbiBpbnN0YW5jZW9mIFBhcmFtU3BlYylcbiAgICAgICAgcmV0dXJuIGRlY2xhcmF0aW9uXG5cbiAgICBzd2l0Y2ggKGRlY2xhcmF0aW9uKSB7XG4gICAgICAgIGNhc2UgU3RyaW5nOlxuICAgICAgICAgICAgcmV0dXJuIFBhcmFtU3BlYy5zdHJpbmcobmFtZSwgXCJcIiwgXCJcIiwgZmxhZ3MsIFwiXCIpXG4gICAgICAgIGNhc2UgTnVtYmVyOlxuICAgICAgICAgICAgcmV0dXJuIFBhcmFtU3BlYy5kb3VibGUobmFtZSwgXCJcIiwgXCJcIiwgZmxhZ3MsIC1OdW1iZXIuTUFYX1ZBTFVFLCBOdW1iZXIuTUFYX1ZBTFVFLCAwKVxuICAgICAgICBjYXNlIEJvb2xlYW46XG4gICAgICAgICAgICByZXR1cm4gUGFyYW1TcGVjLmJvb2xlYW4obmFtZSwgXCJcIiwgXCJcIiwgZmxhZ3MsIGZhbHNlKVxuICAgICAgICBjYXNlIE9iamVjdDpcbiAgICAgICAgICAgIHJldHVybiBQYXJhbVNwZWMuanNvYmplY3QobmFtZSwgXCJcIiwgXCJcIiwgZmxhZ3MpXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIG1pc3N0eXBlZFxuICAgICAgICAgICAgcmV0dXJuIFBhcmFtU3BlYy5vYmplY3QobmFtZSwgXCJcIiwgXCJcIiwgZmxhZ3MsIGRlY2xhcmF0aW9uLiRndHlwZSlcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRWYWx1ZShkZWNsYXJhdGlvbjogUHJvcGVydHlEZWNsYXJhdGlvbikge1xuICAgIGlmIChkZWNsYXJhdGlvbiBpbnN0YW5jZW9mIFBhcmFtU3BlYylcbiAgICAgICAgcmV0dXJuIGRlY2xhcmF0aW9uLmdldF9kZWZhdWx0X3ZhbHVlKClcblxuICAgIHN3aXRjaCAoZGVjbGFyYXRpb24pIHtcbiAgICAgICAgY2FzZSBTdHJpbmc6XG4gICAgICAgICAgICByZXR1cm4gXCJcIlxuICAgICAgICBjYXNlIE51bWJlcjpcbiAgICAgICAgICAgIHJldHVybiAwXG4gICAgICAgIGNhc2UgQm9vbGVhbjpcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICBjYXNlIE9iamVjdDpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgfVxufVxuIiwgImltcG9ydCB7IGJpbmQsIFZhcmlhYmxlIH0gZnJvbSBcImFzdGFsXCJcbmltcG9ydCB7IEdkaywgR3RrIH0gZnJvbSBcImFzdGFsL2d0azRcIlxuaW1wb3J0IEFzdGFsSHlwcmxhbmQgZnJvbSBcImdpOi8vQXN0YWxIeXBybGFuZD92ZXJzaW9uPTAuMVwiXG5pbXBvcnQgeyBfZGVmYXVsdCwgcG9pbnRlciB9IGZyb20gXCIuLi8uLi8uLi9taXNjL2N1cnNvclwiXG5cbmNvbnN0IG1heFdvcmtzcGFjZXMgPSA1XG5jb25zdCB3b3Jrc3BhY2VzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogbWF4V29ya3NwYWNlcyAtIDEgfSwgKF8sIGkpID0+IGkpXG5jb25zdCBoeXBybGFuZCA9IEFzdGFsSHlwcmxhbmQuZ2V0X2RlZmF1bHQoKVxuXG5jb25zdCBXb3Jrc3BhY2VzID0gKCkgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxib3hcbiAgICAgICAgICAgIG5hbWU9e1wiV29ya3NwYWNlc1wifVxuICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiV29ya3NwYWNlc1wiXX1cbiAgICAgICAgICAgIGhhbGlnbj17R3RrLkFsaWduLkNFTlRFUn1cbiAgICAgICAgICAgIHZhbGlnbj17R3RrLkFsaWduLkJBU0VMSU5FfVxuICAgICAgICAgICAgc3BhY2luZz17M31cbiAgICAgICAgPlxuICAgICAgICAgICAge3dvcmtzcGFjZXMubWFwKChpKSA9PiAoXG4gICAgICAgICAgICAgICAgPFdvcmtzcGFjZUJ1dHRvblxuICAgICAgICAgICAgICAgICAgICB3b3Jrc3BhY2U9e0FzdGFsSHlwcmxhbmQuV29ya3NwYWNlLmR1bW15KGkgKyAxLCBudWxsKX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKSl9XG5cbiAgICAgICAgICAgIHtiaW5kKGh5cHJsYW5kLCBcImZvY3VzZWRXb3Jrc3BhY2VcIikuYXMoKGZvY3VzZWQpID0+IChcbiAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICB7Zm9jdXNlZCAmJiBmb2N1c2VkLmlkID4gbWF4V29ya3NwYWNlcyA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxXb3Jrc3BhY2VCdXR0b24gd29ya3NwYWNlPXtmb2N1c2VkfSAvPlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPFdvcmtzcGFjZUJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtzcGFjZT17QXN0YWxIeXBybGFuZC5Xb3Jrc3BhY2UuZHVtbXkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heFdvcmtzcGFjZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICkpfVxuICAgICAgICA8L2JveD5cbiAgICApXG59XG5cbmludGVyZmFjZSBXb3Jrc3BhY2VCdXR0b25Qcm9wcyB7XG4gICAgd29ya3NwYWNlOiBBc3RhbEh5cHJsYW5kLldvcmtzcGFjZVxufVxuXG5jb25zdCBXb3Jrc3BhY2VCdXR0b24gPSAoeyB3b3Jrc3BhY2UgfTogV29ya3NwYWNlQnV0dG9uUHJvcHMpID0+IHtcbiAgICBjb25zdCBjb25mVmFyID0gVmFyaWFibGUuZGVyaXZlKFxuICAgICAgICBbYmluZChoeXBybGFuZCwgXCJmb2N1c2VkV29ya3NwYWNlXCIpLCBiaW5kKGh5cHJsYW5kLCBcImNsaWVudHNcIildLFxuICAgICAgICAoZm9jdXNlZCwgX2NsaWVudHMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNsYXNzZXMgPSBbXCJXb3Jrc3BhY2VCdXR0b25cIl1cbiAgICAgICAgICAgIGxldCBjdXJzb3I6IEdkay5DdXJzb3IgPSBwb2ludGVyXG4gICAgICAgICAgICBsZXQgdG9vbHRpcFRleHQ6IHN0cmluZyA9IGBTd2l0Y2ggV29ya3NwYWNlICR7d29ya3NwYWNlLmlkfWBcblxuICAgICAgICAgICAgaWYgKGZvY3VzZWQgJiYgZm9jdXNlZC5pZCA9PT0gd29ya3NwYWNlLmlkKSB7XG4gICAgICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKFwiQWN0aXZlXCIpXG4gICAgICAgICAgICAgICAgY3Vyc29yID0gX2RlZmF1bHRcbiAgICAgICAgICAgICAgICB0b29sdGlwVGV4dCA9IFwiXCJcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgY2xpZW50cyA9XG4gICAgICAgICAgICAgICAgaHlwcmxhbmQuZ2V0X3dvcmtzcGFjZSh3b3Jrc3BhY2UuaWQpPy5nZXRfY2xpZW50cygpIHx8IFtdXG5cbiAgICAgICAgICAgIGlmIChjbGllbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjbGFzc2VzLnB1c2goXCJIYXNDbGllbnRcIilcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBjbGFzc2VzLFxuICAgICAgICAgICAgICAgIGN1cnNvcixcbiAgICAgICAgICAgICAgICB0b29sdGlwVGV4dCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIClcbiAgICBjb25zdCBjb25mID0gY29uZlZhcigpXG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBuYW1lPXtgV29ya3NwYWNlQnV0dG9uLSR7d29ya3NwYWNlLmlkfWB9XG4gICAgICAgICAgICBjc3NDbGFzc2VzPXtjb25mLmFzKChjKSA9PiBjLmNsYXNzZXMpfVxuICAgICAgICAgICAgb25DbGlja2VkPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHdvcmtzcGFjZS5pZCA9PT0gaHlwcmxhbmQuZ2V0X2ZvY3VzZWRfd29ya3NwYWNlKCk/LmlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHdvcmtzcGFjZS5mb2N1cygpXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25EZXN0cm95PXsoKSA9PiBjb25mVmFyLmRyb3AoKX1cbiAgICAgICAgICAgIHRvb2x0aXBUZXh0PXtjb25mLmFzKChjKSA9PiBjLnRvb2x0aXBUZXh0KX1cbiAgICAgICAgICAgIGN1cnNvcj17Y29uZi5hcygoYykgPT4gYy5jdXJzb3IpfVxuICAgICAgICA+XG4gICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICBsYWJlbD17d29ya3NwYWNlLm5hbWUgPT0gXCIxMFwiID8gXCIwXCIgOiB3b3Jrc3BhY2UubmFtZX1cbiAgICAgICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJXb3Jrc3BhY2VCdXR0b25MYWJlbFwiXX1cbiAgICAgICAgICAgICAgICB1c2VVbmRlcmxpbmU9e3RydWV9XG4gICAgICAgICAgICAvPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IFdvcmtzcGFjZXNcbiIsICJpbXBvcnQgeyBiaW5kLCBWYXJpYWJsZSB9IGZyb20gXCJhc3RhbFwiXG5pbXBvcnQgeyBHdGsgfSBmcm9tIFwiYXN0YWwvZ3RrNFwiXG5pbXBvcnQgQXN0YWxIeXBybGFuZCBmcm9tIFwiZ2k6Ly9Bc3RhbEh5cHJsYW5kP3ZlcnNpb249MC4xXCJcbmltcG9ydCBQYW5nbyBmcm9tIFwiZ2k6Ly9QYW5nbz92ZXJzaW9uPTEuMFwiXG5cbmNvbnN0IGh5cHJsYW5kID0gQXN0YWxIeXBybGFuZC5nZXRfZGVmYXVsdCgpXG5cbmNvbnN0IEZvY3VzZWRDbGllbnQgPSAoKSA9PiB7XG4gICAgY29uc3QgZm9jdXNlZENsaWVudCA9IFZhcmlhYmxlLmRlcml2ZShcbiAgICAgICAgW2JpbmQoaHlwcmxhbmQsIFwiZm9jdXNlZENsaWVudFwiKSwgYmluZChoeXBybGFuZCwgXCJjbGllbnRzXCIpXSxcbiAgICAgICAgKGZvY3VzZWRDbGllbnQsIF9jbGllbnRzKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gZm9jdXNlZENsaWVudD8udGl0bGUgfHwgXCJcIlxuICAgICAgICB9XG4gICAgKVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGJveFxuICAgICAgICAgICAgbmFtZT17XCJGb2N1c2VkQ2xpZW50XCJ9XG4gICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJGb2N1c2VkQ2xpZW50XCJdfVxuICAgICAgICAgICAgaGFsaWduPXtHdGsuQWxpZ24uQ0VOVEVSfVxuICAgICAgICAgICAgdmFsaWduPXtHdGsuQWxpZ24uQkFTRUxJTkV9XG4gICAgICAgID5cbiAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgIGxhYmVsPXtmb2N1c2VkQ2xpZW50KCl9XG4gICAgICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiRm9jdXNlZENsaWVudExhYmVsXCJdfVxuICAgICAgICAgICAgICAgIG9uRGVzdHJveT17KCkgPT4gZm9jdXNlZENsaWVudC5kcm9wKCl9XG4gICAgICAgICAgICAgICAgbWF4V2lkdGhDaGFycz17MzZ9XG4gICAgICAgICAgICAgICAgZWxsaXBzaXplPXtQYW5nby5FbGxpcHNpemVNb2RlLk1JRERMRX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgIDwvYm94PlxuICAgIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgRm9jdXNlZENsaWVudFxuIiwgImltcG9ydCB7IEd0ayB9IGZyb20gXCJhc3RhbC9ndGs0XCJcbmltcG9ydCBMYXVuY2hlciBmcm9tIFwiLi9Nb2R1bGVzL0xhdW5jaGVyXCJcbmltcG9ydCBXb3Jrc3BhY2VzIGZyb20gXCIuL01vZHVsZXMvV29ya3NwYWNlc1wiXG5pbXBvcnQgRm9jdXNlZENsaWVudCBmcm9tIFwiLi9Nb2R1bGVzL0ZvY3VzZWRDbGllbnRcIlxuXG5leHBvcnQgaW50ZXJmYWNlIFN0YXJ0UHJvcHMge1xuICAgIG5hbWU6IHN0cmluZ1xufVxuXG5jb25zdCBTdGFydCA9ICh7IG5hbWUgfTogU3RhcnRQcm9wcykgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxib3hcbiAgICAgICAgICAgIG5hbWU9e2BCYXJTdGFydC0ke25hbWV9YH1cbiAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIkJhclNlY3Rpb25cIiwgXCJCYXJTdGFydFwiXX1cbiAgICAgICAgICAgIGhleHBhbmQ9e3RydWV9XG4gICAgICAgID5cbiAgICAgICAgICAgIDxMYXVuY2hlciAvPlxuXG4gICAgICAgICAgICB7Lyogc2VwYXJhdG9yICovfVxuICAgICAgICAgICAgPEd0ay5TZXBhcmF0b3JcbiAgICAgICAgICAgICAgICBvcmllbnRhdGlvbj17R3RrLk9yaWVudGF0aW9uLlZFUlRJQ0FMfVxuICAgICAgICAgICAgICAgIHZpc2libGU9e3RydWV9XG4gICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICB7Lyogd29ya3NwYWNlcyAqL31cbiAgICAgICAgICAgIDxXb3Jrc3BhY2VzIC8+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHsvKiBzZXBhcmF0b3IgKi99XG4gICAgICAgICAgICA8R3RrLlNlcGFyYXRvclxuICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uPXtHdGsuT3JpZW50YXRpb24uVkVSVElDQUx9XG4gICAgICAgICAgICAgICAgdmlzaWJsZT17dHJ1ZX1cbiAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgIHsvKiBmb2N1c2VkIGNsaWVudCAqL31cbiAgICAgICAgICAgIDxGb2N1c2VkQ2xpZW50IC8+XG4gICAgICAgIDwvYm94PlxuICAgIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgU3RhcnRcbiIsICJpbXBvcnQgeyBiaW5kfSBmcm9tIFwiYXN0YWxcIlxuaW1wb3J0IHsgR3RrIH0gZnJvbSBcImFzdGFsL2d0azRcIlxuaW1wb3J0IEFzdGFsVHJheSBmcm9tIFwiZ2k6Ly9Bc3RhbFRyYXk/dmVyc2lvbj0wLjFcIlxuaW1wb3J0IHsgcG9pbnRlciB9IGZyb20gXCIuLi8uLi8uLi9taXNjL2N1cnNvclwiXG5pbXBvcnQgeyB0b1RpdGxlQ2FzZSB9IGZyb20gXCIuLi8uLi8uLi9saWIvdXRpbHNcIlxuXG5jb25zdCBVU0VfQ1VTVE9NX0lDT05TID0gWy9zdGVhbS9pXVxuY29uc3QgQ1VTVE9NX0lDT05TOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgIGRpc2NvcmQ6IFwiXHVGMUZGXCIsXG4gICAgc3RlYW06IFwiXHVGMUI2XCIsXG4gICAgc3BvdGlmeTogXCJcdUYxQkNcIixcbn1cblxuY29uc3QgZ2V0U2VhcmNoV2l0aCA9IChpdGVtOiBBc3RhbFRyYXkuVHJheUl0ZW0pID0+IHtcbiAgICBjb25zdCB0aXRsZSA9IGl0ZW0udGl0bGVcbiAgICBjb25zdCB0b29sdGlwTWFya3VwID0gaXRlbS50b29sdGlwTWFya3VwXG4gICAgcmV0dXJuIHRpdGxlICYmIHRpdGxlLmxlbmd0aCA/IHRpdGxlIDogdG9vbHRpcE1hcmt1cFxufVxuXG5jb25zdCBzaG91bGRVc2VDdXN0b21JY29uID0gKGl0ZW06IEFzdGFsVHJheS5UcmF5SXRlbSkgPT4ge1xuICAgIGNvbnN0IHNlYXJjaFdpdGggPSBnZXRTZWFyY2hXaXRoKGl0ZW0pXG5cbiAgICByZXR1cm4gVVNFX0NVU1RPTV9JQ09OUy5zb21lKChyZWdleCkgPT4gc2VhcmNoV2l0aC5tYXRjaChyZWdleCkpXG59XG5cbmNvbnN0IGdldEN1c3RvbUljb24gPSAoaXRlbTogQXN0YWxUcmF5LlRyYXlJdGVtKSA9PiB7XG4gICAgY29uc3Qgc2VhcmNoV2l0aCA9IGdldFNlYXJjaFdpdGgoaXRlbSlcblxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKENVU1RPTV9JQ09OUykpIHtcbiAgICAgICAgaWYgKHNlYXJjaFdpdGgubWF0Y2gobmV3IFJlZ0V4cChrZXksIFwiaVwiKSkpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFwiXHVEQjgyXHVEQzJCXCJcbn1cblxuY29uc3QgZ2V0VG9vbHRpcE1hcmt1cCA9IChpdGVtOiBBc3RhbFRyYXkuVHJheUl0ZW0pID0+IHtcbiAgICAvLyB5ZWFoIGNhbiB1c2UgdGhpcyB0byBnZXQgdGhlIHRvb2x0aXAgbWFya3VwXG4gICAgcmV0dXJuIHRvVGl0bGVDYXNlKGdldFNlYXJjaFdpdGgoaXRlbSkpXG59XG5cbmNvbnN0IEltYWdlSWNvbiA9ICh7IGl0ZW0gfTogeyBpdGVtOiBBc3RhbFRyYXkuVHJheUl0ZW0gfSkgPT4ge1xuICAgIGlmIChzaG91bGRVc2VDdXN0b21JY29uKGl0ZW0pKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJUcmF5TGFiZWxJY29uXCJdfVxuICAgICAgICAgICAgICAgIGxhYmVsPXtnZXRDdXN0b21JY29uKGl0ZW0pfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgKVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICAgIDxpbWFnZVxuICAgICAgICAgICAgZ2ljb249e2JpbmQoaXRlbSwgXCJnaWNvblwiKX1cbiAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIlRyYXlJbWFnZUljb25cIl19XG4gICAgICAgICAgICBwaXhlbFNpemU9ezE4fSAvLyBEb24ndCBmb2dldCB0byBhZGp1c3QgLlRyYXlMYWJlbEljb24gc3R5bGUgdG9vXG4gICAgICAgIC8+XG4gICAgKVxufVxuXG5jb25zdCBNZW51QnV0dG9uID0gKHsgaXRlbSB9OiB7IGl0ZW06IEFzdGFsVHJheS5UcmF5SXRlbSB9KSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPG1lbnVidXR0b25cbiAgICAgICAgICAgIHNldHVwPXsoc2VsZikgPT4ge1xuICAgICAgICAgICAgICAgIHNlbGYuaW5zZXJ0X2FjdGlvbl9ncm91cChcImRidXNtZW51XCIsIGl0ZW0uYWN0aW9uR3JvdXApXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgY3Vyc29yPXtwb2ludGVyfVxuICAgICAgICAgICAgdG9vbHRpcE1hcmt1cD17Z2V0VG9vbHRpcE1hcmt1cChpdGVtKX1cbiAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIlRyYXlNZW51QnV0dG9uXCJdfVxuICAgICAgICAgICAgaGFsaWduPXtHdGsuQWxpZ24uQ0VOVEVSfVxuICAgICAgICAgICAgdmFsaWduPXtHdGsuQWxpZ24uQ0VOVEVSfVxuICAgICAgICA+XG4gICAgICAgICAgICA8SW1hZ2VJY29uIGl0ZW09e2l0ZW19IC8+XG4gICAgICAgICAgICB7R3RrLlBvcG92ZXJNZW51Lm5ld19mcm9tX21vZGVsKGl0ZW0ubWVudU1vZGVsKX1cbiAgICAgICAgPC9tZW51YnV0dG9uPlxuICAgIClcbn1cblxuY29uc3QgVHJheSA9ICgpID0+IHtcbiAgICBjb25zdCB0cmF5ID0gQXN0YWxUcmF5LmdldF9kZWZhdWx0KClcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxib3hcbiAgICAgICAgICAgIG5hbWU9e1wiVHJheVwifVxuICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiVHJheVwiXX1cbiAgICAgICAgICAgIHNwYWNpbmc9ezEwfVxuICAgICAgICAgICAgdmFsaWduPXtHdGsuQWxpZ24uQ0VOVEVSfVxuICAgICAgICA+XG4gICAgICAgICAgICB7YmluZCh0cmF5LCBcIml0ZW1zXCIpLmFzKChpdGVtcykgPT5cbiAgICAgICAgICAgICAgICBpdGVtcy5tYXAoKGl0ZW0pID0+IDxNZW51QnV0dG9uIGl0ZW09e2l0ZW19IC8+KVxuICAgICAgICAgICAgKX1cbiAgICAgICAgPC9ib3g+XG4gICAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBUcmF5XG4iLCAiZXhwb3J0IGNvbnN0IHRvVGl0bGVDYXNlID0gKHN0cjogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIHN0clxuICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAuc3BsaXQoXCIgXCIpXG4gICAgICAgIC5tYXAoKHdvcmQpID0+IHdvcmQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB3b3JkLnNsaWNlKDEpKVxuICAgICAgICAuam9pbihcIiBcIilcbn1cblxuZXhwb3J0IGNvbnN0IGRlYm91bmNlID0gKGNhbGxiYWNrOiBhbnksIHdhaXQ6IG51bWJlcikgPT4ge1xuICAgIGxldCB0aW1lb3V0OiBudW1iZXIgfCBudWxsID0gbnVsbFxuXG4gICAgcmV0dXJuICguLi5hcmdzOiB1bmtub3duW10pID0+IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQgYXMgbnVtYmVyKVxuXG4gICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNhbGxiYWNrKC4uLmFyZ3MpXG4gICAgICAgIH0sIHdhaXQpIGFzIHVua25vd24gYXMgbnVtYmVyXG4gICAgfVxufVxuIiwgImltcG9ydCB7IGJpbmQsIFZhcmlhYmxlIH0gZnJvbSBcImFzdGFsXCJcbmltcG9ydCB7IEdkaywgR3RrIH0gZnJvbSBcImFzdGFsL2d0azRcIlxuaW1wb3J0IEFzdGFsTXByaXMgZnJvbSBcImdpOi8vQXN0YWxNcHJpc1wiXG5pbXBvcnQgUGFuZ28gZnJvbSBcImdpOi8vUGFuZ28/dmVyc2lvbj0xLjBcIlxuaW1wb3J0IHsgbm90QWxsb3dlZCwgcG9pbnRlciB9IGZyb20gXCIuLi8uLi8uLi9taXNjL2N1cnNvclwiXG5pbXBvcnQgQXN0YWxIeXBybGFuZCBmcm9tIFwiZ2k6Ly9Bc3RhbEh5cHJsYW5kP3ZlcnNpb249MC4xXCJcblxuY29uc3QgaHlwcmxhbmQgPSBBc3RhbEh5cHJsYW5kLmdldF9kZWZhdWx0KClcblxuaW50ZXJmYWNlIE1lZGlhUHJvcyB7XG4gICAgcGxheWVyOiBBc3RhbE1wcmlzLlBsYXllclxufVxuXG5jb25zdCBNZWRpYSA9ICh7IHBsYXllciB9OiBNZWRpYVByb3MpID0+IHtcbiAgICBpZiAoIXBsYXllcikge1xuICAgICAgICByZXR1cm4gPGJveCAvPlxuICAgIH1cblxuICAgIGNvbnN0IGNvdmVyQXJ0ID0gYmluZChwbGF5ZXIsIFwiY292ZXJBcnRcIilcbiAgICBjb25zdCB0aXRsZSA9IGJpbmQocGxheWVyLCBcInRpdGxlXCIpLmFzKCh0KSA9PiB0KVxuICAgIGNvbnN0IHBsYXlJY29uID0gYmluZChwbGF5ZXIsIFwicGxheWJhY2tTdGF0dXNcIikuYXMoKHMpID0+XG4gICAgICAgIHMgPT09IEFzdGFsTXByaXMuUGxheWJhY2tTdGF0dXMuUExBWUlORyA/IFwiXHVGMDRCXCIgOiBcIlx1RjA0Q1wiXG4gICAgKVxuXG4gICAgY29uc3QgZ29QcmV2Q3Vyc29yID0gYmluZChwbGF5ZXIsIFwiY2FuR29QcmV2aW91c1wiKS5hcygoY2FuR28pID0+XG4gICAgICAgIGNhbkdvID8gcG9pbnRlciA6IG5vdEFsbG93ZWRcbiAgICApXG4gICAgY29uc3QgZ29OZXh0Q3Vyc29yID0gYmluZChwbGF5ZXIsIFwiY2FuR29OZXh0XCIpLmFzKChjYW5HbykgPT5cbiAgICAgICAgY2FuR28gPyBwb2ludGVyIDogbm90QWxsb3dlZFxuICAgIClcbiAgICBjb25zdCBjbGFzc2Vzc1ZhcnMgPSBWYXJpYWJsZS5kZXJpdmUoXG4gICAgICAgIFtiaW5kKHBsYXllciwgXCJjYW5Hb1ByZXZpb3VzXCIpLCBiaW5kKHBsYXllciwgXCJjYW5Hb05leHRcIildLFxuICAgICAgICAoY2FuR29QcmV2LCBjYW5Hb05leHQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNsYXNzZXMgPSBbXCJJY29uXCIsIFwiTWVkaWFQbGF5YmFja0J1dHRvblwiXVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGdvUHJldjogY2FuR29QcmV2ID8gY2xhc3NlcyA6IFsuLi5jbGFzc2VzLCBcIkRpc2FibGVkXCJdLFxuICAgICAgICAgICAgICAgIGdvTmV4dDogY2FuR29OZXh0ID8gY2xhc3NlcyA6IFsuLi5jbGFzc2VzLCBcIkRpc2FibGVkXCJdLFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgKVxuICAgIGNvbnN0IGNsYXNzZXNzID0gY2xhc3Nlc3NWYXJzKClcblxuICAgIGZ1bmN0aW9uIHJhaXNlUGxheWVyKCkge1xuICAgICAgICBpZiAocGxheWVyLmdldF9jYW5fcmFpc2UoKSkge1xuICAgICAgICAgICAgcGxheWVyLnJhaXNlKClcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNsaWVudHMgPSBoeXBybGFuZC5nZXRfY2xpZW50cygpXG4gICAgICAgIGNvbnN0IGNsaWVudCA9IGNsaWVudHMuZmluZCgoYykgPT4ge1xuICAgICAgICAgICAgY29uc3QgX2NsYXNzID0gYy5jbGFzcy50b0xvd2VyQ2FzZSgpXG5cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgX2NsYXNzLmluY2x1ZGVzKHBsYXllci5idXNOYW1lLnRvTG93ZXJDYXNlKCkpIHx8XG4gICAgICAgICAgICAgICAgX2NsYXNzLmluY2x1ZGVzKHBsYXllci5lbnRyeS50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgICAgKVxuICAgICAgICB9KVxuXG4gICAgICAgIGlmIChjbGllbnQpIHtcbiAgICAgICAgICAgIGh5cHJsYW5kLmRpc3BhdGNoKFwiZm9jdXN3aW5kb3dcIiwgYGNsYXNzOiR7Y2xpZW50LmNsYXNzfWApXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8Ym94IG5hbWU9e1wiTWVkaWFcIn0gdmFsaWduPXtHdGsuQWxpZ24uQ0VOVEVSfSBjc3NDbGFzc2VzPXtbXCJNZWRpYVwiXX0+XG4gICAgICAgICAgICA8Ym94XG4gICAgICAgICAgICAgICAgbmFtZT17XCJNZWRpYVBsYXliYWNrXCJ9XG4gICAgICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiTWVkaWFQbGF5YmFja1wiXX1cbiAgICAgICAgICAgICAgICBvbkRlc3Ryb3k9eygpID0+IGNsYXNzZXNzVmFycy5kcm9wKCl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBuYW1lPXtcIk1lZGlhUGxheWJhY2tCdXR0b25QcmV2aW91c1wifVxuICAgICAgICAgICAgICAgICAgICBjc3NDbGFzc2VzPXtjbGFzc2Vzcy5hcygoYykgPT4gYy5nb1ByZXYpfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrZWQ9eygpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuZ2V0X2Nhbl9nb19wcmV2aW91cygpICYmIHBsYXllci5wcmV2aW91cygpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcFRleHQ9e1wiUHJldmlvdXMgVHJhY2tcIn1cbiAgICAgICAgICAgICAgICAgICAgaGFsaWduPXtHdGsuQWxpZ24uQ0VOVEVSfVxuICAgICAgICAgICAgICAgICAgICBjdXJzb3I9e2dvUHJldkN1cnNvcn1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBsYWJlbD17XCJcdUYwNEFcIn0gaGV4cGFuZD17dHJ1ZX0gLz5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgbmFtZT17XCJNZWRpYVBsYXliYWNrQnV0dG9uUGxheVBhdXNlXCJ9XG4gICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIkljb25cIiwgXCJNZWRpYVBsYXliYWNrQnV0dG9uXCJdfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrZWQ9eygpID0+IHBsYXllci5wbGF5X3BhdXNlKCl9XG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXBUZXh0PXtcIlBsYXkvUGF1c2VcIn1cbiAgICAgICAgICAgICAgICAgICAgaGFsaWduPXtHdGsuQWxpZ24uQ0VOVEVSfVxuICAgICAgICAgICAgICAgICAgICBjdXJzb3I9e3BvaW50ZXJ9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgbGFiZWw9e3BsYXlJY29ufSBoZXhwYW5kPXt0cnVlfSAvPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBuYW1lPXtcIk1lZGlhUGxheWJhY2tCdXR0b25OZXh0XCJ9XG4gICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e2NsYXNzZXNzLmFzKChjKSA9PiBjLmdvTmV4dCl9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2tlZD17KCkgPT4gcGxheWVyLmdldF9jYW5fZ29fbmV4dCgpICYmIHBsYXllci5uZXh0KCl9XG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXBUZXh0PXtcIk5leHQgVHJhY2tcIn1cbiAgICAgICAgICAgICAgICAgICAgaGFsaWduPXtHdGsuQWxpZ24uQ0VOVEVSfVxuICAgICAgICAgICAgICAgICAgICBjdXJzb3I9e2dvTmV4dEN1cnNvcn1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBsYWJlbD17XCJcdUYwNEVcIn0gaGV4cGFuZD17dHJ1ZX0gLz5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvYm94PlxuXG4gICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2tlZD17cmFpc2VQbGF5ZXJ9IGN1cnNvcj17cG9pbnRlcn0+XG4gICAgICAgICAgICAgICAgPGltYWdlXG4gICAgICAgICAgICAgICAgICAgIG5hbWU9e1wiTWVkaWFJbWFnZUNvdmVyQXJ0XCJ9XG4gICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIk1lZGlhSW1hZ2VDb3ZlckFydFwiXX1cbiAgICAgICAgICAgICAgICAgICAgZmlsZT17Y292ZXJBcnR9XG4gICAgICAgICAgICAgICAgICAgIHBpeGVsU2l6ZT17MzJ9XG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93PXtHdGsuT3ZlcmZsb3cuSElEREVOfVxuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlPXt0cnVlfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG5hbWU9e1wiTWVkaWFUaXRsZUJ1dHRvblwifVxuICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIk1lZGlhVGl0bGVCdXR0b25cIl19XG4gICAgICAgICAgICAgICAgY3Vyc29yPXtwb2ludGVyfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2tlZD17cmFpc2VQbGF5ZXJ9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU9e1wiTWVkaWFUaXRsZUJ1dHRvbkxhYmVsXCJ9XG4gICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIk1lZGlhVGl0bGVCdXR0b25MYWJlbFwiXX1cbiAgICAgICAgICAgICAgICAgICAgbGFiZWw9e3RpdGxlfVxuICAgICAgICAgICAgICAgICAgICBoYWxpZ249e0d0ay5BbGlnbi5DRU5URVJ9XG4gICAgICAgICAgICAgICAgICAgIHZhbGlnbj17R3RrLkFsaWduLkNFTlRFUn1cbiAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGhDaGFycz17MzZ9XG4gICAgICAgICAgICAgICAgICAgIGVsbGlwc2l6ZT17UGFuZ28uRWxsaXBzaXplTW9kZS5NSURETEV9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2JveD5cbiAgICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IE1lZGlhXG4iLCAiaW1wb3J0IHsgR3RrIH0gZnJvbSBcImFzdGFsL2d0azRcIlxuaW1wb3J0IFRyYXkgZnJvbSBcIi4vTW9kdWxlcy9UcmF5XCJcbmltcG9ydCBNZWRpYSBmcm9tIFwiLi9Nb2R1bGVzL01lZGlhXCJcbmltcG9ydCB7IGJpbmQgfSBmcm9tIFwiYXN0YWxcIlxuaW1wb3J0IEFzdGFsTXByaXMgZnJvbSBcImdpOi8vQXN0YWxNcHJpcz92ZXJzaW9uPTAuMVwiXG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2VudGVyUHJvcHMge1xuICAgIG5hbWU6IHN0cmluZ1xufVxuXG5jb25zdCBDZW50ZXIgPSAoeyBuYW1lIH06IENlbnRlclByb3BzKSA9PiB7XG4gICAgY29uc3QgbXByaXMgPSBBc3RhbE1wcmlzLmdldF9kZWZhdWx0KClcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxib3hcbiAgICAgICAgICAgIG5hbWU9e2BCYXJDZW50ZXItJHtuYW1lfWB9XG4gICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJCYXJTZWN0aW9uXCIsIFwiQmFyQ2VudGVyXCJdfVxuICAgICAgICAgICAgaGV4cGFuZD17dHJ1ZX1cbiAgICAgICAgICAgIGhhbGlnbj17R3RrLkFsaWduLkNFTlRFUn1cbiAgICAgICAgPlxuICAgICAgICAgICAge2JpbmQobXByaXMsIFwicGxheWVyc1wiKS5hcygocGxheWVycykgPT4gKFxuICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgIDxNZWRpYSBwbGF5ZXI9e3BsYXllcnNbMF19IC8+XG5cbiAgICAgICAgICAgICAgICAgICAge3BsYXllcnNbMF0gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPEd0ay5TZXBhcmF0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmllbnRhdGlvbj17R3RrLk9yaWVudGF0aW9uLlZFUlRJQ0FMfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU9e3RydWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKSl9XG5cbiAgICAgICAgICAgIDxUcmF5IC8+XG4gICAgICAgIDwvYm94PlxuICAgIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2VudGVyXG4iLCAiaW1wb3J0IHsgVmFyaWFibGUgfSBmcm9tIFwiYXN0YWxcIlxuaW1wb3J0IHsgQXBwLCBHZGssIEd0ayB9IGZyb20gXCJhc3RhbC9ndGs0XCJcblxuY29uc3QgZGF0ZXRpbWUgPSBWYXJpYWJsZSh7XG4gICAgZGF0ZTogXCJcIixcbiAgICB0aW1lOiBcIlwiLFxufSkucG9sbCgxMDAwLCBcImRhdGUgKyclYSwgJWIgJWR8JUg6JU06JVMnXCIsIChvdXRwdXQpID0+IHtcbiAgICBjb25zdCBbZGF0ZSwgdGltZV0gPSBvdXRwdXQuc3BsaXQoXCJ8XCIpXG4gICAgcmV0dXJuIHsgZGF0ZSwgdGltZSB9XG59KVxuXG5pbnRlcmZhY2UgVGltZVByb3BzIHtcbiAgICBnZGttb25pdG9yOiBHZGsuTW9uaXRvclxufVxuXG5jb25zdCBUaW1lID0gKHsgZ2RrbW9uaXRvciB9OiBUaW1lUHJvcHMpID0+IHtcbiAgICBjb25zdCBfZGF0ZXRpbWUgPSBkYXRldGltZSgpXG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8Ym94IG5hbWU9e2BUaW1lYH0gY3NzQ2xhc3Nlcz17W1wiQmFyU2VjdGlvblwiLCBcIkJhckVuZFwiXX0gaGV4cGFuZD17dHJ1ZX0+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgbmFtZT17XCJFbmQtQnV0dG9uXCJ9XG4gICAgICAgICAgICAgICAgb25DbGlja2VkPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIEFwcC50b2dnbGVfd2luZG93KGBRdWlja1NldHRpbmctJHtnZGttb25pdG9yLmNvbm5lY3Rvcn1gKVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGJveD5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGxhYmVsPXtfZGF0ZXRpbWUuYXMoKGQpID0+IGQuZGF0ZSArIFwiIFwiKX0gLz5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGxhYmVsPXtfZGF0ZXRpbWUuYXMoKGQpID0+IGQudGltZSl9IC8+XG4gICAgICAgICAgICAgICAgPC9ib3g+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9ib3g+XG4gICAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBUaW1lXG4iLCAiaW1wb3J0IHsgR2RrLCBHdGsgfSBmcm9tIFwiYXN0YWwvZ3RrNFwiXG5pbXBvcnQgVGltZSBmcm9tIFwiLi9Nb2R1bGVzL1RpbWVcIlxuXG5leHBvcnQgaW50ZXJmYWNlIEVuZFByb3BzIHtcbiAgICBuYW1lOiBzdHJpbmdcbiAgICBnZGttb25pdG9yOiBHZGsuTW9uaXRvclxufVxuXG5jb25zdCBFbmQgPSAoeyBuYW1lLCBnZGttb25pdG9yIH06IEVuZFByb3BzKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPGJveFxuICAgICAgICAgICAgbmFtZT17YEJhckVuZC0ke25hbWV9YH1cbiAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIkJhclNlY3Rpb25cIiwgXCJCYXJFbmRcIl19XG4gICAgICAgICAgICBoZXhwYW5kPXt0cnVlfVxuICAgICAgICAgICAgaGFsaWduPXtHdGsuQWxpZ24uRU5EfVxuICAgICAgICA+XG4gICAgICAgICAgICA8VGltZSBnZGttb25pdG9yPXtnZGttb25pdG9yfSAvPlxuICAgICAgICA8L2JveD5cbiAgICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IEVuZFxuIiwgImltcG9ydCB7IEFwcCwgQXN0YWwsIEdkaywgR3RrIH0gZnJvbSBcImFzdGFsL2d0azRcIlxuaW1wb3J0IFN0YXJ0IGZyb20gXCIuL1N0YXJ0XCJcbmltcG9ydCBDZW50ZXIgZnJvbSBcIi4vQ2VudGVyXCJcbmltcG9ydCBFbmQgZnJvbSBcIi4vRW5kXCJcblxuZXhwb3J0IGludGVyZmFjZSBCYXJQcm9wcyB7XG4gICAgZ2RrbW9uaXRvcjogR2RrLk1vbml0b3Jcbn1cblxuY29uc3QgQmFyID0gKHsgZ2RrbW9uaXRvciB9OiBCYXJQcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgVE9QLCBMRUZULCBSSUdIVCB9ID0gQXN0YWwuV2luZG93QW5jaG9yXG4gICAgY29uc3QgbmFtZSA9IGBCYXItJHtnZGttb25pdG9yLmNvbm5lY3Rvcn1gXG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8d2luZG93XG4gICAgICAgICAgICBuYW1lPXtuYW1lfVxuICAgICAgICAgICAgbmFtZXNwYWNlPXtcIkJhclwifVxuICAgICAgICAgICAgYXBwbGljYXRpb249e0FwcH1cbiAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIkJhclwiXX1cbiAgICAgICAgICAgIGdka21vbml0b3I9e2dka21vbml0b3J9XG4gICAgICAgICAgICBhbmNob3I9e1RPUCB8IExFRlQgfCBSSUdIVH1cbiAgICAgICAgICAgIGV4Y2x1c2l2aXR5PXtBc3RhbC5FeGNsdXNpdml0eS5FWENMVVNJVkV9XG4gICAgICAgICAgICB2aXNpYmxlPXt0cnVlfVxuICAgICAgICAgICAgc2V0dXA9eyhzZWxmKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Z2l0aHViLmNvbS93bXd3L2d0azQtbGF5ZXItc2hlbGwvaXNzdWVzLzYwXG4gICAgICAgICAgICAgICAgc2VsZi5zZXRfZGVmYXVsdF9zaXplKDEsIDEpXG4gICAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgICA8Y2VudGVyYm94XG4gICAgICAgICAgICAgICAgbmFtZT17bmFtZX1cbiAgICAgICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJCYXJDZW50ZXJib3hcIl19XG4gICAgICAgICAgICAgICAgc3RhcnRXaWRnZXQ9ezxTdGFydCBuYW1lPXtuYW1lfSAvPn1cbiAgICAgICAgICAgICAgICBjZW50ZXJXaWRnZXQ9ezxDZW50ZXIgbmFtZT17bmFtZX0gLz59XG4gICAgICAgICAgICAgICAgZW5kV2lkZ2V0PXs8RW5kIG5hbWU9e25hbWV9IGdka21vbml0b3I9e2dka21vbml0b3J9IC8+fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgPC93aW5kb3c+XG4gICAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBCYXJcbiIsICJpbXBvcnQgeyBBcHAsIEFzdGFsLCBHZGssIEd0ayB9IGZyb20gXCJhc3RhbC9ndGs0XCJcblxuZXhwb3J0IGludGVyZmFjZSBQb3BvdmVyUHJvcHMge1xuICAgIGNoaWxkPzogR3RrLldpZGdldFxuICAgIG5hbWU6IHN0cmluZ1xuICAgIGdka21vbml0b3I6IEdkay5Nb25pdG9yXG4gICAgdmlzaWJsZT86IGJvb2xlYW5cbiAgICBjc3NDbGFzc2VzPzogc3RyaW5nW11cbn1cblxuY29uc3QgUG9wb3ZlciA9ICh7XG4gICAgY2hpbGQsXG4gICAgbmFtZSxcbiAgICBnZGttb25pdG9yLFxuICAgIHZpc2libGUsXG4gICAgY3NzQ2xhc3Nlcyxcbn06IFBvcG92ZXJQcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgVE9QLCBSSUdIVCwgQk9UVE9NLCBMRUZUIH0gPSBBc3RhbC5XaW5kb3dBbmNob3JcblxuICAgIHJldHVybiAoXG4gICAgICAgIDx3aW5kb3dcbiAgICAgICAgICAgIG5hbWU9e25hbWV9XG4gICAgICAgICAgICBuYW1lc3BhY2U9e1wiUG9wb3ZlclwifVxuICAgICAgICAgICAgYXBwbGljYXRpb249e0FwcH1cbiAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIlBvcG92ZXJcIiwgLi4uKGNzc0NsYXNzZXMgfHwgW10pXX1cbiAgICAgICAgICAgIGdka21vbml0b3I9e2dka21vbml0b3J9XG4gICAgICAgICAgICBsYXllcj17QXN0YWwuTGF5ZXIuVE9QfVxuICAgICAgICAgICAga2V5bW9kZT17QXN0YWwuS2V5bW9kZS5PTl9ERU1BTkR9XG4gICAgICAgICAgICBhbmNob3I9e1RPUCB8IFJJR0hUIHwgQk9UVE9NIHwgTEVGVH1cbiAgICAgICAgICAgIHZpc2libGU9e3Zpc2libGUgfHwgZmFsc2V9XG4gICAgICAgICAgICBzZXR1cD17KHNlbGYpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBodHRwczpnaXRodWIuY29tL3dtd3cvZ3RrNC1sYXllci1zaGVsbC9pc3N1ZXMvNjBcbiAgICAgICAgICAgICAgICBzZWxmLnNldF9kZWZhdWx0X3NpemUoMSwgMSlcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBvbktleVByZXNzZWQ9eyhfZXZlbnQsIGtleXZhbCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChrZXl2YWwgPT09IEdkay5LRVlfRXNjYXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIEFwcC50b2dnbGVfd2luZG93KG5hbWUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgICAgPGJveCBjc3NDbGFzc2VzPXtbXX0+XG4gICAgICAgICAgICAgICAgPFBhZGRpbmcgbmFtZT17bmFtZX0gLz5cblxuICAgICAgICAgICAgICAgIDxib3ggdmVydGljYWwgaGV4cGFuZD17ZmFsc2V9PlxuICAgICAgICAgICAgICAgICAgICB7Y2hpbGR9XG5cbiAgICAgICAgICAgICAgICAgICAgPFBhZGRpbmcgbmFtZT17bmFtZX0gLz5cbiAgICAgICAgICAgICAgICA8L2JveD5cbiAgICAgICAgICAgIDwvYm94PlxuICAgICAgICA8L3dpbmRvdz5cbiAgICApXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFkZGluZ1Byb3BzIHtcbiAgICBuYW1lOiBzdHJpbmdcbn1cblxuY29uc3QgUGFkZGluZyA9ICh7IG5hbWUgfTogUGFkZGluZ1Byb3BzKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiUGFkZGluZ1wiLCBcIkRlYnVnXCJdfVxuICAgICAgICAgICAgY2FuRm9jdXM9e2ZhbHNlfVxuICAgICAgICAgICAgb25DbGlja2VkPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgQXBwLnRvZ2dsZV93aW5kb3cobmFtZSlcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBoZXhwYW5kXG4gICAgICAgICAgICB2ZXhwYW5kXG4gICAgICAgIC8+XG4gICAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBQb3BvdmVyXG4iLCAiaW1wb3J0IHsgQXN0YWwsIEd0ayB9IGZyb20gXCJhc3RhbC9ndGs0XCJcbmltcG9ydCBQYW5nbyBmcm9tIFwiZ2k6Ly9QYW5nbz92ZXJzaW9uPTEuMFwiXG5cbmludGVyZmFjZSBCdXR0b25Qcm9wcyB7XG4gICAgaWNvbjogc3RyaW5nXG4gICAgbGFiZWwxOiBzdHJpbmdcbiAgICBsYWJlbDI6IHN0cmluZ1xufVxuXG5jb25zdCBCdXR0b24gPSAoeyBpY29uLCBsYWJlbDEsIGxhYmVsMiB9OiBCdXR0b25Qcm9wcykgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxidXR0b24gY3NzQ2xhc3Nlcz17W1wiUXVpY2tTZXR0aW5nQnV0dG9uXCJdfSBoZXhwYW5kPXt0cnVlfT5cbiAgICAgICAgICAgIDxib3ggc3BhY2luZz17MTZ9IGhhbGlnbj17R3RrLkFsaWduLkZJTEx9IHZhbGlnbj17R3RrLkFsaWduLkNFTlRFUn0+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNzc0NsYXNzZXM9e1tcIkljb25cIl19IGxhYmVsPXtpY29ufSAvPlxuXG4gICAgICAgICAgICAgICAgPGJveFxuICAgICAgICAgICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJMYWJlbHNcIl19XG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgICB2YWxpZ249e0d0ay5BbGlnbi5DRU5URVJ9XG4gICAgICAgICAgICAgICAgICAgIGhhbGlnbj17R3RrLkFsaWduLlNUQVJUfVxuICAgICAgICAgICAgICAgICAgICBoZXhwYW5kPXt0cnVlfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJMYWJlbDFcIl19XG4gICAgICAgICAgICAgICAgICAgICAgICBoYWxpZ249e0d0ay5BbGlnbi5TVEFSVH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXtsYWJlbDF9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGhDaGFycz17MTV9XG4gICAgICAgICAgICAgICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJMYWJlbDJcIl19XG4gICAgICAgICAgICAgICAgICAgICAgICBoYWxpZ249e0d0ay5BbGlnbi5TVEFSVH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXtsYWJlbDJ9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9ib3g+XG5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY3NzQ2xhc3Nlcz17W1wiSWNvblwiLCBcIkNoZXZyb25cIl19IGxhYmVsPXtcIlx1RjA1NFwifSAvPlxuICAgICAgICAgICAgPC9ib3g+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uXG4iLCAiaW1wb3J0IHsgR3RrIH0gZnJvbSBcImFzdGFsL2d0azRcIlxuXG5pbnRlcmZhY2UgQnV0dG9uUHJvcHMge1xuICAgIGljb246IHN0cmluZ1xufVxuXG5jb25zdCBCdXR0b25TbWFsbCA9ICh7IGljb24gfTogQnV0dG9uUHJvcHMpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8YnV0dG9uIGNzc0NsYXNzZXM9e1tcIlF1aWNrU2V0dGluZ0J1dHRvblwiLCBcIlNtYWxsXCJdfSBoZXhwYW5kPXt0cnVlfT5cbiAgICAgICAgICAgIDxib3ggY3NzQ2xhc3Nlcz17W1wiSWNvblwiXX0gaGFsaWduPXtHdGsuQWxpZ24uQ0VOVEVSfT5cbiAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiXCJdfVxuICAgICAgICAgICAgICAgICAgICBsYWJlbD17aWNvbn1cbiAgICAgICAgICAgICAgICAgICAgaGV4cGFuZD17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgdmV4cGFuZD17ZmFsc2V9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvYm94PlxuICAgICAgICA8L2J1dHRvbj5cbiAgICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvblNtYWxsXG4iLCAiaW1wb3J0IHsgQXBwLCBHZGssIEd0ayB9IGZyb20gXCJhc3RhbC9ndGs0XCJcbmltcG9ydCBQb3BvdmVyIGZyb20gXCIuLi9jb21tb25zL1BvcG92ZXJcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwiLi9CdXR0b25cIlxuaW1wb3J0IEJ1dHRvblNtYWxsIGZyb20gXCIuL0J1dHRvblNtYWxsXCJcbmltcG9ydCBBc3RhbFdwIGZyb20gXCJnaTovL0FzdGFsV3A/dmVyc2lvbj0wLjFcIlxuaW1wb3J0IHsgYmluZCB9IGZyb20gXCJhc3RhbFwiXG5pbXBvcnQgeyBkZWJvdW5jZSB9IGZyb20gXCIuLi8uLi9saWIvdXRpbHNcIlxuXG5leHBvcnQgaW50ZXJmYWNlIFF1aWNrU2V0dGluZ1Byb3BzIHtcbiAgICBnZGttb25pdG9yOiBHZGsuTW9uaXRvclxuICAgIHZpc2libGU/OiBib29sZWFuXG59XG5cbmNvbnN0IFF1aWNrU2V0dGluZyA9ICh7IGdka21vbml0b3IsIHZpc2libGUgfTogUXVpY2tTZXR0aW5nUHJvcHMpID0+IHtcbiAgICBjb25zdCBuYW1lID0gYFF1aWNrU2V0dGluZy0ke2dka21vbml0b3IuY29ubmVjdG9yfWBcbiAgICBjb25zdCBzcGVha2VyID0gQXN0YWxXcC5nZXRfZGVmYXVsdCgpPy5hdWRpbyEuZGVmYXVsdFNwZWFrZXIhXG5cbiAgICBjb25zdCBkZWJvdW5jZWRTZXRWb2x1bWUgPSBkZWJvdW5jZSgodmFsdWU6IG51bWJlcikgPT4ge1xuICAgICAgICBzcGVha2VyLnZvbHVtZSA9IHZhbHVlXG4gICAgfSwgMTAwKVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPFBvcG92ZXJcbiAgICAgICAgICAgIG5hbWU9e25hbWV9XG4gICAgICAgICAgICBnZGttb25pdG9yPXtnZGttb25pdG9yfVxuICAgICAgICAgICAgdmlzaWJsZT17dmlzaWJsZX1cbiAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIlF1aWNrU2V0dGluZ1wiXX1cbiAgICAgICAgPlxuICAgICAgICAgICAgPGJveFxuICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIlF1aWNrU2V0dGluZ0NvbnRhaW5lclwiXX1cbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbD17dHJ1ZX1cbiAgICAgICAgICAgICAgICBzcGFjaW5nPXsxMH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8Ym94XG4gICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIlF1aWNrU2V0dGluZ1Jvd1wiXX1cbiAgICAgICAgICAgICAgICAgICAgaGV4cGFuZD17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgaGFsaWduPXtHdGsuQWxpZ24uQ0VOVEVSfVxuICAgICAgICAgICAgICAgICAgICBzcGFjaW5nPXsxMH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b24gaWNvbj17XCJcdURCODFcdUREQTlcIn0gbGFiZWwxPXtcIldpLUZpXCJ9IGxhYmVsMj17XCJUU0w3N1wifSAvPlxuXG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGljb249e1wiXHVEQjgwXHVEQ0FGXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDE9e1wiQmx1ZXRvb3RoXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDI9e1wiTm9raWEgRTM1MTFcIn1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2JveD5cblxuICAgICAgICAgICAgICAgIDxib3ggY3NzQ2xhc3Nlcz17W1wiUXVpY2tTZXR0aW5nUm93XCJdfSBzcGFjaW5nPXsxMH0+XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25TbWFsbCBpY29uPXtcIlx1REI4MVx1REM5OVwifSAvPlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uU21hbGwgaWNvbj17XCJcdURCODBcdURDOUNcIn0gLz5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblNtYWxsIGljb249e1wiXHVEQjgwXHVERTBBXCJ9IC8+XG4gICAgICAgICAgICAgICAgPC9ib3g+XG5cbiAgICAgICAgICAgICAgICA8Ym94IGNzc0NsYXNzZXM9e1tcIlF1aWNrU2V0dGluZ1Jvd1wiXX0gc3BhY2luZz17MTB9PlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uU21hbGwgaWNvbj17XCJcdURCODBcdURDODBcIn0gLz5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblNtYWxsIGljb249e1wiXHVEQjgxXHVEQ0MzXCJ9IC8+XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25TbWFsbCBpY29uPXtcIlx1REI4Nlx1RENGNFwifSAvPlxuICAgICAgICAgICAgICAgIDwvYm94PlxuXG4gICAgICAgICAgICAgICAgPGJveFxuICAgICAgICAgICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJRdWlja1NldHRpbmdSb3dcIl19XG4gICAgICAgICAgICAgICAgICAgIHNwYWNpbmc9ezEwfVxuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbD17dHJ1ZX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxib3ggdmFsaWduPXtHdGsuQWxpZ24uQ0VOVEVSfSBzcGFjaW5nPXsxMH0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uTmFtZT17YmluZChzcGVha2VyLCBcInZvbHVtZUljb25cIil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWduPXtHdGsuQWxpZ24uQ0VOVEVSfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25TaXplPXtHdGsuSWNvblNpemUuTEFSR0V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxTaXplPXsyMH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzbGlkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZVZhbHVlPXsoc2VsZikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWJvdW5jZWRTZXRWb2x1bWUoc2VsZi52YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtiaW5kKHNwZWFrZXIsIFwidm9sdW1lXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhleHBhbmQ9e3RydWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L2JveD5cbiAgICAgICAgICAgICAgICA8L2JveD5cbiAgICAgICAgICAgIDwvYm94PlxuICAgICAgICA8L1BvcG92ZXI+XG4gICAgKVxufVxuXG5jb25zdCBRdWlja1NldHRpbmdJbml0ID0gKHsgZ2RrbW9uaXRvciB9OiBRdWlja1NldHRpbmdQcm9wcykgPT4ge1xuICAgIGNvbnN0IHcgPSBRdWlja1NldHRpbmcoe1xuICAgICAgICBnZGttb25pdG9yOiBnZGttb25pdG9yLFxuICAgICAgICAvLyB2aXNpYmxlOiBnZGttb25pdG9yLm1hbnVmYWN0dXJlciA9PT0gXCJIS0MgT1ZFUlNFQVMgTElNSVRFRFwiLFxuICAgIH0pXG5cbiAgICBBcHAuY29ubmVjdChcIndpbmRvdy10b2dnbGVkXCIsIChfc291cmNlLCB3aW5kb3cpID0+IHtcbiAgICAgICAgaWYgKHdpbmRvdy5nZXRfbmFtZSgpID09PSBgUXVpY2tTZXR0aW5nLSR7Z2RrbW9uaXRvci5tYW51ZmFjdHVyZXJ9YCkge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICByZXR1cm4gd1xufVxuXG5leHBvcnQgZGVmYXVsdCBRdWlja1NldHRpbmdJbml0XG4iLCAiIyEvdXNyL2Jpbi9nanMgLW1cblxuaW1wb3J0IHsgQXBwLCBBc3RhbCwgR2RrLCBHdGsgfSBmcm9tIFwiYXN0YWwvZ3RrNFwiXG5pbXBvcnQgc3R5bGUgZnJvbSBcIi4vc3R5bGVzL3N0eWxlcy5zY3NzXCJcbmltcG9ydCBCYXIgZnJvbSBcIi4vd2lkZ2V0cy9CYXIvQmFyXCJcbmltcG9ydCBRdWlja1NldHRpbmcgZnJvbSBcIi4vd2lkZ2V0cy9RdWlja1NldHRpbmcvUXVpY2tTZXR0aW5nXCJcbmltcG9ydCBBc3RhbEh5cHJsYW5kIGZyb20gXCJnaTovL0FzdGFsSHlwcmxhbmQ/dmVyc2lvbj0wLjFcIlxuaW1wb3J0IHsgZXhlY0FzeW5jLCBHaW8gfSBmcm9tIFwiYXN0YWxcIlxuaW1wb3J0IEFzdGFsVHJheSBmcm9tIFwiZ2k6Ly9Bc3RhbFRyYXk/dmVyc2lvbj0wLjFcIlxuaW1wb3J0IFZvbHVtZSBmcm9tIFwiLi93aWRnZXRzL09zZC9Wb2x1bWVcIlxuaW1wb3J0IE5vdGlmaWNhdGlvblBvcHVwIGZyb20gXCIuL3dpZGdldHMvTm90aWZpY2F0aW9uL05vdGlmaWNhdGlvblBvcHVwXCJcblxuZnVuY3Rpb24gaW5pdE1vbml0b3IoZ2RrbW9uaXRvcjogR2RrLk1vbml0b3IpIHtcbiAgICByZXR1cm4gW1xuICAgICAgICBOb3RpZmljYXRpb25Qb3B1cCh7IGdka21vbml0b3IgfSksXG4gICAgICAgIFZvbHVtZSh7IGdka21vbml0b3IgfSksXG4gICAgICAgIEJhcih7IGdka21vbml0b3IgfSksXG4gICAgICAgIFF1aWNrU2V0dGluZyh7IGdka21vbml0b3IgfSksXG4gICAgXSBhcyBBc3RhbC5XaW5kb3dbXVxufVxuXG5jb25zdCBoeXBybGFuZCA9IEFzdGFsSHlwcmxhbmQuZ2V0X2RlZmF1bHQoKVxuY29uc3Qgd2luZG93cyA9IG5ldyBNYXA8R2RrLk1vbml0b3IsIEFzdGFsLldpbmRvd1tdPigpXG5jb25zdCBoeXByTW9uaXRvcnMgPSBuZXcgTWFwPG51bWJlciwgQXN0YWxIeXBybGFuZC5Nb25pdG9yPigpXG5cbmZ1bmN0aW9uIG9uTW9uaXRvckFkZGVkKFxuICAgIF9zb3VyY2U6IEFzdGFsSHlwcmxhbmQuSHlwcmxhbmQsXG4gICAgbW9uaXRvcjogQXN0YWxIeXBybGFuZC5Nb25pdG9yXG4pIHtcbiAgICBoeXByTW9uaXRvcnMuc2V0KG1vbml0b3IuaWQsIG1vbml0b3IpXG5cbiAgICBjb25zdCBnZGttb25pdG9yID0gQXBwLmdldF9tb25pdG9ycygpLmZpbmQoXG4gICAgICAgIChtKSA9PiBtLmNvbm5lY3RvciA9PT0gbW9uaXRvci5uYW1lXG4gICAgKVxuXG4gICAgaWYgKGdka21vbml0b3IpIHtcbiAgICAgICAgd2luZG93cy5zZXQoZ2RrbW9uaXRvciwgaW5pdE1vbml0b3IoZ2RrbW9uaXRvcikpXG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbk1vbml0b3JSZW1vdmVkKF9zb3VyY2U6IEFzdGFsSHlwcmxhbmQuSHlwcmxhbmQsIGlkOiBudW1iZXIpIHtcbiAgICBjb25zdCBtb25pdG9yID0gaHlwck1vbml0b3JzLmdldChpZClcblxuICAgIGlmICghbW9uaXRvcikge1xuICAgICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBnZGttb25pdG9yID0gQXBwLmdldF9tb25pdG9ycygpLmZpbmQoXG4gICAgICAgIChtKSA9PiBtLmNvbm5lY3RvciA9PT0gbW9uaXRvci5uYW1lXG4gICAgKVxuXG4gICAgaWYgKGdka21vbml0b3IpIHtcbiAgICAgICAgY29uc3Qgd2luZG93c1RvUmVtb3ZlID0gd2luZG93cy5nZXQoZ2RrbW9uaXRvcilcblxuICAgICAgICBpZiAod2luZG93c1RvUmVtb3ZlKSB7XG4gICAgICAgICAgICB3aW5kb3dzVG9SZW1vdmUuZm9yRWFjaCgod2luZG93KSA9PiB3aW5kb3cuZGVzdHJveSgpKVxuXG4gICAgICAgICAgICB3aW5kb3dzLmRlbGV0ZShnZGttb25pdG9yKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaHlwck1vbml0b3JzLmRlbGV0ZShpZClcbn1cblxuZnVuY3Rpb24gcmVpbml0KCkge1xuICAgIC8vIHJlbW92ZSBhbGwgZXhpc3Rpbmcgd2luZG93c1xuICAgIHdpbmRvd3MuZm9yRWFjaCgod2luTGlzdCwgZ2RrbW9uaXRvcikgPT4ge1xuICAgICAgICB3aW5MaXN0LmZvckVhY2goKHdpbmRvdykgPT4gd2luZG93LmRlc3Ryb3koKSlcbiAgICAgICAgd2luZG93cy5kZWxldGUoZ2RrbW9uaXRvcilcbiAgICB9KVxuXG4gICAgLy8gcmVpbml0aWFsaXplIG1vbml0b3JzXG4gICAgaHlwcmxhbmQuZ2V0X21vbml0b3JzKCkuZm9yRWFjaCgobW9uaXRvcikgPT4ge1xuXG4gICAgICAgIGNvbnN0IGdka21vbml0b3IgPSBBcHAuZ2V0X21vbml0b3JzKCkuZmluZChcbiAgICAgICAgICAgIChtKSA9PiBtLmNvbm5lY3RvciA9PT0gbW9uaXRvci5uYW1lXG4gICAgICAgIClcblxuICAgICAgICBpZiAoZ2RrbW9uaXRvcikge1xuICAgICAgICAgICAgd2luZG93cy5zZXQoZ2RrbW9uaXRvciwgaW5pdE1vbml0b3IoZ2RrbW9uaXRvcikpXG4gICAgICAgIH1cbiAgICB9KVxufVxuXG5BcHAuc3RhcnQoe1xuICAgIGluc3RhbmNlTmFtZTogXCJBc3NcIixcbiAgICBjc3M6IHN0eWxlLFxuICAgIG1haW4oKSB7XG4gICAgICAgIGh5cHJsYW5kLmdldF9tb25pdG9ycygpLmZvckVhY2goKG1vbml0b3IpID0+IHtcbiAgICAgICAgICAgIGh5cHJNb25pdG9ycy5zZXQobW9uaXRvci5pZCwgbW9uaXRvcilcblxuXG4gICAgICAgICAgICBjb25zdCBnZGttb25pdG9yID0gQXBwLmdldF9tb25pdG9ycygpLmZpbmQoXG4gICAgICAgICAgICAgICAgKG0pID0+IG0uY29ubmVjdG9yID09PSBtb25pdG9yLm5hbWVcbiAgICAgICAgICAgIClcblxuICAgICAgICAgICAgaWYgKGdka21vbml0b3IpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3dzLnNldChnZGttb25pdG9yLCBpbml0TW9uaXRvcihnZGttb25pdG9yKSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICBoeXBybGFuZC5jb25uZWN0KFwibW9uaXRvci1hZGRlZFwiLCBvbk1vbml0b3JBZGRlZClcbiAgICAgICAgaHlwcmxhbmQuY29ubmVjdChcIm1vbml0b3ItcmVtb3ZlZFwiLCBvbk1vbml0b3JSZW1vdmVkKVxuXG4gICAgICAgIGh5cHJsYW5kLmNvbm5lY3QoXCJzdWJtYXBcIiwgKF9zb3VyY2UsIG5hbWUpID0+IHtcbiAgICAgICAgICAgIGlmIChuYW1lID09PSBcInJlc2l6ZVwiKSB7XG4gICAgICAgICAgICAgICAgZXhlY0FzeW5jKFwibm90aWZ5LXNlbmQgLXQgMTAwMCAnUmVzaXplIG1vZGUgYWN0aXZhdGVkJ1wiKVxuICAgICAgICAgICAgfSBlbHNlIGlmIChuYW1lID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgZXhlY0FzeW5jKFwibm90aWZ5LXNlbmQgLXQgMTAwMCAnQmFjayB0byBub3JtYWwgbW9kZSdcIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9LFxuICAgIHJlcXVlc3RIYW5kbGVyKHJlcXVlc3QsIHJlcykge1xuICAgICAgICBpZiAocmVxdWVzdCA9PSBcInNheSBoaVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzKFwiSGVsbG8gZnJvbSBBc3RhbHRlcyFcIilcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXF1ZXN0ID09PSBcInRyYXlcIikge1xuICAgICAgICAgICAgY29uc3QgdHJheSA9IEFzdGFsVHJheS5nZXRfZGVmYXVsdCgpXG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IHRyYXkuZ2V0X2l0ZW1zKClcblxuICAgICAgICAgICAgaWYgKGl0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMoXCJObyB0cmF5IGl0ZW1zIGZvdW5kXCIpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHRpdGxlcyA9IGl0ZW1zLm1hcCgoaXRlbSkgPT4gaXRlbS50aXRsZSkuam9pbihcIiwgXCIpXG4gICAgICAgICAgICBjb25zdCB0b29sdGlwcyA9IGl0ZW1zLm1hcCgoaXRlbSkgPT4gaXRlbS50b29sdGlwTWFya3VwKS5qb2luKFwiLCBcIilcbiAgICAgICAgICAgIGNvbnN0IGljb25OYW1lcyA9IGl0ZW1zLm1hcCgoaXRlbSkgPT4gaXRlbS5pY29uTmFtZSkuam9pbihcIiwgXCIpXG4gICAgICAgICAgICBjb25zdCBpY29uUGF0aHMgPSBpdGVtcy5tYXAoKGl0ZW0pID0+IGl0ZW0uaWNvblRoZW1lUGF0aCkuam9pbihcIiwgXCIpXG4gICAgICAgICAgICBjb25zdCBqc29ucyA9IGl0ZW1zLm1hcCgoaXRlbSkgPT4gaXRlbS50b19qc29uX3N0cmluZygpKS5qb2luKFwiLFwiKVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzKGBUcmF5IGl0ZW1zOiAke3RpdGxlc31cbiAgICAgICAgICAgICAgICBcXG5Ub29sdGlwczogJHt0b29sdGlwc31cbiAgICAgICAgICAgICAgICBcXG5JY29uczogJHtpY29uTmFtZXN9XG4gICAgICAgICAgICAgICAgXFxuSWNvbiBQYXRoczogJHtpY29uUGF0aHN9XG4gICAgICAgICAgICAgICAgXFxuSlNPTnM6IFske2pzb25zfV1gKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlcXVlc3QgPT0gXCJyZWluaXRcIikge1xuICAgICAgICAgICAgcmVpbml0KClcbiAgICAgICAgICAgIHJldHVybiByZXMoXCJSZWluaXRpYWxpemVkIG1vbml0b3JzXCIpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVxdWVzdC5pbmNsdWRlcyhcInJtbW9uaXRvclwiKSkge1xuICAgICAgICAgICAgY29uc3QgaWQgPSBwYXJzZUludChyZXF1ZXN0LnNwbGl0KFwicm1tb25pdG9yXCIpWzFdLnRyaW0oKSwgMTApXG5cbiAgICAgICAgICAgIGlmIChpc05hTihpZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzKFwiSW52YWxpZCBtb25pdG9yIElEXCIpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9uTW9uaXRvclJlbW92ZWQoaHlwcmxhbmQsIGlkKVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzKFwiTW9uaXRvciByZW1vdmVkXCIpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVxdWVzdC5pbmNsdWRlcyhcImFkZG1vbml0b3JcIikpIHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gcGFyc2VJbnQocmVxdWVzdC5zcGxpdChcImFkZG1vbml0b3JcIilbMV0udHJpbSgpLCAxMClcblxuICAgICAgICAgICAgaWYgKGlzTmFOKGlkKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMoXCJJbnZhbGlkIG1vbml0b3IgSURcIilcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgbW9uaXRvciA9IGh5cHJsYW5kLmdldF9tb25pdG9yKGlkKVxuXG4gICAgICAgICAgICBpZiAobW9uaXRvcikge1xuICAgICAgICAgICAgICAgIG9uTW9uaXRvckFkZGVkKGh5cHJsYW5kLCBtb25pdG9yKVxuICAgICAgICAgICAgICAgIHJldHVybiByZXMoXCJNb25pdG9yIGFkZGVkXCIpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXMoXCJObyBtb25pdG9yIHRvIGFkZFwiKVxuICAgICAgICB9XG5cbiAgICAgICAgcmVzKFwiVW5rbm93biByZXF1ZXN0XCIpXG4gICAgfSxcbn0pXG4iLCAiaW1wb3J0IHsgQXBwLCBBc3RhbCwgR2RrLCBHdGsgfSBmcm9tIFwiYXN0YWwvZ3RrNFwiXG5pbXBvcnQgQXN0YWxXcCBmcm9tIFwiZ2k6Ly9Bc3RhbFdwP3ZlcnNpb249MC4xXCJcbmltcG9ydCB7IEFzdGFsSU8sIHRpbWVvdXQsIFZhcmlhYmxlIH0gZnJvbSBcImFzdGFsXCJcbmltcG9ydCBBc3RhbEh5cHJsYW5kIGZyb20gXCJnaTovL0FzdGFsSHlwcmxhbmQ/dmVyc2lvbj0wLjFcIlxuXG5leHBvcnQgaW50ZXJmYWNlIFZvbHVtZVByb3BzIHtcbiAgICBnZGttb25pdG9yOiBHZGsuTW9uaXRvclxuICAgIG5hbWU6IHN0cmluZ1xufVxuXG5jb25zdCBzcGVha2VyID0gQXN0YWxXcC5nZXRfZGVmYXVsdCgpIS5nZXRfZGVmYXVsdF9zcGVha2VyKClcbmNvbnN0IGh5cHJsYW5kID0gQXN0YWxIeXBybGFuZC5nZXRfZGVmYXVsdCgpXG5cbmNvbnN0IFZvbHVtZUNvbXBvbmVudCA9ICh7IGdka21vbml0b3IsIG5hbWUgfTogVm9sdW1lUHJvcHMpID0+IHtcbiAgICBjb25zdCB2aXNpYmxlID0gVmFyaWFibGUoZmFsc2UpXG4gICAgY29uc3QgaWNvbk5hbWUgPSBWYXJpYWJsZShcIlwiKVxuICAgIGNvbnN0IHZhbHVlID0gVmFyaWFibGUoMClcblxuICAgIGxldCBmaXJzdFRpbWUgPSB0cnVlXG4gICAgbGV0IHRpY2sgPSAwXG4gICAgbGV0IGhpZGVXaW5kb3dUaW1lb3V0OiBBc3RhbElPLlRpbWUgfCB1bmRlZmluZWRcblxuICAgIGZ1bmN0aW9uIHNob3codjogbnVtYmVyLCBpY29uOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKGhpZGVXaW5kb3dUaW1lb3V0KSB7XG4gICAgICAgICAgICBoaWRlV2luZG93VGltZW91dC5jYW5jZWwoKVxuICAgICAgICAgICAgaGlkZVdpbmRvd1RpbWVvdXQgPSB1bmRlZmluZWRcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmaXJzdFRpbWUpIHtcbiAgICAgICAgICAgIGZpcnN0VGltZSA9IGZhbHNlXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHdpbmRvdyA9IEFwcC5nZXRfd2luZG93KG5hbWUpXG5cbiAgICAgICAgd2luZG93Py5zaG93KClcbiAgICAgICAgdmlzaWJsZS5zZXQodHJ1ZSlcbiAgICAgICAgdmFsdWUuc2V0KHYpXG4gICAgICAgIGljb25OYW1lLnNldChpY29uKVxuICAgICAgICB0aWNrKytcblxuICAgICAgICB0aW1lb3V0KDEwMDAsICgpID0+IHtcbiAgICAgICAgICAgIHRpY2stLVxuXG4gICAgICAgICAgICBpZiAodGljayA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHZpc2libGUuc2V0KGZhbHNlKVxuXG4gICAgICAgICAgICAgICAgaGlkZVdpbmRvd1RpbWVvdXQgPSB0aW1lb3V0KDEwMCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3c/LmhpZGUoKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPHdpbmRvd1xuICAgICAgICAgICAgbmFtZT17bmFtZX1cbiAgICAgICAgICAgIGFwcGxpY2F0aW9uPXtBcHB9XG4gICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJWb2x1bWVcIl19XG4gICAgICAgICAgICBnZGttb25pdG9yPXtnZGttb25pdG9yfVxuICAgICAgICAgICAgYW5jaG9yPXtBc3RhbC5XaW5kb3dBbmNob3IuVE9QfVxuICAgICAgICAgICAgbGF5ZXI9e0FzdGFsLkxheWVyLk9WRVJMQVl9XG4gICAgICAgICAgICBleGNsdXNpdml0eT17QXN0YWwuRXhjbHVzaXZpdHkuSUdOT1JFfVxuICAgICAgICAgICAgdmlzaWJsZT17ZmFsc2V9XG4gICAgICAgICAgICBzZXR1cD17KHNlbGYpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBodHRwczpnaXRodWIuY29tL3dtd3cvZ3RrNC1sYXllci1zaGVsbC9pc3N1ZXMvNjBcbiAgICAgICAgICAgICAgICBzZWxmLnNldF9kZWZhdWx0X3NpemUoMSwgMSlcbiAgICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICAgIDxyZXZlYWxlclxuICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIlZvbHVtZVJldmVhbGVyXCJdfVxuICAgICAgICAgICAgICAgIHNldHVwPXsoc2VsZikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzcGVha2VyPy5jb25uZWN0KFwibm90aWZ5Ojp2b2x1bWVcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9jdXNlZE1vbiA9IGh5cHJsYW5kLmdldF9mb2N1c2VkX21vbml0b3IoKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9jdXNlZE1vbi5uYW1lICE9PSBnZGttb25pdG9yLmNvbm5lY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93KHNwZWFrZXIudm9sdW1lLCBzcGVha2VyLnZvbHVtZUljb24pXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICByZXZlYWxDaGlsZD17dHJ1ZX1cbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uVHlwZT17R3RrLlJldmVhbGVyVHJhbnNpdGlvblR5cGUuU0xJREVfRE9XTn1cbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uX2R1cmF0aW9uPXs1MDB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJWb2x1bWVCdXR0b25cIl19XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2tlZD17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZS5zZXQoZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIHZhbGlnbj17R3RrLkFsaWduLkNFTlRFUn1cbiAgICAgICAgICAgICAgICAgICAgaGFsaWduPXtHdGsuQWxpZ24uQ0VOVEVSfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGJveCBzcGFjaW5nPXsxMH0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1hZ2UgaWNvbk5hbWU9e2ljb25OYW1lKCl9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGV2ZWxiYXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZ249e0d0ay5BbGlnbi5DRU5URVJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGhSZXF1ZXN0PXsxMDB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3ZhbHVlKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9e3ZhbHVlKCh2KSA9PiBgJHtNYXRoLmZsb29yKHYgKiAxMDApfSVgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvYm94PlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9yZXZlYWxlcj5cbiAgICAgICAgPC93aW5kb3c+XG4gICAgKVxufVxuXG5jb25zdCBWb2x1bWUgPSAoeyBnZGttb25pdG9yIH06IFBpY2s8Vm9sdW1lUHJvcHMsIFwiZ2RrbW9uaXRvclwiPikgPT4ge1xuICAgIGNvbnN0IG5hbWUgPSBgVm9sdW1lLSR7Z2RrbW9uaXRvci5jb25uZWN0b3J9YFxuICAgIGNvbnN0IHcgPSBWb2x1bWVDb21wb25lbnQoe1xuICAgICAgICBnZGttb25pdG9yOiBnZGttb25pdG9yLFxuICAgICAgICBuYW1lOiBuYW1lLFxuICAgIH0pXG5cbiAgICBBcHAuY29ubmVjdChcIndpbmRvdy10b2dnbGVkXCIsIChfc291cmNlLCB3aW5kb3cpID0+IHtcbiAgICAgICAgaWYgKHdpbmRvdy5nZXRfbmFtZSgpID09PSBuYW1lKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICB9XG4gICAgfSlcblxuICAgIHJldHVybiB3XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZvbHVtZVxuIiwgImltcG9ydCBBc3RhbE5vdGlmZCBmcm9tIFwiZ2k6Ly9Bc3RhbE5vdGlmZD92ZXJzaW9uPTAuMVwiXG5pbXBvcnQgSGVhZGVyIGZyb20gXCIuL0hlYWRlclwiXG5pbXBvcnQgQm9keSBmcm9tIFwiLi9Cb2R5XCJcbmltcG9ydCBGb290ZXIgZnJvbSBcIi4vRm9vdGVyXCJcbmltcG9ydCBUaW1lciBmcm9tIFwiLi4vLi4vc2VydmljZXMvTm90aWZpY2F0aW9uL1RpbWVyXCJcblxuY29uc3Qgbm90aWZkID0gQXN0YWxOb3RpZmQuZ2V0X2RlZmF1bHQoKVxuXG5jb25zdCBOb3RpZmljYXRpb25JdGVtID0gKHsgdGltZXIgfTogeyB0aW1lcjogVGltZXIgfSkgPT4ge1xuICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IG5vdGlmZC5nZXRfbm90aWZpY2F0aW9uKHRpbWVyLmlkKVxuXG4gICAgaWYgKCFub3RpZmljYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8Ym94XG4gICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJOb3RpZmljYXRpb25JdGVtXCJdfVxuICAgICAgICAgICAgdmVydGljYWw9e3RydWV9XG4gICAgICAgICAgICBzZXR1cD17KHNlbGYpID0+IHtcbiAgICAgICAgICAgICAgICBzZWxmLnNldF9jc3NfY2xhc3NlcyhbXG4gICAgICAgICAgICAgICAgICAgIFwiTm90aWZpY2F0aW9uSXRlbVwiLFxuICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb24udXJnZW5jeSA9PT0gQXN0YWxOb3RpZmQuVXJnZW5jeS5DUklUSUNBTFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlVyZ2VudFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwiXCIsXG4gICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBvbkhvdmVyRW50ZXI9eygpID0+IHtcbiAgICAgICAgICAgICAgICB0aW1lci5zdG9wKClcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBvbkhvdmVyTGVhdmU9eygpID0+IHtcbiAgICAgICAgICAgICAgICB0aW1lci5zdGFydCgpXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgc3BhY2luZz17NX1cbiAgICAgICAgPlxuICAgICAgICAgICAgPEhlYWRlciBub3RpZmljYXRpb249e25vdGlmaWNhdGlvbn0gdGljaz17dGltZXIudGlja30gLz5cblxuICAgICAgICAgICAgPEJvZHkgbm90aWZpY2F0aW9uPXtub3RpZmljYXRpb259IC8+XG5cbiAgICAgICAgICAgIDxGb290ZXIgbm90aWZpY2F0aW9uPXtub3RpZmljYXRpb259IC8+XG4gICAgICAgIDwvYm94PlxuICAgIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgTm90aWZpY2F0aW9uSXRlbVxuIiwgImltcG9ydCB7IGJpbmQsIEJpbmRpbmcsIFZhcmlhYmxlIH0gZnJvbSBcImFzdGFsXCJcbmltcG9ydCB7IEd0ayB9IGZyb20gXCJhc3RhbC9ndGs0XCJcbmltcG9ydCBBc3RhbE5vdGlmZCBmcm9tIFwiZ2k6Ly9Bc3RhbE5vdGlmZD92ZXJzaW9uPTAuMVwiXG5cbmludGVyZmFjZSBIZWFkZXJQcm9wcyB7XG4gICAgbm90aWZpY2F0aW9uOiBBc3RhbE5vdGlmZC5Ob3RpZmljYXRpb25cbiAgICB0aWNrOiBWYXJpYWJsZTxudW1iZXI+XG59XG5cbmNvbnN0IEhlYWRlciA9ICh7IG5vdGlmaWNhdGlvbiwgdGljayB9OiBIZWFkZXJQcm9wcykgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxib3ggY3NzQ2xhc3Nlcz17W1wiSGVhZGVyXCJdfSB2YWxpZ249e0d0ay5BbGlnbi5DRU5URVJ9PlxuICAgICAgICAgICAgPGJveFxuICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIkhlYWRlckxlZnRcIl19XG4gICAgICAgICAgICAgICAgaGFsaWduPXtHdGsuQWxpZ24uU1RBUlR9XG4gICAgICAgICAgICAgICAgaGV4cGFuZD17dHJ1ZX1cbiAgICAgICAgICAgICAgICBzcGFjaW5nPXs1fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHsobm90aWZpY2F0aW9uLmFwcEljb24gfHwgbm90aWZpY2F0aW9uLmRlc2t0b3BFbnRyeSkgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8aW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIkFwcEljb25cIl19XG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhIShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uLmFwcEljb24gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uLmRlc2t0b3BFbnRyeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25OYW1lPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb24uYXBwSWNvbiB8fCBub3RpZmljYXRpb24uZGVza3RvcEVudHJ5XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBwaXhlbFNpemU9ezI0fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICB7YmluZCh0aWNrKS5hcygodCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIkhlYWRlckxhYmVsXCJdfVxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9e2Ake25vdGlmaWNhdGlvbi5hcHBOYW1lIHx8IFwiTm90aWZpY2F0aW9uXCJ9ICgke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbi5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgfSAtICR7bm90aWZpY2F0aW9uLmRlc2t0b3BFbnRyeSB8fCBcIlVua25vd25cIn0gLSAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQudG9TdHJpbmcoKSArIFwic1wiXG4gICAgICAgICAgICAgICAgICAgICAgICB9KWB9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L2JveD5cblxuICAgICAgICAgICAgPGJveFxuICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIkhlYWRlclJpZ2h0XCJdfVxuICAgICAgICAgICAgICAgIGhhbGlnbj17R3RrLkFsaWduLkVORH1cbiAgICAgICAgICAgICAgICBoZXhwYW5kPXt0cnVlfVxuICAgICAgICAgICAgICAgIHNwYWNpbmc9ezV9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIkhlYWRlclRpbWVcIl19XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPXtuZXcgRGF0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbi50aW1lICogMTAwMFxuICAgICAgICAgICAgICAgICAgICApLnRvTG9jYWxlVGltZVN0cmluZyhcImVuLVVTXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvdXI6IFwiMi1kaWdpdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWludXRlOiBcIjItZGlnaXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgaG91cjEyOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIkNsb3NlQnV0dG9uXCJdfVxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwVGV4dD17XCJDbG9zZSBOb3RpZmljYXRpb25cIn1cbiAgICAgICAgICAgICAgICAgICAgb25DbGlja2VkPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb24uZGlzbWlzcygpXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgbGFiZWw9e1wiXHUyNzE1XCJ9IC8+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2JveD5cbiAgICAgICAgPC9ib3g+XG4gICAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBIZWFkZXJcbiIsICJpbXBvcnQgeyBCaW5kaW5nLCBHTGliIH0gZnJvbSBcImFzdGFsXCJcbmltcG9ydCB7IEd0ayB9IGZyb20gXCJhc3RhbC9ndGs0XCJcbmltcG9ydCBBc3RhbE5vdGlmZCBmcm9tIFwiZ2k6Ly9Bc3RhbE5vdGlmZD92ZXJzaW9uPTAuMVwiXG5pbXBvcnQgUGFuZ28gZnJvbSBcImdpOi8vUGFuZ28/dmVyc2lvbj0xLjBcIlxuXG5jb25zdCBpc0ljb24gPSAoaWNvbjogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgaWNvblRoZW1lID0gbmV3IEd0ay5JY29uVGhlbWUoKVxuICAgIHJldHVybiBpY29uVGhlbWUuaGFzX2ljb24oaWNvbilcbn1cblxuY29uc3QgZmlsZUV4aXN0cyA9IChwYXRoOiBzdHJpbmcpID0+IEdMaWIuZmlsZV90ZXN0KHBhdGgsIEdMaWIuRmlsZVRlc3QuRVhJU1RTKVxuXG5pbnRlcmZhY2UgQm9keVByb3BzIHtcbiAgICBub3RpZmljYXRpb246IEFzdGFsTm90aWZkLk5vdGlmaWNhdGlvblxufVxuXG5jb25zdCBCb2R5ID0gKHsgbm90aWZpY2F0aW9uIH06IEJvZHlQcm9wcykgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxib3hcbiAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIkNvbnRlbnRcIl19XG4gICAgICAgICAgICB2YWxpZ249e0d0ay5BbGlnbi5DRU5URVJ9XG4gICAgICAgICAgICBzcGFjaW5nPXsxMH1cbiAgICAgICAgICAgIHZleHBhbmRcbiAgICAgICAgPlxuICAgICAgICAgICAge25vdGlmaWNhdGlvbi5pbWFnZSAmJiBmaWxlRXhpc3RzKG5vdGlmaWNhdGlvbi5pbWFnZSkgJiYgKFxuICAgICAgICAgICAgICAgIDxib3ggdmFsaWduPXtHdGsuQWxpZ24uQ0VOVEVSfSBjc3NDbGFzc2VzPXtbXCJDb250ZW50SW1hZ2VcIl19PlxuICAgICAgICAgICAgICAgICAgICA8aW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGU9e25vdGlmaWNhdGlvbi5pbWFnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93PXtHdGsuT3ZlcmZsb3cuSElEREVOfVxuICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxTaXplPXs2NH1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2JveD5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHtub3RpZmljYXRpb24uaW1hZ2UgJiYgaXNJY29uKG5vdGlmaWNhdGlvbi5pbWFnZSkgJiYgKFxuICAgICAgICAgICAgICAgIDxib3ggY3NzQ2xhc3Nlcz17W1wiQ29udGVudEljb25cIl19IHZhbGlnbj17R3RrLkFsaWduLkNFTlRFUn0+XG4gICAgICAgICAgICAgICAgICAgIDxpbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbk5hbWU9e25vdGlmaWNhdGlvbi5pbWFnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHBpeGVsU2l6ZT17NjR9XG4gICAgICAgICAgICAgICAgICAgICAgICBoYWxpZ249e0d0ay5BbGlnbi5DRU5URVJ9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZ249e0d0ay5BbGlnbi5DRU5URVJ9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9ib3g+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICA8Ym94IGhleHBhbmQgdmVydGljYWwgdmFsaWduPXtHdGsuQWxpZ24uQ0VOVEVSfSBzcGFjaW5nPXs1fT5cbiAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgZWxsaXBzaXplPXtQYW5nby5FbGxpcHNpemVNb2RlLkVORH1cbiAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGhDaGFycz17MzB9XG4gICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIkNvbnRlbnRTdW1tYXJ5XCJdfVxuICAgICAgICAgICAgICAgICAgICBoYWxpZ249e0d0ay5BbGlnbi5TVEFSVH1cbiAgICAgICAgICAgICAgICAgICAgeGFsaWduPXswfVxuICAgICAgICAgICAgICAgICAgICBsYWJlbD17bm90aWZpY2F0aW9uLnN1bW1hcnl9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICB7bm90aWZpY2F0aW9uLmJvZHkgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIkNvbnRlbnRCb2R5XCJdfVxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGhDaGFycz17MzB9XG4gICAgICAgICAgICAgICAgICAgICAgICB3cmFwXG4gICAgICAgICAgICAgICAgICAgICAgICBoYWxpZ249e0d0ay5BbGlnbi5TVEFSVH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHhhbGlnbj17MH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXtub3RpZmljYXRpb24uYm9keX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9ib3g+XG4gICAgICAgIDwvYm94PlxuICAgIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgQm9keVxuIiwgImltcG9ydCB7IEJpbmRpbmcgfSBmcm9tIFwiYXN0YWxcIlxuaW1wb3J0IHsgR3RrIH0gZnJvbSBcImFzdGFsL2d0azRcIlxuaW1wb3J0IEFzdGFsSHlwcmxhbmQgZnJvbSBcImdpOi8vQXN0YWxIeXBybGFuZD92ZXJzaW9uPTAuMVwiXG5pbXBvcnQgQXN0YWxOb3RpZmQgZnJvbSBcImdpOi8vQXN0YWxOb3RpZmQ/dmVyc2lvbj0wLjFcIlxuXG5jb25zdCBoeXBybGFuZCA9IEFzdGFsSHlwcmxhbmQuZ2V0X2RlZmF1bHQoKVxuXG5pbnRlcmZhY2UgRm9vdGVyUHJvcHMge1xuICAgIG5vdGlmaWNhdGlvbjogQXN0YWxOb3RpZmQuTm90aWZpY2F0aW9uXG59XG5cbmNvbnN0IEZvb3RlciA9ICh7IG5vdGlmaWNhdGlvbiB9OiBGb290ZXJQcm9wcykgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxib3ggY3NzQ2xhc3Nlcz17W1wiRm9vdGVyXCJdfT5cbiAgICAgICAgICAgIHtub3RpZmljYXRpb24uZ2V0X2FjdGlvbnMoKS5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICA8Ym94IGNzc0NsYXNzZXM9e1tcIkZvb3RlckFjdGlvbnNcIl19IHNwYWNpbmc9ezZ9PlxuICAgICAgICAgICAgICAgICAgICB7bm90aWZpY2F0aW9uLmdldF9hY3Rpb25zKCkubWFwKChhY3Rpb24pID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZXhwYW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGlja2VkPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbi5pbnZva2UoYWN0aW9uLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb24uZGlzbWlzcygpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xpZW50cyA9IGh5cHJsYW5kLmdldF9jbGllbnRzKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xpZW50ID0gY2xpZW50cy5maW5kKChjKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYy5jbGFzc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluY2x1ZGVzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb24uYXBwTmFtZS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsaWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHlwcmxhbmQuZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJmb2N1c3dpbmRvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBjbGFzczoke2NsaWVudC5jbGFzc31gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17YWN0aW9uLmxhYmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYWxpZ249e0d0ay5BbGlnbi5DRU5URVJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhleHBhbmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvYm94PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgPC9ib3g+XG4gICAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBGb290ZXJcbiIsICJpbXBvcnQgeyBBc3RhbElPLCBpbnRlcnZhbCwgVmFyaWFibGUgfSBmcm9tIFwiYXN0YWxcIlxuaW1wb3J0IHsgU3Vic2NyaWJhYmxlIH0gZnJvbSBcImFzdGFsL2JpbmRpbmdcIlxuaW1wb3J0IEFzdGFsTm90aWZkIGZyb20gXCJnaTovL0FzdGFsTm90aWZkP3ZlcnNpb249MC4xXCJcbmltcG9ydCBUaW1lciBmcm9tIFwiLi9UaW1lclwiXG5cbmNvbnN0IG5vdGlmZCA9IEFzdGFsTm90aWZkLmdldF9kZWZhdWx0KClcblxuY29uc3QgTUFYX1BST0NFU1NJTkcgPSAzXG5cbmludGVyZmFjZSBFbnRyeSB7XG4gICAgcXVldWU6IG51bWJlcltdXG4gICAgYWN0aXZlczogVGltZXJbXVxufVxuXG5jbGFzcyBNYW5hZ2VyIGltcGxlbWVudHMgU3Vic2NyaWJhYmxlPEVudHJ5PiB7XG4gICAgcHJpdmF0ZSBxdWV1ZTogbnVtYmVyW10gPSBub3RpZmQuZ2V0X25vdGlmaWNhdGlvbnMoKS5tYXAoKG4pID0+IG4uaWQpXG5cbiAgICBwcml2YXRlIGFjdGl2ZXM6IFRpbWVyW10gPSBbXVxuXG4gICAgcHJpdmF0ZSBlbnRyeTogVmFyaWFibGU8RW50cnk+ID0gVmFyaWFibGUoe1xuICAgICAgICBxdWV1ZTogdGhpcy5xdWV1ZSxcbiAgICAgICAgYWN0aXZlczogdGhpcy5hY3RpdmVzLFxuICAgIH0pXG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgbm90aWZkLmNvbm5lY3QoXCJub3RpZmllZFwiLCAoX3NvdXJjZSwgaWQsIHJlcGxhY2VkKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uTm90aWZpZWQoX3NvdXJjZSwgaWQsIHJlcGxhY2VkKVxuICAgICAgICB9KVxuXG4gICAgICAgIG5vdGlmZC5jb25uZWN0KFwicmVzb2x2ZWRcIiwgKF9zb3VyY2UsIGlkLCByZWFzb24pID0+IHtcbiAgICAgICAgICAgIHRoaXMub25SZXNvbHZlZChfc291cmNlLCBpZCwgcmVhc29uKVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMucHJvY2Vzc1F1ZXVlKClcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uTm90aWZpZWQoXG4gICAgICAgIF9zb3VyY2U6IEFzdGFsTm90aWZkLk5vdGlmZCxcbiAgICAgICAgaWQ6IG51bWJlcixcbiAgICAgICAgcmVwbGFjZWQ6IGJvb2xlYW5cbiAgICApIHtcblxuICAgICAgICBjb25zdCBub3RpZmljYXRpb24gPSBub3RpZmQuZ2V0X25vdGlmaWNhdGlvbihpZClcbiAgICAgICAgaWYgKCFub3RpZmljYXRpb24pIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2hlY2sgRG5EIGFuZCB1cmdlbmN5XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIG5vdGlmZC5kb250RGlzdHVyYiAmJlxuICAgICAgICAgICAgbm90aWZpY2F0aW9uLnVyZ2VuY3kgIT09IEFzdGFsTm90aWZkLlVyZ2VuY3kuQ1JJVElDQUxcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHB1c2ggdG8gcXVldWVcbiAgICAgICAgdGhpcy5xdWV1ZS5wdXNoKGlkKVxuXG4gICAgICAgIHRoaXMucHJvY2Vzc1F1ZXVlKClcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUmVzb2x2ZWQoXG4gICAgICAgIF9zb3VyY2U6IEFzdGFsTm90aWZkLk5vdGlmZCxcbiAgICAgICAgaWQ6IG51bWJlcixcbiAgICAgICAgcmVhc29uOiBBc3RhbE5vdGlmZC5DbG9zZWRSZWFzb25cbiAgICApIHtcblxuICAgICAgICAvLyByZW1vdmUgZnJvbSBxdWV1ZVxuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMucXVldWUuaW5kZXhPZihpZClcblxuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLnF1ZXVlLnNwbGljZShpbmRleCwgMSlcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlbW92ZSBmcm9tIGFjdGl2ZXNcbiAgICAgICAgY29uc3QgYWN0aXZlSW5kZXggPSB0aGlzLmFjdGl2ZXMuZmluZEluZGV4KChuKSA9PiBuLmlkID09PSBpZClcblxuICAgICAgICBpZiAoYWN0aXZlSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZXMuc3BsaWNlKGFjdGl2ZUluZGV4LCAxKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ub3RpZnkoKVxuXG4gICAgICAgIHRoaXMucHJvY2Vzc1F1ZXVlKClcbiAgICB9XG5cbiAgICBwcml2YXRlIHByb2Nlc3NRdWV1ZSgpIHtcblxuICAgICAgICBpZiAodGhpcy5hY3RpdmVzLmxlbmd0aCA+PSBNQVhfUFJPQ0VTU0lORykge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5xdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IHRoZSBuZXh0IG5vdGlmaWNhdGlvbiBmcm9tIHRoZSBxdWV1ZVxuICAgICAgICBjb25zdCBpZCA9IHRoaXMucXVldWUuc2hpZnQoKVxuXG4gICAgICAgIGlmIChpZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCB0byBhY3RpdmVzXG4gICAgICAgIHRoaXMuYWN0aXZlcy5wdXNoKG5ldyBUaW1lcihpZCwgdGhpcy5zb2Z0RGlzbWlzcy5iaW5kKHRoaXMpKSlcblxuICAgICAgICB0aGlzLm5vdGlmeSgpXG5cbiAgICAgICAgdGhpcy5wcm9jZXNzUXVldWUoKVxuICAgIH1cblxuICAgIHB1YmxpYyBnZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVudHJ5LmdldCgpXG4gICAgfVxuXG4gICAgcHVibGljIHN1YnNjcmliZShjYWxsYmFjazogKHZhbHVlOiBFbnRyeSkgPT4gdm9pZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbnRyeS5zdWJzY3JpYmUoY2FsbGJhY2spXG4gICAgfVxuXG4gICAgcHVibGljIHNvZnREaXNtaXNzKGlkOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmFjdGl2ZXMuZmluZEluZGV4KChuKSA9PiBuLmlkID09PSBpZClcblxuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZXMuc3BsaWNlKGluZGV4LCAxKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ub3RpZnkoKVxuXG4gICAgICAgIHRoaXMucHJvY2Vzc1F1ZXVlKClcbiAgICB9XG5cbiAgICBwcml2YXRlIG5vdGlmeSgpIHtcbiAgICAgICAgdGhpcy5lbnRyeS5zZXQoe1xuICAgICAgICAgICAgcXVldWU6IHRoaXMucXVldWUsXG4gICAgICAgICAgICBhY3RpdmVzOiB0aGlzLmFjdGl2ZXMsXG4gICAgICAgIH0pXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNYW5hZ2VyXG4iLCAiaW1wb3J0IHsgQXN0YWxJTywgaW50ZXJ2YWwsIFZhcmlhYmxlIH0gZnJvbSBcImFzdGFsXCJcblxuY29uc3QgVElDSyA9IDEwXG5cbmNsYXNzIFRpbWVyIHtcbiAgICBwdWJsaWMgaWQ6IG51bWJlclxuXG4gICAgcHVibGljIHRpY2s6IFZhcmlhYmxlPG51bWJlcj5cblxuICAgIHByaXZhdGUgZGlzbWlzc2VyOiAoaWQ6IG51bWJlcikgPT4gdm9pZFxuXG4gICAgcHJpdmF0ZSBpbnRlcnZhbD86IEFzdGFsSU8uVGltZVxuXG4gICAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgZGlzbWlzc2VyOiAoaWQ6IG51bWJlcikgPT4gdm9pZCkge1xuICAgICAgICB0aGlzLmlkID0gaWRcbiAgICAgICAgdGhpcy50aWNrID0gVmFyaWFibGUoVElDSylcbiAgICAgICAgdGhpcy5kaXNtaXNzZXIgPSBkaXNtaXNzZXJcblxuICAgICAgICB0aGlzLnN0YXJ0KClcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhcnQoKSB7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHRpbWVyIGFscmVhZHkgZXhpc3RzXG4gICAgICAgIGlmICh0aGlzLmludGVydmFsKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0YXJ0IHRoZSB0aW1lclxuICAgICAgICB0aGlzLmludGVydmFsID0gaW50ZXJ2YWwoMTAwMCwgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFRpY2sgPSB0aGlzLnRpY2suZ2V0KClcblxuICAgICAgICAgICAgaWYgKGN1cnJlbnRUaWNrIDw9IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmludGVydmFsPy5jYW5jZWwoKVxuICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJ2YWwgPSB1bmRlZmluZWRcblxuICAgICAgICAgICAgICAgIHRoaXMuZGlzbWlzc2VyKHRoaXMuaWQpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudGljay5zZXQoY3VycmVudFRpY2sgLSAxKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHB1YmxpYyBzdG9wKCkge1xuXG4gICAgICAgIC8vIFN0b3AgdGhlIHRpbWVyXG4gICAgICAgIHRoaXMuaW50ZXJ2YWw/LmNhbmNlbCgpXG4gICAgICAgIHRoaXMuaW50ZXJ2YWwgPSB1bmRlZmluZWRcblxuICAgICAgICB0aGlzLnRpY2suc2V0KFRJQ0spIC8vIFJlc2V0IHRoZSB0aWNrXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUaW1lclxuIiwgImltcG9ydCB7IGJpbmQgfSBmcm9tIFwiYXN0YWxcIlxuaW1wb3J0IHsgQXBwLCBBc3RhbCwgR2RrLCBHdGsgfSBmcm9tIFwiYXN0YWwvZ3RrNFwiXG5pbXBvcnQgTm90aWZpY2F0aW9uSXRlbSBmcm9tIFwiLi9Ob3RpZmljYXRpb25JdGVtXCJcbmltcG9ydCBNYW5hZ2VyIGZyb20gXCIuLi8uLi9zZXJ2aWNlcy9Ob3RpZmljYXRpb24vTWFuYWdlclwiXG5cbmNvbnN0IG1hbmFnZXIgPSBuZXcgTWFuYWdlcigpXG5cbmNvbnN0IE5vdGlmaWNhdGlvblBvcHVwID0gKHsgZ2RrbW9uaXRvciB9OiB7IGdka21vbml0b3I6IEdkay5Nb25pdG9yIH0pID0+IHtcbiAgICBjb25zdCBuYW1lID0gYE5vdGlmaWNhdGlvbi0ke2dka21vbml0b3IuY29ubmVjdG9yfWBcbiAgICBjb25zdCB7IFRPUCwgUklHSFQgfSA9IEFzdGFsLldpbmRvd0FuY2hvclxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPHdpbmRvd1xuICAgICAgICAgICAgbmFtZT17bmFtZX1cbiAgICAgICAgICAgIG5hbWVzcGFjZT17XCJOb3RpZmljYXRpb25cIn1cbiAgICAgICAgICAgIGFwcGxpY2F0aW9uPXtBcHB9XG4gICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJOb3RpZmljYXRpb25cIl19XG4gICAgICAgICAgICBnZGttb25pdG9yPXtnZGttb25pdG9yfVxuICAgICAgICAgICAgbGF5ZXI9e0FzdGFsLkxheWVyLlRPUH1cbiAgICAgICAgICAgIGFuY2hvcj17VE9QIHwgUklHSFR9XG4gICAgICAgICAgICB2aXNpYmxlPXt0cnVlfVxuICAgICAgICAgICAgc2V0dXA9eyhzZWxmKSA9PiB7XG4gICAgICAgICAgICAgICAgc2VsZi5zZXRfZGVmYXVsdF9zaXplKDEsIDEpXG5cbiAgICAgICAgICAgICAgICBtYW5hZ2VyLnN1YnNjcmliZSgoZW50cnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVudHJ5ICYmIGVudHJ5LmFjdGl2ZXMgJiYgZW50cnkuYWN0aXZlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNob3coKVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5oaWRlKClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgICA8Ym94XG4gICAgICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiTm90aWZpY2F0aW9uQ29udGFpbmVyXCJdfVxuICAgICAgICAgICAgICAgIHZlcnRpY2FsPXt0cnVlfVxuICAgICAgICAgICAgICAgIHNwYWNpbmc9ezEwfVxuICAgICAgICAgICAgICAgIHZhbGlnbj17R3RrLkFsaWduLlNUQVJUfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtiaW5kKG1hbmFnZXIpLmFzKChlbnRyeSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWy4uLmVudHJ5LmFjdGl2ZXNdXG4gICAgICAgICAgICAgICAgICAgICAgICAucmV2ZXJzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKCh0aW1lcikgPT4gPE5vdGlmaWNhdGlvbkl0ZW0gdGltZXI9e3RpbWVyfSAvPilcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIDwvYm94PlxuICAgICAgICA8L3dpbmRvdz5cbiAgICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IE5vdGlmaWNhdGlvblBvcHVwXG4iXSwKICAibWFwcGluZ3MiOiAiOzs7QUFBQSxPQUFPQSxZQUFXO0FBQ2xCLE9BQU9DLFVBQVM7QUFDaEIsT0FBT0MsVUFBUzs7O0FDRmhCLE9BQU9DLFlBQVc7OztBQ0FYLElBQU0sV0FBVyxDQUFDLFFBQWdCLElBQ3BDLFFBQVEsbUJBQW1CLE9BQU8sRUFDbEMsV0FBVyxLQUFLLEdBQUcsRUFDbkIsWUFBWTtBQUVWLElBQU0sV0FBVyxDQUFDLFFBQWdCLElBQ3BDLFFBQVEsbUJBQW1CLE9BQU8sRUFDbEMsV0FBVyxLQUFLLEdBQUcsRUFDbkIsWUFBWTtBQWNWLElBQU0sVUFBTixNQUFNLFNBQWU7QUFBQSxFQUNoQixjQUFjLENBQUMsTUFBVztBQUFBLEVBRWxDO0FBQUEsRUFDQTtBQUFBLEVBU0EsT0FBTyxLQUFLLFNBQXFDLE1BQWU7QUFDNUQsV0FBTyxJQUFJLFNBQVEsU0FBUyxJQUFJO0FBQUEsRUFD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LElBQ2hDO0FBRUEsUUFBSSxRQUFRLFNBQVMsWUFBWSxHQUFHO0FBQ2hDLFlBQU0sS0FBSyxTQUFTLFFBQVEsTUFBTSxZQUFZLEVBQUUsQ0FBQyxFQUFFLEtBQUssR0FBRyxFQUFFO0FBRTdELFVBQUksTUFBTSxFQUFFLEdBQUc7QUFDWCxlQUFPLElBQUksb0JBQW9CO0FBQUEsTUFDbkM7QUFFQSxZQUFNLFVBQVVBLFVBQVMsWUFBWSxFQUFFO0FBRXZDLFVBQUksU0FBUztBQUNULHVCQUFlQSxXQUFVLE9BQU87QUFDaEMsZUFBTyxJQUFJLGVBQWU7QUFBQSxNQUM5QjtBQUVBLGFBQU8sSUFBSSxtQkFBbUI7QUFBQSxJQUNsQztBQUVBLFFBQUksaUJBQWlCO0FBQUEsRUFDekI7QUFDSixDQUFDOyIsCiAgIm5hbWVzIjogWyJBc3RhbCIsICJHdGsiLCAiR2RrIiwgIkFzdGFsIiwgImJpbmQiLCAiaW50ZXJ2YWwiLCAidGltZW91dCIsICJBc3RhbCIsICJBc3RhbCIsICJBc3RhbCIsICJ2IiwgImludGVydmFsIiwgImN0b3JzIiwgIkd0ayIsICJBc3RhbCIsICJzbmFrZWlmeSIsICJwYXRjaCIsICJUcmF5IiwgIkd0ayIsICJBc3RhbCIsICJBc3RhbCIsICJHdGsiLCAiR3RrIiwgIkFzdGFsIiwgImNoIiwgIkdkayIsICJqc3giLCAianN4IiwgImRlZmF1bHQiLCAiQXN0YWwiLCAiR09iamVjdCIsICJkZWZhdWx0IiwgIkdPYmplY3QiLCAiR3RrIiwgImpzeCIsICJBc3RhbEh5cHJsYW5kIiwgImh5cHJsYW5kIiwgIkFzdGFsSHlwcmxhbmQiLCAiZm9jdXNlZENsaWVudCIsICJqc3giLCAiR3RrIiwgImpzeCIsICJHdGsiLCAidGltZW91dCIsICJqc3giLCAiTWVudUJ1dHRvbiIsICJHdGsiLCAiUGFuZ28iLCAiQXN0YWxIeXBybGFuZCIsICJoeXBybGFuZCIsICJBc3RhbEh5cHJsYW5kIiwgImpzeCIsICJHdGsiLCAiUGFuZ28iLCAiQXN0YWxNcHJpcyIsICJBc3RhbE1wcmlzIiwgIkd0ayIsICJqc3giLCAiVGltZSIsICJqc3giLCAianN4IiwgIkd0ayIsICJBc3RhbCIsICJqc3giLCAiUG9wb3ZlciIsICJBc3RhbCIsICJqc3giLCAiR2RrIiwgIkJ1dHRvbiIsICJqc3giLCAiR3RrIiwgImpzeCIsICJHdGsiLCAic3BlYWtlciIsICJqc3giLCAiR3RrIiwgIkFzdGFsSHlwcmxhbmQiLCAiQXN0YWxUcmF5IiwgIkFzdGFsV3AiLCAiQXN0YWxIeXBybGFuZCIsICJBc3RhbFdwIiwgImh5cHJsYW5kIiwgIkFzdGFsSHlwcmxhbmQiLCAianN4IiwgIkFzdGFsIiwgIkd0ayIsICJHdGsiLCAianN4IiwgIlBhbmdvIiwgIkd0ayIsICJkZWZhdWx0IiwgImpzeCIsICJQYW5nbyIsICJBc3RhbEh5cHJsYW5kIiwgImh5cHJsYW5kIiwgIkFzdGFsSHlwcmxhbmQiLCAianN4IiwgIkd0ayIsICJqc3giLCAiQXN0YWxOb3RpZmQiLCAibm90aWZkIiwgIkFzdGFsTm90aWZkIiwgIkFzdGFsIiwgImpzeCIsICJHdGsiLCAiaHlwcmxhbmQiLCAiQXN0YWxIeXBybGFuZCIsICJBc3RhbFRyYXkiXQp9Cg==
