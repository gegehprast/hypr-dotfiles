#!/usr/bin/gjs -m

// ../../../../usr/share/astal/gjs/gtk4/index.ts
import Astal6 from "gi://Astal?version=4.0";
import Gtk4 from "gi://Gtk?version=4.0";
import Gdk2 from "gi://Gdk?version=4.0";

// ../../../../usr/share/astal/gjs/variable.ts
import Astal3 from "gi://AstalIO";

// ../../../../usr/share/astal/gjs/binding.ts
var snakeify = (str) => str.replace(/([a-z])([A-Z])/g, "$1_$2").replaceAll("-", "_").toLowerCase();
var kebabify = (str) => str.replace(/([a-z])([A-Z])/g, "$1-$2").replaceAll("_", "-").toLowerCase();
var Binding = class _Binding {
  transformFn = (v) => v;
  #emitter;
  #prop;
  static bind(emitter, prop) {
    return new _Binding(emitter, prop);
  }
  constructor(emitter, prop) {
    this.#emitter = emitter;
    this.#prop = prop && kebabify(prop);
  }
  toString() {
    return `Binding<${this.#emitter}${this.#prop ? `, "${this.#prop}"` : ""}>`;
  }
  as(fn) {
    const bind2 = new _Binding(this.#emitter, this.#prop);
    bind2.transformFn = (v) => fn(this.transformFn(v));
    return bind2;
  }
  get() {
    if (typeof this.#emitter.get === "function")
      return this.transformFn(this.#emitter.get());
    if (typeof this.#prop === "string") {
      const getter = `get_${snakeify(this.#prop)}`;
      if (typeof this.#emitter[getter] === "function")
        return this.transformFn(this.#emitter[getter]());
      return this.transformFn(this.#emitter[this.#prop]);
    }
    throw Error("can not get value of binding");
  }
  subscribe(callback) {
    if (typeof this.#emitter.subscribe === "function") {
      return this.#emitter.subscribe(() => {
        callback(this.get());
      });
    } else if (typeof this.#emitter.connect === "function") {
      const signal = `notify::${this.#prop}`;
      const id = this.#emitter.connect(signal, () => {
        callback(this.get());
      });
      return () => {
        this.#emitter.disconnect(id);
      };
    }
    throw Error(`${this.#emitter} is not bindable`);
  }
};
var { bind } = Binding;
var binding_default = Binding;

// ../../../../usr/share/astal/gjs/time.ts
import Astal from "gi://AstalIO";
var Time = Astal.Time;
function interval(interval2, callback) {
  return Astal.Time.interval(interval2, () => void callback?.());
}
function timeout(timeout4, callback) {
  return Astal.Time.timeout(timeout4, () => void callback?.());
}

// ../../../../usr/share/astal/gjs/process.ts
import Astal2 from "gi://AstalIO";
var Process = Astal2.Process;
function subprocess(argsOrCmd, onOut = print, onErr = printerr) {
  const args = Array.isArray(argsOrCmd) || typeof argsOrCmd === "string";
  const { cmd, err, out } = {
    cmd: args ? argsOrCmd : argsOrCmd.cmd,
    err: args ? onErr : argsOrCmd.err || onErr,
    out: args ? onOut : argsOrCmd.out || onOut
  };
  const proc = Array.isArray(cmd) ? Astal2.Process.subprocessv(cmd) : Astal2.Process.subprocess(cmd);
  proc.connect("stdout", (_, stdout) => out(stdout));
  proc.connect("stderr", (_, stderr) => err(stderr));
  return proc;
}
function execAsync(cmd) {
  return new Promise((resolve, reject) => {
    if (Array.isArray(cmd)) {
      Astal2.Process.exec_asyncv(cmd, (_, res) => {
        try {
          resolve(Astal2.Process.exec_asyncv_finish(res));
        } catch (error) {
          reject(error);
        }
      });
    } else {
      Astal2.Process.exec_async(cmd, (_, res) => {
        try {
          resolve(Astal2.Process.exec_finish(res));
        } catch (error) {
          reject(error);
        }
      });
    }
  });
}

// ../../../../usr/share/astal/gjs/variable.ts
var VariableWrapper = class extends Function {
  variable;
  errHandler = console.error;
  _value;
  _poll;
  _watch;
  pollInterval = 1e3;
  pollExec;
  pollTransform;
  pollFn;
  watchTransform;
  watchExec;
  constructor(init) {
    super();
    this._value = init;
    this.variable = new Astal3.VariableBase();
    this.variable.connect("dropped", () => {
      this.stopWatch();
      this.stopPoll();
    });
    this.variable.connect("error", (_, err) => this.errHandler?.(err));
    return new Proxy(this, {
      apply: (target, _, args) => target._call(args[0])
    });
  }
  _call(transform) {
    const b = binding_default.bind(this);
    return transform ? b.as(transform) : b;
  }
  toString() {
    return String(`Variable<${this.get()}>`);
  }
  get() {
    return this._value;
  }
  set(value) {
    if (value !== this._value) {
      this._value = value;
      this.variable.emit("changed");
    }
  }
  startPoll() {
    if (this._poll)
      return;
    if (this.pollFn) {
      this._poll = interval(this.pollInterval, () => {
        const v = this.pollFn(this.get());
        if (v instanceof Promise) {
          v.then((v2) => this.set(v2)).catch((err) => this.variable.emit("error", err));
        } else {
          this.set(v);
        }
      });
    } else if (this.pollExec) {
      this._poll = interval(this.pollInterval, () => {
        execAsync(this.pollExec).then((v) => this.set(this.pollTransform(v, this.get()))).catch((err) => this.variable.emit("error", err));
      });
    }
  }
  startWatch() {
    if (this._watch)
      return;
    this._watch = subprocess({
      cmd: this.watchExec,
      out: (out) => this.set(this.watchTransform(out, this.get())),
      err: (err) => this.variable.emit("error", err)
    });
  }
  stopPoll() {
    this._poll?.cancel();
    delete this._poll;
  }
  stopWatch() {
    this._watch?.kill();
    delete this._watch;
  }
  isPolling() {
    return !!this._poll;
  }
  isWatching() {
    return !!this._watch;
  }
  drop() {
    this.variable.emit("dropped");
  }
  onDropped(callback) {
    this.variable.connect("dropped", callback);
    return this;
  }
  onError(callback) {
    delete this.errHandler;
    this.variable.connect("error", (_, err) => callback(err));
    return this;
  }
  subscribe(callback) {
    const id = this.variable.connect("changed", () => {
      callback(this.get());
    });
    return () => this.variable.disconnect(id);
  }
  poll(interval2, exec, transform = (out) => out) {
    this.stopPoll();
    this.pollInterval = interval2;
    this.pollTransform = transform;
    if (typeof exec === "function") {
      this.pollFn = exec;
      delete this.pollExec;
    } else {
      this.pollExec = exec;
      delete this.pollFn;
    }
    this.startPoll();
    return this;
  }
  watch(exec, transform = (out) => out) {
    this.stopWatch();
    this.watchExec = exec;
    this.watchTransform = transform;
    this.startWatch();
    return this;
  }
  observe(objs, sigOrFn, callback) {
    const f = typeof sigOrFn === "function" ? sigOrFn : callback ?? (() => this.get());
    const set = (obj, ...args) => this.set(f(obj, ...args));
    if (Array.isArray(objs)) {
      for (const obj of objs) {
        const [o, s] = obj;
        const id = o.connect(s, set);
        this.onDropped(() => o.disconnect(id));
      }
    } else {
      if (typeof sigOrFn === "string") {
        const id = objs.connect(sigOrFn, set);
        this.onDropped(() => objs.disconnect(id));
      }
    }
    return this;
  }
  static derive(deps, fn = (...args) => args) {
    const update = () => fn(...deps.map((d) => d.get()));
    const derived = new Variable(update());
    const unsubs = deps.map((dep) => dep.subscribe(() => derived.set(update())));
    derived.onDropped(() => unsubs.map((unsub) => unsub()));
    return derived;
  }
};
var Variable = new Proxy(VariableWrapper, {
  apply: (_t, _a, args) => new VariableWrapper(args[0])
});
var { derive } = Variable;
var variable_default = Variable;

// ../../../../usr/share/astal/gjs/_astal.ts
var noImplicitDestroy = Symbol("no no implicit destroy");
var setChildren = Symbol("children setter method");
function mergeBindings(array) {
  function getValues(...args) {
    let i = 0;
    return array.map(
      (value) => value instanceof binding_default ? args[i++] : value
    );
  }
  const bindings = array.filter((i) => i instanceof binding_default);
  if (bindings.length === 0)
    return array;
  if (bindings.length === 1)
    return bindings[0].as(getValues);
  return variable_default.derive(bindings, getValues)();
}
function setProp(obj, prop, value) {
  try {
    const setter = `set_${snakeify(prop)}`;
    if (typeof obj[setter] === "function")
      return obj[setter](value);
    return obj[prop] = value;
  } catch (error) {
    console.error(`could not set property "${prop}" on ${obj}:`, error);
  }
}
function construct(widget, config) {
  let { setup, child, children = [], ...props } = config;
  if (children instanceof binding_default) {
    children = [children];
  }
  if (child) {
    children.unshift(child);
  }
  for (const [key, value] of Object.entries(props)) {
    if (value === void 0) {
      delete props[key];
    }
  }
  const bindings = Object.keys(props).reduce((acc, prop) => {
    if (props[prop] instanceof binding_default) {
      const binding = props[prop];
      delete props[prop];
      return [...acc, [prop, binding]];
    }
    return acc;
  }, []);
  const onHandlers = Object.keys(props).reduce((acc, key) => {
    if (key.startsWith("on")) {
      const sig = kebabify(key).split("-").slice(1).join("-");
      const handler = props[key];
      delete props[key];
      return [...acc, [sig, handler]];
    }
    return acc;
  }, []);
  const mergedChildren = mergeBindings(children.flat(Infinity));
  if (mergedChildren instanceof binding_default) {
    widget[setChildren](mergedChildren.get());
    widget.connect("destroy", mergedChildren.subscribe((v) => {
      widget[setChildren](v);
    }));
  } else {
    if (mergedChildren.length > 0) {
      widget[setChildren](mergedChildren);
    }
  }
  for (const [signal, callback] of onHandlers) {
    const sig = signal.startsWith("notify") ? signal.replace("-", "::") : signal;
    if (typeof callback === "function") {
      widget.connect(sig, callback);
    } else {
      widget.connect(sig, () => execAsync(callback).then(print).catch(console.error));
    }
  }
  for (const [prop, binding] of bindings) {
    if (prop === "child" || prop === "children") {
      widget.connect("destroy", binding.subscribe((v) => {
        widget[setChildren](v);
      }));
    }
    widget.connect("destroy", binding.subscribe((v) => {
      setProp(widget, prop, v);
    }));
    setProp(widget, prop, binding.get());
  }
  for (const [key, value] of Object.entries(props)) {
    if (value === void 0) {
      delete props[key];
    }
  }
  Object.assign(widget, props);
  setup?.(widget);
  return widget;
}
function isArrowFunction(func) {
  return !Object.hasOwn(func, "prototype");
}
function jsx(ctors2, ctor, { children, ...props }) {
  children ??= [];
  if (!Array.isArray(children))
    children = [children];
  children = children.filter(Boolean);
  if (children.length === 1)
    props.child = children[0];
  else if (children.length > 1)
    props.children = children;
  if (typeof ctor === "string") {
    if (isArrowFunction(ctors2[ctor]))
      return ctors2[ctor](props);
    return new ctors2[ctor](props);
  }
  if (isArrowFunction(ctor))
    return ctor(props);
  return new ctor(props);
}

// ../../../../usr/share/astal/gjs/gtk4/astalify.ts
import Gtk from "gi://Gtk?version=4.0";
import Gdk from "gi://Gdk?version=4.0";
var type = Symbol("child type");
var dummyBulder = new Gtk.Builder();
function _getChildren(widget) {
  if ("get_child" in widget && typeof widget.get_child == "function") {
    return widget.get_child() ? [widget.get_child()] : [];
  }
  const children = [];
  let ch = widget.get_first_child();
  while (ch !== null) {
    children.push(ch);
    ch = ch.get_next_sibling();
  }
  return children;
}
function _setChildren(widget, children) {
  children = children.flat(Infinity).map((ch) => ch instanceof Gtk.Widget ? ch : new Gtk.Label({ visible: true, label: String(ch) }));
  for (const child of children) {
    widget.vfunc_add_child(
      dummyBulder,
      child,
      type in child ? child[type] : null
    );
  }
}
function astalify(cls, config = {}) {
  Object.assign(cls.prototype, {
    [setChildren](children) {
      const w = this;
      for (const child of config.getChildren?.(w) || _getChildren(w)) {
        if (child instanceof Gtk.Widget) {
          child.unparent();
          if (!children.includes(child) && noImplicitDestroy in this)
            child.run_dispose();
        }
      }
      if (config.setChildren) {
        config.setChildren(w, children);
      } else {
        _setChildren(w, children);
      }
    }
  });
  return {
    [cls.name]: (props = {}, ...children) => {
      const widget = new cls("cssName" in props ? { cssName: props.cssName } : {});
      if ("cssName" in props) {
        delete props.cssName;
      }
      if (props.noImplicitDestroy) {
        Object.assign(widget, { [noImplicitDestroy]: true });
        delete props.noImplicitDestroy;
      }
      if (props.type) {
        Object.assign(widget, { [type]: props.type });
        delete props.type;
      }
      if (children.length > 0) {
        Object.assign(props, { children });
      }
      return construct(widget, setupControllers(widget, props));
    }
  }[cls.name];
}
function setupControllers(widget, {
  onFocusEnter,
  onFocusLeave,
  onKeyPressed,
  onKeyReleased,
  onKeyModifier,
  onLegacy,
  onButtonPressed,
  onButtonReleased,
  onHoverEnter,
  onHoverLeave,
  onMotion,
  onScroll,
  onScrollDecelerate,
  ...props
}) {
  if (onFocusEnter || onFocusLeave) {
    const focus = new Gtk.EventControllerFocus();
    widget.add_controller(focus);
    if (onFocusEnter)
      focus.connect("enter", () => onFocusEnter(widget));
    if (onFocusLeave)
      focus.connect("leave", () => onFocusLeave(widget));
  }
  if (onKeyPressed || onKeyReleased || onKeyModifier) {
    const key = new Gtk.EventControllerKey();
    widget.add_controller(key);
    if (onKeyPressed)
      key.connect("key-pressed", (_, val, code, state) => onKeyPressed(widget, val, code, state));
    if (onKeyReleased)
      key.connect("key-released", (_, val, code, state) => onKeyReleased(widget, val, code, state));
    if (onKeyModifier)
      key.connect("modifiers", (_, state) => onKeyModifier(widget, state));
  }
  if (onLegacy || onButtonPressed || onButtonReleased) {
    const legacy = new Gtk.EventControllerLegacy();
    widget.add_controller(legacy);
    legacy.connect("event", (_, event) => {
      if (event.get_event_type() === Gdk.EventType.BUTTON_PRESS) {
        onButtonPressed?.(widget, event);
      }
      if (event.get_event_type() === Gdk.EventType.BUTTON_RELEASE) {
        onButtonReleased?.(widget, event);
      }
      onLegacy?.(widget, event);
    });
  }
  if (onMotion || onHoverEnter || onHoverLeave) {
    const hover = new Gtk.EventControllerMotion();
    widget.add_controller(hover);
    if (onHoverEnter)
      hover.connect("enter", (_, x, y) => onHoverEnter(widget, x, y));
    if (onHoverLeave)
      hover.connect("leave", () => onHoverLeave(widget));
    if (onMotion)
      hover.connect("motion", (_, x, y) => onMotion(widget, x, y));
  }
  if (onScroll || onScrollDecelerate) {
    const scroll = new Gtk.EventControllerScroll();
    scroll.flags = Gtk.EventControllerScrollFlags.BOTH_AXES | Gtk.EventControllerScrollFlags.KINETIC;
    widget.add_controller(scroll);
    if (onScroll)
      scroll.connect("scroll", (_, x, y) => onScroll(widget, x, y));
    if (onScrollDecelerate)
      scroll.connect("decelerate", (_, x, y) => onScrollDecelerate(widget, x, y));
  }
  return props;
}

// ../../../../usr/share/astal/gjs/gtk4/app.ts
import GLib from "gi://GLib?version=2.0";
import Gtk2 from "gi://Gtk?version=4.0";
import Astal4 from "gi://Astal?version=4.0";

// ../../../../usr/share/astal/gjs/overrides.ts
var snakeify2 = (str) => str.replace(/([a-z])([A-Z])/g, "$1_$2").replaceAll("-", "_").toLowerCase();
async function suppress(mod, patch2) {
  return mod.then((m) => patch2(m.default)).catch(() => void 0);
}
function patch(proto, prop) {
  Object.defineProperty(proto, prop, {
    get() {
      return this[`get_${snakeify2(prop)}`]();
    }
  });
}
await suppress(import("gi://AstalApps"), ({ Apps, Application }) => {
  patch(Apps.prototype, "list");
  patch(Application.prototype, "keywords");
  patch(Application.prototype, "categories");
});
await suppress(import("gi://AstalBattery"), ({ UPower }) => {
  patch(UPower.prototype, "devices");
});
await suppress(import("gi://AstalBluetooth"), ({ Adapter, Bluetooth, Device }) => {
  patch(Adapter.prototype, "uuids");
  patch(Bluetooth.prototype, "adapters");
  patch(Bluetooth.prototype, "devices");
  patch(Device.prototype, "uuids");
});
await suppress(import("gi://AstalCava"), ({ Cava }) => {
  patch(Cava.prototype, "values");
});
await suppress(import("gi://AstalHyprland"), ({ Hyprland, Monitor, Workspace }) => {
  patch(Hyprland.prototype, "binds");
  patch(Hyprland.prototype, "monitors");
  patch(Hyprland.prototype, "workspaces");
  patch(Hyprland.prototype, "clients");
  patch(Monitor.prototype, "availableModes");
  patch(Monitor.prototype, "available_modes");
  patch(Workspace.prototype, "clients");
});
await suppress(import("gi://AstalMpris"), ({ Mpris, Player }) => {
  patch(Mpris.prototype, "players");
  patch(Player.prototype, "supported_uri_schemes");
  patch(Player.prototype, "supportedUriSchemes");
  patch(Player.prototype, "supported_mime_types");
  patch(Player.prototype, "supportedMimeTypes");
  patch(Player.prototype, "comments");
});
await suppress(import("gi://AstalNetwork"), ({ Wifi }) => {
  patch(Wifi.prototype, "access_points");
  patch(Wifi.prototype, "accessPoints");
});
await suppress(import("gi://AstalNotifd"), ({ Notifd, Notification: Notification2 }) => {
  patch(Notifd.prototype, "notifications");
  patch(Notification2.prototype, "actions");
});
await suppress(import("gi://AstalPowerProfiles"), ({ PowerProfiles }) => {
  patch(PowerProfiles.prototype, "actions");
});
await suppress(import("gi://AstalRiver"), ({ River }) => {
  patch(River.prototype, "outputs");
});
await suppress(import("gi://AstalTray"), ({ Tray: Tray2 }) => {
  patch(Tray2.prototype, "items");
});
await suppress(import("gi://AstalWp"), ({ Wp, Audio, Video, Node, Endpoint, Device }) => {
  patch(Wp.prototype, "nodes");
  patch(Wp.prototype, "devices");
  patch(Audio.prototype, "streams");
  patch(Audio.prototype, "recorders");
  patch(Audio.prototype, "microphones");
  patch(Audio.prototype, "speakers");
  patch(Audio.prototype, "devices");
  patch(Video.prototype, "streams");
  patch(Video.prototype, "recorders");
  patch(Video.prototype, "sinks");
  patch(Video.prototype, "sources");
  patch(Video.prototype, "devices");
  patch(Endpoint.prototype, "routes");
  patch(Node.prototype, "channels");
  patch(Device.prototype, "profiles");
  patch(Device.prototype, "routes");
  patch(Device.prototype, "input_routes");
  patch(Device.prototype, "inputRoutes");
  patch(Device.prototype, "output_routes");
  patch(Device.prototype, "outputRoutes");
});

// ../../../../usr/share/astal/gjs/_app.ts
import { setConsoleLogDomain } from "console";
import { exit, programArgs } from "system";
import IO from "gi://AstalIO";
import GObject from "gi://GObject";
function mkApp(App) {
  return new class AstalJS extends App {
    static {
      GObject.registerClass({ GTypeName: "AstalJS" }, this);
    }
    eval(body) {
      return new Promise((res, rej) => {
        try {
          const fn = Function(`return (async function() {
                        ${body.includes(";") ? body : `return ${body};`}
                    })`);
          fn()().then(res).catch(rej);
        } catch (error) {
          rej(error);
        }
      });
    }
    requestHandler;
    vfunc_request(msg, conn) {
      if (typeof this.requestHandler === "function") {
        this.requestHandler(msg, (response) => {
          IO.write_sock(
            conn,
            String(response),
            (_, res) => IO.write_sock_finish(res)
          );
        });
      } else {
        super.vfunc_request(msg, conn);
      }
    }
    apply_css(style, reset = false) {
      super.apply_css(style, reset);
    }
    quit(code) {
      super.quit();
      exit(code ?? 0);
    }
    start({ requestHandler, css, hold, main, client, icons, ...cfg } = {}) {
      const app = this;
      client ??= () => {
        print(`Astal instance "${app.instanceName}" already running`);
        exit(1);
      };
      Object.assign(this, cfg);
      setConsoleLogDomain(app.instanceName);
      this.requestHandler = requestHandler;
      app.connect("activate", () => {
        main?.(...programArgs);
      });
      try {
        app.acquire_socket();
      } catch (error) {
        return client((msg) => IO.send_request(app.instanceName, msg), ...programArgs);
      }
      if (css)
        this.apply_css(css, false);
      if (icons)
        app.add_icons(icons);
      hold ??= true;
      if (hold)
        app.hold();
      app.runAsync([]);
    }
  }();
}

// ../../../../usr/share/astal/gjs/gtk4/app.ts
Gtk2.init();
GLib.unsetenv("LD_PRELOAD");
await import("gi://Adw?version=1").then(({ default: Adw }) => Adw.init()).catch(() => void 0);
var app_default = mkApp(Astal4.Application);

// ../../../../usr/share/astal/gjs/gtk4/widget.ts
import Astal5 from "gi://Astal?version=4.0";
import Gtk3 from "gi://Gtk?version=4.0";
function filter(children) {
  return children.flat(Infinity).map((ch) => ch instanceof Gtk3.Widget ? ch : new Gtk3.Label({ visible: true, label: String(ch) }));
}
Object.defineProperty(Astal5.Box.prototype, "children", {
  get() {
    return this.get_children();
  },
  set(v) {
    this.set_children(v);
  }
});
var Box = astalify(Astal5.Box, {
  getChildren(self) {
    return self.get_children();
  },
  setChildren(self, children) {
    return self.set_children(filter(children));
  }
});
var Button = astalify(Gtk3.Button);
var CenterBox = astalify(Gtk3.CenterBox, {
  getChildren(box) {
    return [box.startWidget, box.centerWidget, box.endWidget];
  },
  setChildren(box, children) {
    const ch = filter(children);
    box.startWidget = ch[0] || new Gtk3.Box();
    box.centerWidget = ch[1] || new Gtk3.Box();
    box.endWidget = ch[2] || new Gtk3.Box();
  }
});
var Entry = astalify(Gtk3.Entry, {
  getChildren() {
    return [];
  }
});
var Image = astalify(Gtk3.Image, {
  getChildren() {
    return [];
  }
});
var Label = astalify(Gtk3.Label, {
  getChildren() {
    return [];
  },
  setChildren(self, children) {
    self.label = String(children);
  }
});
var LevelBar = astalify(Gtk3.LevelBar, {
  getChildren() {
    return [];
  }
});
var Overlay = astalify(Gtk3.Overlay, {
  getChildren(self) {
    const children = [];
    let ch = self.get_first_child();
    while (ch !== null) {
      children.push(ch);
      ch = ch.get_next_sibling();
    }
    return children.filter((ch2) => ch2 !== self.child);
  },
  setChildren(self, children) {
    for (const child of filter(children)) {
      const types = type in child ? child[type].split(/\s+/) : [];
      if (types.includes("overlay")) {
        self.add_overlay(child);
      } else {
        self.set_child(child);
      }
      self.set_measure_overlay(child, types.includes("measure"));
      self.set_clip_overlay(child, types.includes("clip"));
    }
  }
});
var Revealer = astalify(Gtk3.Revealer);
var Slider = astalify(Astal5.Slider, {
  getChildren() {
    return [];
  }
});
var Stack = astalify(Gtk3.Stack, {
  setChildren(self, children) {
    for (const child of filter(children)) {
      if (child.name != "" && child.name != null) {
        self.add_named(child, child.name);
      } else {
        self.add_child(child);
      }
    }
  }
});
var Switch = astalify(Gtk3.Switch, {
  getChildren() {
    return [];
  }
});
var Window = astalify(Astal5.Window);
var MenuButton = astalify(Gtk3.MenuButton, {
  getChildren(self) {
    return [self.popover, self.child];
  },
  setChildren(self, children) {
    for (const child of filter(children)) {
      if (child instanceof Gtk3.Popover) {
        self.set_popover(child);
      } else {
        self.set_child(child);
      }
    }
  }
});
var Popover = astalify(Gtk3.Popover);

// sass:/home/gegeh/Documents/astal-test/styles/styles.scss
var styles_default = 'window {\n  background-color: transparent;\n  color: #3c3836;\n  font-family: "JetBrainsMono Nerd Font", sans-serif;\n  font-size: 14px;\n}\n\nbutton {\n  background-color: transparent;\n  color: #3c3836;\n  padding: 0;\n  border: none;\n  border-radius: 0;\n}\n\nlabel {\n  background-color: transparent;\n}\n\nbox {\n  background-color: transparent;\n}\n\n.Icon {\n  font-family: "JetBrainsMono Nerd Font Mono", monospace;\n}\n\n.Debug {\n  background-color: red;\n  color: green;\n}\n\nbutton:hover {\n  color: #7e7770;\n}\n\nbutton.Debug {\n  background-color: red;\n  color: green;\n}\n\nbutton.Padding {\n  background-color: transparent;\n  color: #7e7770;\n}\n\nwindow.Bar {\n  padding: 0.5rem 1rem 0.6rem 0.6rem;\n}\nwindow.Bar box.BarCenterbox {\n  background-color: #fbf1c7;\n  color: #3c3836;\n  border-radius: 0.5rem;\n  box-shadow: 5px 5px 0 0 #3c3836;\n}\nwindow.Bar box.BarCenterbox box.BarSection {\n  padding: 0 0.4rem;\n}\nwindow.Bar box.BarCenterbox separator {\n  margin: 0.5rem 0.5rem;\n  min-width: 0.2rem;\n  background-color: #E7DFBE;\n  border-radius: 1rem;\n}\nwindow.Bar box.BarCenterbox box.Launcher button.LauncherButton {\n  font-size: 28px;\n  padding-left: 0.2rem;\n  padding-right: 0.2rem;\n}\nwindow.Bar box.BarCenterbox box.Media box.MediaPlayback {\n  margin: 0 0.4rem 0 0;\n}\nwindow.Bar box.BarCenterbox box.Media box.MediaPlayback button.MediaPlaybackButton {\n  font-size: 22px;\n  padding: 0 0.3rem;\n}\nwindow.Bar box.BarCenterbox box.Media box.MediaPlayback button.MediaPlaybackButton.Disabled {\n  color: #7e7770;\n}\nwindow.Bar box.BarCenterbox box.Media image.MediaImageCoverArt {\n  margin: 0 0.5rem 0 0;\n}\nwindow.Bar box.BarCenterbox box.Media label.MediaTitleButtonLabel {\n  font-size: small;\n  font-weight: 500;\n}\nwindow.Bar box.BarCenterbox box.Workspaces button.WorkspaceButton {\n  color: #A59E86;\n}\nwindow.Bar box.BarCenterbox box.Workspaces button.WorkspaceButton.Active {\n  color: #3c3836;\n}\nwindow.Bar box.BarCenterbox box.Workspaces button.WorkspaceButton.Active > label {\n  text-decoration: underline;\n}\nwindow.Bar box.BarCenterbox box.Workspaces button.WorkspaceButton.HasClient {\n  color: #3c3836;\n}\nwindow.Bar box.BarCenterbox box.FocusedClient label.FocusedClientLabel {\n  font-size: small;\n  font-weight: 500;\n}\nwindow.Bar box.BarCenterbox box.Tray menubutton.TrayMenuButton label.TrayLabelIcon {\n  font-size: 18px;\n}\nwindow.Bar box.BarCenterbox box.Tray menubutton.TrayMenuButton image.TrayImageIcon {\n  min-width: 18px;\n}\n\nwindow.QuickSetting {\n  padding: 0.5rem 1rem 0.6rem 0.6rem;\n}\nwindow.QuickSetting box.QuickSettingContainer {\n  background-color: #fbf1c7;\n  color: #3c3836;\n  padding: 1rem;\n  border-radius: 0.5rem;\n  box-shadow: 5px 5px 0 0 #3c3836;\n}\nwindow.QuickSetting box.QuickSettingContainer button.QuickSettingButton {\n  padding: 0.5rem 1rem;\n  background-color: #E7DFBE;\n  color: #3c3836;\n  min-width: 120px;\n  min-height: 50px;\n  font-size: 14px;\n  border-radius: 0.5rem;\n}\nwindow.QuickSetting box.QuickSettingContainer button.QuickSettingButton:hover {\n  background-color: #7e7770;\n  color: #f2e9d4;\n}\nwindow.QuickSetting box.QuickSettingContainer button.QuickSettingButton.Small {\n  min-width: 60px;\n  min-height: 30px;\n}\nwindow.QuickSetting box.QuickSettingContainer button.QuickSettingButton .Icon {\n  font-size: 24px;\n}\nwindow.QuickSetting box.QuickSettingContainer button.QuickSettingButton .Chevron {\n  font-size: 20px;\n}\nwindow.QuickSetting box.QuickSettingContainer button.QuickSettingButton .Label1 {\n  font-weight: 600;\n}\nwindow.QuickSetting box.QuickSettingContainer button.QuickSettingButton .Label2 {\n  font-size: 12px;\n  color: #7e7770;\n}\nwindow.QuickSetting box.QuickSettingContainer image {\n  color: #3c3836;\n}\nwindow.QuickSetting box.QuickSettingContainer scale {\n  margin: 0;\n  padding: 0;\n}\nwindow.QuickSetting box.QuickSettingContainer scale trough {\n  border-radius: 1rem;\n}\nwindow.QuickSetting box.QuickSettingContainer scale trough highlight {\n  min-height: 20px;\n  min-width: 20px;\n  border-radius: 1rem;\n  outline: unset;\n  background-color: #3c3836;\n}\nwindow.QuickSetting box.QuickSettingContainer scale trough slider {\n  box-shadow: none;\n  outline: unset;\n  border: 0;\n  min-height: 20px;\n  min-width: 20px;\n  background-color: transparent;\n}\n\nwindow.Volume {\n  margin-top: 3.5rem;\n  min-height: 100px;\n  min-width: 100px;\n}\nwindow.Volume revealer.VolumeRevealer {\n  padding: 1rem;\n}\nwindow.Volume revealer.VolumeRevealer button.VolumeButton {\n  padding: 0.5rem;\n  border-radius: 0.5rem;\n  background-color: #fbf1c7;\n  box-shadow: 5px 5px 0 0 #3c3836;\n}\n\nwindow.Notification {\n  padding: 0.5rem 1rem 0.6rem 0.6rem;\n}\nwindow.Notification box.NotificationContainer box.NotificationItem {\n  background-color: #fbf1c7;\n  color: #3c3836;\n  border-radius: 0.5rem;\n  box-shadow: 5px 5px 0 0 #3c3836;\n  min-width: 300px;\n  padding: 0.5rem 1rem;\n}\nwindow.Notification box.NotificationContainer box.NotificationItem box.Header {\n  border-bottom: 1px solid #7e7770;\n}\nwindow.Notification box.NotificationContainer box.NotificationItem box.Content {\n  min-height: 50px;\n}\nwindow.Notification box.NotificationContainer box.NotificationItem box.Footer {\n  min-height: 1px;\n}';

// misc/cursor.ts
var _default = Gdk2.Cursor.new_from_name("default", null);
var pointer = Gdk2.Cursor.new_from_name("pointer", null);
var notAllowed = Gdk2.Cursor.new_from_name("not-allowed", null);

// ../../../../usr/share/astal/gjs/gtk4/jsx-runtime.ts
function Fragment({ children = [], child }) {
  if (child) children.push(child);
  return mergeBindings(children);
}
function jsx2(ctor, props) {
  return jsx(ctors, ctor, props);
}
var ctors = {
  box: Box,
  button: Button,
  centerbox: CenterBox,
  // circularprogress: Widget.CircularProgress,
  // drawingarea: Widget.DrawingArea,
  entry: Entry,
  image: Image,
  label: Label,
  levelbar: LevelBar,
  overlay: Overlay,
  revealer: Revealer,
  slider: Slider,
  stack: Stack,
  switch: Switch,
  window: Window,
  menubutton: MenuButton,
  popover: Popover
};
var jsxs = jsx2;

// widgets/Bar/Modules/Launcher.tsx
var Launcher = () => {
  return /* @__PURE__ */ jsx2(
    "box",
    {
      name: "Launcher",
      cssClasses: ["Launcher"],
      children: /* @__PURE__ */ jsx2(
        "button",
        {
          name: "LauncherButton",
          cssClasses: ["Icon", "LauncherButton"],
          onClicked: () => print("hello"),
          tooltipText: "Launcher",
          cursor: pointer,
          children: /* @__PURE__ */ jsx2("label", { label: "\u{F08C7}" })
        }
      )
    }
  );
};
var Launcher_default = Launcher;

// ../../../../usr/share/astal/gjs/index.ts
import { default as default3 } from "gi://AstalIO?version=0.1";

// ../../../../usr/share/astal/gjs/file.ts
import Astal7 from "gi://AstalIO";
import Gio from "gi://Gio?version=2.0";

// ../../../../usr/share/astal/gjs/gobject.ts
import GObject2 from "gi://GObject";
import { default as default2 } from "gi://GLib?version=2.0";
var meta = Symbol("meta");
var priv = Symbol("priv");
var { ParamSpec, ParamFlags } = GObject2;

// widgets/Bar/Modules/Workspaces.tsx
import AstalHyprland from "gi://AstalHyprland?version=0.1";
var maxWorkspaces = 5;
var workspaces = Array.from({ length: maxWorkspaces - 1 }, (_, i) => i);
var hyprland = AstalHyprland.get_default();
var Workspaces = () => {
  return /* @__PURE__ */ jsxs(
    "box",
    {
      name: "Workspaces",
      cssClasses: ["Workspaces"],
      halign: Gtk4.Align.CENTER,
      valign: Gtk4.Align.BASELINE,
      spacing: 3,
      children: [
        workspaces.map((i) => /* @__PURE__ */ jsx2(
          WorkspaceButton,
          {
            workspace: AstalHyprland.Workspace.dummy(i + 1, null)
          }
        )),
        bind(hyprland, "focusedWorkspace").as((focused) => /* @__PURE__ */ jsx2(Fragment, { children: focused && focused.id > maxWorkspaces ? /* @__PURE__ */ jsx2(WorkspaceButton, { workspace: focused }) : /* @__PURE__ */ jsx2(
          WorkspaceButton,
          {
            workspace: AstalHyprland.Workspace.dummy(
              maxWorkspaces,
              null
            )
          }
        ) }))
      ]
    }
  );
};
var WorkspaceButton = ({ workspace }) => {
  const confVar = Variable.derive(
    [bind(hyprland, "focusedWorkspace"), bind(hyprland, "clients")],
    (focused, _clients) => {
      const classes = ["WorkspaceButton"];
      let cursor = pointer;
      let tooltipText = `Switch Workspace ${workspace.id}`;
      if (focused && focused.id === workspace.id) {
        classes.push("Active");
        cursor = _default;
        tooltipText = "";
      }
      const clients = hyprland.get_workspace(workspace.id)?.get_clients() || [];
      if (clients.length > 0) {
        classes.push("HasClient");
      }
      return {
        classes,
        cursor,
        tooltipText
      };
    }
  );
  const conf = confVar();
  return /* @__PURE__ */ jsx2(
    "button",
    {
      name: `WorkspaceButton-${workspace.id}`,
      cssClasses: conf.as((c) => c.classes),
      onClicked: () => {
        if (workspace.id === hyprland.get_focused_workspace()?.id) {
          return;
        }
        workspace.focus();
      },
      onDestroy: () => confVar.drop(),
      tooltipText: conf.as((c) => c.tooltipText),
      cursor: conf.as((c) => c.cursor),
      children: /* @__PURE__ */ jsx2(
        "label",
        {
          label: workspace.name == "10" ? "0" : workspace.name,
          cssClasses: ["WorkspaceButtonLabel"],
          useUnderline: true
        }
      )
    }
  );
};
var Workspaces_default = Workspaces;

// widgets/Bar/Modules/FocusedClient.tsx
import AstalHyprland2 from "gi://AstalHyprland?version=0.1";
import Pango from "gi://Pango?version=1.0";
var hyprland2 = AstalHyprland2.get_default();
var FocusedClient = () => {
  const focusedClient = Variable.derive(
    [bind(hyprland2, "focusedClient"), bind(hyprland2, "clients")],
    (focusedClient2, _clients) => {
      return focusedClient2?.title || "";
    }
  );
  return /* @__PURE__ */ jsx2(
    "box",
    {
      name: "FocusedClient",
      cssClasses: ["FocusedClient"],
      halign: Gtk4.Align.CENTER,
      valign: Gtk4.Align.BASELINE,
      children: /* @__PURE__ */ jsx2(
        "label",
        {
          label: focusedClient(),
          cssClasses: ["FocusedClientLabel"],
          onDestroy: () => focusedClient.drop(),
          maxWidthChars: 36,
          ellipsize: Pango.EllipsizeMode.MIDDLE
        }
      )
    }
  );
};
var FocusedClient_default = FocusedClient;

// widgets/Bar/Start.tsx
var Start = ({ name }) => {
  return /* @__PURE__ */ jsxs(
    "box",
    {
      name: `BarStart-${name}`,
      cssClasses: ["BarSection", "BarStart"],
      hexpand: true,
      children: [
        /* @__PURE__ */ jsx2(Launcher_default, {}),
        /* @__PURE__ */ jsx2(
          Gtk4.Separator,
          {
            orientation: Gtk4.Orientation.VERTICAL,
            visible: true
          }
        ),
        /* @__PURE__ */ jsx2(Workspaces_default, {}),
        /* @__PURE__ */ jsx2(
          Gtk4.Separator,
          {
            orientation: Gtk4.Orientation.VERTICAL,
            visible: true
          }
        ),
        /* @__PURE__ */ jsx2(FocusedClient_default, {})
      ]
    }
  );
};
var Start_default = Start;

// widgets/Bar/Modules/Tray.tsx
import AstalTray from "gi://AstalTray?version=0.1";

// lib/utils.ts
var toTitleCase = (str) => {
  return str.toLowerCase().split(" ").map((word) => word.charAt(0).toUpperCase() + word.slice(1)).join(" ");
};
var debounce = (callback, wait) => {
  let timeout4 = null;
  return (...args) => {
    clearTimeout(timeout4);
    timeout4 = setTimeout(() => {
      callback(...args);
    }, wait);
  };
};

// widgets/Bar/Modules/Tray.tsx
var USE_CUSTOM_ICONS = [/steam/i];
var CUSTOM_ICONS = {
  discord: "\uF1FF",
  steam: "\uF1B6",
  spotify: "\uF1BC"
};
var getSearchWith = (item) => {
  const title = item.title;
  const tooltipMarkup = item.tooltipMarkup;
  return title && title.length ? title : tooltipMarkup;
};
var shouldUseCustomIcon = (item) => {
  const searchWith = getSearchWith(item);
  return USE_CUSTOM_ICONS.some((regex) => searchWith.match(regex));
};
var getCustomIcon = (item) => {
  const searchWith = getSearchWith(item);
  for (const [key, value] of Object.entries(CUSTOM_ICONS)) {
    if (searchWith.match(new RegExp(key, "i"))) {
      return value;
    }
  }
  return "\u{F082B}";
};
var getTooltipMarkup = (item) => {
  return toTitleCase(getSearchWith(item));
};
var ImageIcon = ({ item }) => {
  if (shouldUseCustomIcon(item)) {
    return /* @__PURE__ */ jsx2(
      "label",
      {
        cssClasses: ["TrayLabelIcon"],
        label: getCustomIcon(item)
      }
    );
  }
  return /* @__PURE__ */ jsx2(
    "image",
    {
      gicon: bind(item, "gicon"),
      cssClasses: ["TrayImageIcon"],
      pixelSize: 18
    }
  );
};
var MenuButton2 = ({ item }) => {
  return /* @__PURE__ */ jsxs(
    "menubutton",
    {
      setup: (self) => {
        self.insert_action_group("dbusmenu", item.actionGroup);
      },
      cursor: pointer,
      tooltipMarkup: getTooltipMarkup(item),
      cssClasses: ["TrayMenuButton"],
      halign: Gtk4.Align.CENTER,
      valign: Gtk4.Align.CENTER,
      children: [
        /* @__PURE__ */ jsx2(ImageIcon, { item }),
        Gtk4.PopoverMenu.new_from_model(item.menuModel)
      ]
    }
  );
};
var Tray = () => {
  const tray = AstalTray.get_default();
  return /* @__PURE__ */ jsx2(
    "box",
    {
      name: "Tray",
      cssClasses: ["Tray"],
      spacing: 10,
      valign: Gtk4.Align.CENTER,
      children: bind(tray, "items").as(
        (items) => items.map((item) => /* @__PURE__ */ jsx2(MenuButton2, { item }))
      )
    }
  );
};
var Tray_default = Tray;

// widgets/Bar/Modules/Media.tsx
import AstalMpris from "gi://AstalMpris";
import Pango2 from "gi://Pango?version=1.0";
var Media = ({ player }) => {
  if (!player) {
    return /* @__PURE__ */ jsx2("box", {});
  }
  const coverArt = bind(player, "coverArt");
  const title = bind(player, "title").as((t) => t);
  const playIcon = bind(player, "playbackStatus").as(
    (s) => s === AstalMpris.PlaybackStatus.PLAYING ? "\uF04B" : "\uF04C"
  );
  const goPrevCursor = bind(player, "canGoPrevious").as(
    (canGo) => canGo ? pointer : notAllowed
  );
  const goNextCursor = bind(player, "canGoNext").as(
    (canGo) => canGo ? pointer : notAllowed
  );
  const classessVars = Variable.derive(
    [bind(player, "canGoPrevious"), bind(player, "canGoNext")],
    (canGoPrev, canGoNext) => {
      const classes = ["Icon", "MediaPlaybackButton"];
      return {
        goPrev: canGoPrev ? classes : [...classes, "Disabled"],
        goNext: canGoNext ? classes : [...classes, "Disabled"]
      };
    }
  );
  const classess = classessVars();
  return /* @__PURE__ */ jsxs("box", { name: "Media", valign: Gtk4.Align.CENTER, cssClasses: ["Media"], children: [
    /* @__PURE__ */ jsxs(
      "box",
      {
        name: "MediaPlayback",
        cssClasses: ["MediaPlayback"],
        onDestroy: () => classessVars.drop(),
        children: [
          /* @__PURE__ */ jsx2(
            "button",
            {
              name: "MediaPlaybackButtonPrevious",
              cssClasses: classess.as((c) => c.goPrev),
              onClicked: () => player.get_can_go_previous() && player.previous(),
              tooltipText: "Previous Track",
              halign: Gtk4.Align.CENTER,
              cursor: goPrevCursor,
              children: /* @__PURE__ */ jsx2("label", { label: "\uF04A", hexpand: true })
            }
          ),
          /* @__PURE__ */ jsx2(
            "button",
            {
              name: "MediaPlaybackButtonPlayPause",
              cssClasses: ["Icon", "MediaPlaybackButton"],
              onClicked: () => player.play_pause(),
              tooltipText: "Play/Pause",
              halign: Gtk4.Align.CENTER,
              cursor: pointer,
              children: /* @__PURE__ */ jsx2("label", { label: playIcon, hexpand: true })
            }
          ),
          /* @__PURE__ */ jsx2(
            "button",
            {
              name: "MediaPlaybackButtonNext",
              cssClasses: classess.as((c) => c.goNext),
              onClicked: () => player.get_can_go_next() && player.next(),
              tooltipText: "Next Track",
              halign: Gtk4.Align.CENTER,
              cursor: goNextCursor,
              children: /* @__PURE__ */ jsx2("label", { label: "\uF04E", hexpand: true })
            }
          )
        ]
      }
    ),
    /* @__PURE__ */ jsx2(
      "button",
      {
        onClicked: () => player.get_can_raise() && player.raise(),
        cursor: pointer,
        children: /* @__PURE__ */ jsx2(
          "image",
          {
            name: "MediaImageCoverArt",
            cssClasses: ["MediaImageCoverArt"],
            file: coverArt,
            pixelSize: 32,
            overflow: Gtk4.Overflow.HIDDEN,
            visible: true
          }
        )
      }
    ),
    /* @__PURE__ */ jsx2(
      "button",
      {
        name: "MediaTitleButton",
        cssClasses: ["MediaTitleButton"],
        cursor: pointer,
        onClicked: () => player.get_can_raise() && player.raise(),
        children: /* @__PURE__ */ jsx2(
          "label",
          {
            name: "MediaTitleButtonLabel",
            cssClasses: ["MediaTitleButtonLabel"],
            label: title,
            halign: Gtk4.Align.CENTER,
            valign: Gtk4.Align.CENTER,
            maxWidthChars: 36,
            ellipsize: Pango2.EllipsizeMode.MIDDLE
          }
        )
      }
    )
  ] });
};
var Media_default = Media;

// widgets/Bar/Center.tsx
import AstalMpris2 from "gi://AstalMpris?version=0.1";
var Center = ({ name }) => {
  const mpris = AstalMpris2.get_default();
  return /* @__PURE__ */ jsxs(
    "box",
    {
      name: `BarCenter-${name}`,
      cssClasses: ["BarSection", "BarCenter"],
      hexpand: true,
      halign: Gtk4.Align.CENTER,
      children: [
        bind(mpris, "players").as((players) => /* @__PURE__ */ jsxs(Fragment, { children: [
          /* @__PURE__ */ jsx2(Media_default, { player: players[0] }),
          players[0] && /* @__PURE__ */ jsx2(
            Gtk4.Separator,
            {
              orientation: Gtk4.Orientation.VERTICAL,
              visible: true
            }
          )
        ] })),
        /* @__PURE__ */ jsx2(Tray_default, {})
      ]
    }
  );
};
var Center_default = Center;

// widgets/Bar/Modules/Time.tsx
var datetime = Variable({
  date: "",
  time: ""
}).poll(1e3, "date +'%a, %b %d|%H:%M:%S'", (output) => {
  const [date, time] = output.split("|");
  return { date, time };
});
var Time2 = ({ gdkmonitor }) => {
  const _datetime = datetime();
  return /* @__PURE__ */ jsx2("box", { name: `Time`, cssClasses: ["BarSection", "BarEnd"], hexpand: true, children: /* @__PURE__ */ jsx2(
    "button",
    {
      name: "End-Button",
      onClicked: () => {
        app_default.toggle_window(`QuickSetting-${gdkmonitor.connector}`);
      },
      children: /* @__PURE__ */ jsxs("box", { children: [
        /* @__PURE__ */ jsx2("label", { label: _datetime.as((d) => d.date + " ") }),
        /* @__PURE__ */ jsx2("label", { label: _datetime.as((d) => d.time) })
      ] })
    }
  ) });
};
var Time_default = Time2;

// widgets/Bar/End.tsx
var End = ({ name, gdkmonitor }) => {
  return /* @__PURE__ */ jsx2(
    "box",
    {
      name: `BarEnd-${name}`,
      cssClasses: ["BarSection", "BarEnd"],
      hexpand: true,
      halign: Gtk4.Align.END,
      children: /* @__PURE__ */ jsx2(Time_default, { gdkmonitor })
    }
  );
};
var End_default = End;

// widgets/Bar/Bar.tsx
var Bar = ({ gdkmonitor }) => {
  const { TOP, LEFT, RIGHT } = Astal6.WindowAnchor;
  const name = `Bar-${gdkmonitor.connector}`;
  return /* @__PURE__ */ jsx2(
    "window",
    {
      name,
      namespace: "Bar",
      application: app_default,
      cssClasses: ["Bar"],
      gdkmonitor,
      anchor: TOP | LEFT | RIGHT,
      exclusivity: Astal6.Exclusivity.EXCLUSIVE,
      visible: true,
      setup: (self) => {
        self.set_default_size(1, 1);
      },
      children: /* @__PURE__ */ jsx2(
        "centerbox",
        {
          name,
          cssClasses: ["BarCenterbox"],
          startWidget: /* @__PURE__ */ jsx2(Start_default, { name }),
          centerWidget: /* @__PURE__ */ jsx2(Center_default, { name }),
          endWidget: /* @__PURE__ */ jsx2(End_default, { name, gdkmonitor })
        }
      )
    }
  );
};
var Bar_default = Bar;

// widgets/commons/Popover.tsx
var Popover2 = ({
  child,
  name,
  gdkmonitor,
  visible,
  cssClasses
}) => {
  const { TOP, RIGHT, BOTTOM, LEFT } = Astal6.WindowAnchor;
  return /* @__PURE__ */ jsx2(
    "window",
    {
      name,
      namespace: "Popover",
      application: app_default,
      cssClasses: ["Popover", ...cssClasses || []],
      gdkmonitor,
      layer: Astal6.Layer.TOP,
      keymode: Astal6.Keymode.ON_DEMAND,
      anchor: TOP | RIGHT | BOTTOM | LEFT,
      visible: visible || false,
      setup: (self) => {
        self.set_default_size(1, 1);
      },
      onKeyPressed: (_event, keyval) => {
        if (keyval === Gdk2.KEY_Escape) {
          app_default.toggle_window(name);
        }
      },
      children: /* @__PURE__ */ jsxs("box", { cssClasses: [], children: [
        /* @__PURE__ */ jsx2(Padding, { name }),
        /* @__PURE__ */ jsxs("box", { vertical: true, hexpand: false, children: [
          child,
          /* @__PURE__ */ jsx2(Padding, { name })
        ] })
      ] })
    }
  );
};
var Padding = ({ name }) => {
  return /* @__PURE__ */ jsx2(
    "button",
    {
      cssClasses: ["Padding", "Debug"],
      canFocus: false,
      onClicked: () => {
        app_default.toggle_window(name);
      },
      hexpand: true,
      vexpand: true
    }
  );
};
var Popover_default = Popover2;

// widgets/QuickSetting/Button.tsx
var Button2 = ({ icon, label1, label2 }) => {
  return /* @__PURE__ */ jsx2("button", { cssClasses: ["QuickSettingButton"], hexpand: true, children: /* @__PURE__ */ jsxs("box", { spacing: 16, halign: Gtk4.Align.FILL, valign: Gtk4.Align.CENTER, children: [
    /* @__PURE__ */ jsx2("label", { cssClasses: ["Icon"], label: icon }),
    /* @__PURE__ */ jsxs(
      "box",
      {
        cssClasses: ["Labels"],
        vertical: true,
        valign: Gtk4.Align.CENTER,
        halign: Gtk4.Align.START,
        hexpand: true,
        children: [
          /* @__PURE__ */ jsx2(
            "label",
            {
              cssClasses: ["Label1"],
              halign: Gtk4.Align.START,
              label: label1
            }
          ),
          /* @__PURE__ */ jsx2(
            "label",
            {
              maxWidthChars: 15,
              cssClasses: ["Label2"],
              halign: Gtk4.Align.START,
              label: label2
            }
          )
        ]
      }
    ),
    /* @__PURE__ */ jsx2("label", { cssClasses: ["Icon", "Chevron"], label: "\uF054" })
  ] }) });
};
var Button_default = Button2;

// widgets/QuickSetting/ButtonSmall.tsx
var ButtonSmall = ({ icon }) => {
  return /* @__PURE__ */ jsx2("button", { cssClasses: ["QuickSettingButton", "Small"], hexpand: true, children: /* @__PURE__ */ jsx2("box", { cssClasses: ["Icon"], halign: Gtk4.Align.CENTER, children: /* @__PURE__ */ jsx2(
    "label",
    {
      cssClasses: [""],
      label: icon,
      hexpand: true,
      vexpand: false
    }
  ) }) });
};
var ButtonSmall_default = ButtonSmall;

// widgets/QuickSetting/QuickSetting.tsx
import AstalWp from "gi://AstalWp?version=0.1";
var QuickSetting = ({ gdkmonitor, visible }) => {
  const name = `QuickSetting-${gdkmonitor.connector}`;
  const speaker2 = AstalWp.get_default()?.audio.defaultSpeaker;
  const debouncedSetVolume = debounce((value) => {
    speaker2.volume = value;
  }, 100);
  return /* @__PURE__ */ jsx2(
    Popover_default,
    {
      name,
      gdkmonitor,
      visible,
      cssClasses: ["QuickSetting"],
      children: /* @__PURE__ */ jsxs(
        "box",
        {
          cssClasses: ["QuickSettingContainer"],
          vertical: true,
          spacing: 10,
          children: [
            /* @__PURE__ */ jsxs(
              "box",
              {
                cssClasses: ["QuickSettingRow"],
                hexpand: true,
                halign: Gtk4.Align.CENTER,
                spacing: 10,
                children: [
                  /* @__PURE__ */ jsx2(Button_default, { icon: "\u{F05A9}", label1: "Wi-Fi", label2: "TSL77" }),
                  /* @__PURE__ */ jsx2(
                    Button_default,
                    {
                      icon: "\u{F00AF}",
                      label1: "Bluetooth",
                      label2: "Nokia E3511"
                    }
                  )
                ]
              }
            ),
            /* @__PURE__ */ jsxs("box", { cssClasses: ["QuickSettingRow"], spacing: 10, children: [
              /* @__PURE__ */ jsx2(ButtonSmall_default, { icon: "\u{F0499}" }),
              /* @__PURE__ */ jsx2(ButtonSmall_default, { icon: "\u{F009C}" }),
              /* @__PURE__ */ jsx2(ButtonSmall_default, { icon: "\u{F020A}" })
            ] }),
            /* @__PURE__ */ jsxs("box", { cssClasses: ["QuickSettingRow"], spacing: 10, children: [
              /* @__PURE__ */ jsx2(ButtonSmall_default, { icon: "\u{F0080}" }),
              /* @__PURE__ */ jsx2(ButtonSmall_default, { icon: "\u{F04C3}" }),
              /* @__PURE__ */ jsx2(ButtonSmall_default, { icon: "\u{F18F4}" })
            ] }),
            /* @__PURE__ */ jsx2(
              "box",
              {
                cssClasses: ["QuickSettingRow"],
                spacing: 10,
                vertical: true,
                children: /* @__PURE__ */ jsxs("box", { valign: Gtk4.Align.CENTER, spacing: 10, children: [
                  /* @__PURE__ */ jsx2(
                    "image",
                    {
                      iconName: bind(speaker2, "volumeIcon"),
                      valign: Gtk4.Align.CENTER,
                      iconSize: Gtk4.IconSize.LARGE,
                      pixelSize: 20
                    }
                  ),
                  /* @__PURE__ */ jsx2(
                    "slider",
                    {
                      onChangeValue: (self) => {
                        debouncedSetVolume(self.value);
                      },
                      value: bind(speaker2, "volume"),
                      hexpand: true
                    }
                  )
                ] })
              }
            )
          ]
        }
      )
    }
  );
};
var QuickSettingInit = ({ gdkmonitor }) => {
  const w = QuickSetting({
    gdkmonitor
    // visible: gdkmonitor.manufacturer === "HKC OVERSEAS LIMITED",
  });
  app_default.connect("window-toggled", (_source, window) => {
    if (window.get_name() === `QuickSetting-${gdkmonitor.manufacturer}`) {
    }
  });
  return w;
};
var QuickSetting_default = QuickSettingInit;

// app.tsx
import AstalHyprland5 from "gi://AstalHyprland?version=0.1";
import AstalTray2 from "gi://AstalTray?version=0.1";

// widgets/Osd/Volume.tsx
import AstalWp2 from "gi://AstalWp?version=0.1";
import AstalHyprland3 from "gi://AstalHyprland?version=0.1";
var speaker = AstalWp2.get_default().get_default_speaker();
var hyprland3 = AstalHyprland3.get_default();
var VolumeComponent = ({ gdkmonitor, name }) => {
  const visible = Variable(false);
  const iconName = Variable("");
  const value = Variable(0);
  let firstTime = true;
  let tick = 0;
  let hideWindowTimeout;
  function show(v, icon) {
    if (hideWindowTimeout) {
      hideWindowTimeout.cancel();
      hideWindowTimeout = void 0;
    }
    if (firstTime) {
      firstTime = false;
      return;
    }
    const window = app_default.get_window(name);
    window?.show();
    visible.set(true);
    value.set(v);
    iconName.set(icon);
    tick++;
    timeout(1e3, () => {
      tick--;
      if (tick === 0) {
        visible.set(false);
        hideWindowTimeout = timeout(100, () => {
          window?.hide();
        });
      }
    });
  }
  return /* @__PURE__ */ jsx2(
    "window",
    {
      name,
      application: app_default,
      cssClasses: ["Volume"],
      gdkmonitor,
      anchor: Astal6.WindowAnchor.TOP,
      layer: Astal6.Layer.OVERLAY,
      exclusivity: Astal6.Exclusivity.IGNORE,
      visible: false,
      setup: (self) => {
        self.set_default_size(1, 1);
      },
      children: /* @__PURE__ */ jsx2(
        "revealer",
        {
          cssClasses: ["VolumeRevealer"],
          setup: (self) => {
            speaker?.connect("notify::volume", () => {
              const focusedMon = hyprland3.get_focused_monitor();
              if (focusedMon.name !== gdkmonitor.connector) {
                return;
              }
              show(speaker.volume, speaker.volumeIcon);
            });
          },
          revealChild: true,
          transitionType: Gtk4.RevealerTransitionType.SLIDE_DOWN,
          transition_duration: 500,
          children: /* @__PURE__ */ jsx2(
            "button",
            {
              cssClasses: ["VolumeButton"],
              onClicked: () => {
                console.log("OSD button clicked");
                visible.set(false);
              },
              valign: Gtk4.Align.CENTER,
              halign: Gtk4.Align.CENTER,
              children: /* @__PURE__ */ jsxs("box", { spacing: 10, children: [
                /* @__PURE__ */ jsx2("image", { iconName: iconName() }),
                /* @__PURE__ */ jsx2(
                  "levelbar",
                  {
                    valign: Gtk4.Align.CENTER,
                    widthRequest: 100,
                    value: value()
                  }
                ),
                /* @__PURE__ */ jsx2(
                  "label",
                  {
                    label: value((v) => `${Math.floor(v * 100)}%`)
                  }
                )
              ] })
            }
          )
        }
      )
    }
  );
};
var Volume = ({ gdkmonitor }) => {
  const name = `Volume-${gdkmonitor.connector}`;
  const w = VolumeComponent({
    gdkmonitor,
    name
  });
  app_default.connect("window-toggled", (_source, window) => {
    if (window.get_name() === name) {
    }
  });
  return w;
};
var Volume_default = Volume;

// widgets/Notification/Notification.tsx
import AstalHyprland4 from "gi://AstalHyprland?version=0.1";
import AstalNotifd2 from "gi://AstalNotifd?version=0.1";
import Pango3 from "gi://Pango?version=1.0";

// widgets/Notification/Manager.tsx
import AstalNotifd from "gi://AstalNotifd?version=0.1";
var notifd = AstalNotifd.get_default();
var MAX_PROCESSING = 3;
var Manager = class {
  queue = notifd.get_notifications().map((n) => n.id);
  actives = [];
  entry = Variable({
    queue: this.queue,
    actives: this.actives
  });
  constructor() {
    notifd.connect("notified", (_source, id, replaced) => {
      this.onNotified(_source, id, replaced);
    });
    notifd.connect("resolved", (_source, id, reason) => {
      this.onResolved(_source, id, reason);
    });
    this.processQueue();
  }
  onNotified(_source, id, replaced) {
    console.log("Notification received", id, replaced);
    const notification = notifd.get_notification(id);
    if (!notification) {
      console.log("Notification with id", id, "not found");
      return;
    }
    if (notifd.dontDisturb && notification.urgency !== AstalNotifd.Urgency.CRITICAL) {
      return;
    }
    this.queue.push(id);
    this.processQueue();
  }
  onResolved(_source, id, reason) {
    console.log("Notification resolved", id, reason);
    const index = this.queue.indexOf(id);
    if (index !== -1) {
      this.queue.splice(index, 1);
    }
    const activeIndex = this.actives.indexOf(id);
    if (activeIndex !== -1) {
      this.actives.splice(activeIndex, 1);
    }
    this.notify();
    this.processQueue();
  }
  processQueue() {
    console.log("Processing queue", this.queue.join(","), this.actives.join(","));
    if (this.actives.length >= MAX_PROCESSING) {
      console.log("Max processing limit reached, skipping queue processing");
      return;
    }
    if (this.queue.length === 0) {
      console.log("No notifications in queue, nothing to process");
      return;
    }
    const id = this.queue.shift();
    if (id === void 0) {
      return;
    }
    this.actives.push(id);
    this.notify();
    this.processQueue();
  }
  get() {
    return this.entry.get();
  }
  subscribe(callback) {
    return this.entry.subscribe(callback);
  }
  notify() {
    console.log("Notifying", this.queue.join(","), this.actives.join(","));
    this.entry.set({
      queue: this.queue,
      actives: this.actives
    });
  }
};
var Manager_default = Manager;

// widgets/Notification/Notification.tsx
var notifd2 = AstalNotifd2.get_default();
var hyprland4 = AstalHyprland4.get_default();
var isIcon = (icon) => {
  const iconTheme = new Gtk4.IconTheme();
  return iconTheme.has_icon(icon);
};
var fileExists = (path) => default2.file_test(path, default2.FileTest.EXISTS);
var Header = ({ notification }) => {
  return /* @__PURE__ */ jsxs("box", { cssClasses: ["Header"], valign: Gtk4.Align.CENTER, children: [
    /* @__PURE__ */ jsxs(
      "box",
      {
        cssClasses: ["HeaderLeft"],
        halign: Gtk4.Align.START,
        hexpand: true,
        spacing: 5,
        children: [
          (notification.appIcon || notification.desktopEntry) && /* @__PURE__ */ jsx2(
            "image",
            {
              cssClasses: ["AppIcon"],
              visible: !!(notification.appIcon || notification.desktopEntry),
              iconName: notification.appIcon || notification.desktopEntry
            }
          ),
          /* @__PURE__ */ jsx2(
            "label",
            {
              cssClasses: ["HeaderLabel"],
              label: `${notification.appName || "Notification"} (${notification.id} - ${notification.desktopEntry || "Unknown"})`
            }
          )
        ]
      }
    ),
    /* @__PURE__ */ jsxs(
      "box",
      {
        cssClasses: ["HeaderRight"],
        halign: Gtk4.Align.END,
        hexpand: true,
        spacing: 5,
        children: [
          /* @__PURE__ */ jsx2(
            "label",
            {
              cssClasses: ["HeaderTime"],
              label: new Date(
                notification.time * 1e3
              ).toLocaleTimeString("en-US", {
                hour: "2-digit",
                minute: "2-digit",
                second: void 0,
                hour12: false
              })
            }
          ),
          /* @__PURE__ */ jsx2(
            "button",
            {
              cssClasses: ["CloseButton"],
              tooltipText: "Close Notification",
              onClicked: () => {
                notification.dismiss();
              },
              children: /* @__PURE__ */ jsx2("label", { label: "\u2715" })
            }
          )
        ]
      }
    )
  ] });
};
var Content = ({ notification }) => {
  return /* @__PURE__ */ jsxs("box", { cssClasses: ["Content"], valign: Gtk4.Align.START, children: [
    notification.image && fileExists(notification.image) && /* @__PURE__ */ jsx2("box", { valign: Gtk4.Align.START, cssClasses: ["ContentImage"], children: /* @__PURE__ */ jsx2(
      "image",
      {
        file: notification.image,
        overflow: Gtk4.Overflow.HIDDEN
      }
    ) }),
    notification.image && isIcon(notification.image) && /* @__PURE__ */ jsx2("box", { cssClasses: ["ContentIcon"], valign: Gtk4.Align.START, children: /* @__PURE__ */ jsx2(
      "image",
      {
        iconName: notification.image,
        iconSize: Gtk4.IconSize.LARGE,
        halign: Gtk4.Align.CENTER,
        valign: Gtk4.Align.CENTER
      }
    ) }),
    /* @__PURE__ */ jsxs("box", { hexpand: true, vertical: true, children: [
      /* @__PURE__ */ jsx2(
        "label",
        {
          ellipsize: Pango3.EllipsizeMode.END,
          maxWidthChars: 30,
          cssClasses: ["ContentSummary"],
          halign: Gtk4.Align.START,
          xalign: 0,
          label: notification.summary
        }
      ),
      notification.body && /* @__PURE__ */ jsx2(
        "label",
        {
          cssClasses: ["ContentBody"],
          maxWidthChars: 30,
          wrap: true,
          halign: Gtk4.Align.START,
          xalign: 0,
          label: notification.body
        }
      )
    ] })
  ] });
};
var Footer = ({ notification }) => {
  return /* @__PURE__ */ jsx2("box", { cssClasses: ["Footer"], children: notification.get_actions().length > 0 && /* @__PURE__ */ jsx2("box", { cssClasses: ["FooterActions"], spacing: 6, children: notification.get_actions().map((action) => /* @__PURE__ */ jsx2(
    "button",
    {
      hexpand: true,
      onClicked: () => {
        notification.invoke(action.id);
        notification.dismiss();
        const clients = hyprland4.get_clients();
        const client = clients.find(
          (c) => notification.appName === c.class
        );
        if (client) {
          hyprland4.dispatch(
            "focuswindow",
            `class:${client.class}`
          );
        }
      },
      children: /* @__PURE__ */ jsx2(
        "label",
        {
          label: action.label,
          halign: Gtk4.Align.CENTER,
          hexpand: true
        }
      )
    }
  )) }) });
};
var NotificationItem = ({ notificationId }) => {
  const notification = notifd2.get_notification(notificationId);
  if (!notification) {
    console.log("Notification not found:", notificationId);
    return null;
  }
  return /* @__PURE__ */ jsxs("box", { cssClasses: ["NotificationItem"], vertical: true, children: [
    /* @__PURE__ */ jsx2(Header, { notification }),
    /* @__PURE__ */ jsx2(Content, { notification }),
    /* @__PURE__ */ jsx2(Footer, { notification })
  ] });
};
var manager = new Manager_default();
var Notification = ({ gdkmonitor }) => {
  const name = `Notification-${gdkmonitor.connector}`;
  const { TOP, BOTTOM, LEFT, RIGHT } = Astal6.WindowAnchor;
  return /* @__PURE__ */ jsx2(
    "window",
    {
      name,
      namespace: "Notification",
      application: app_default,
      cssClasses: ["Notification"],
      gdkmonitor,
      layer: Astal6.Layer.TOP,
      keymode: Astal6.Keymode.ON_DEMAND,
      anchor: TOP | RIGHT,
      visible: true,
      setup: (self) => {
        self.set_default_size(1, 1);
        manager.subscribe((entry) => {
          console.log("Notification manager updated:", entry);
          if (entry && entry.actives && entry.actives.length > 0) {
            self.show();
          } else {
            self.hide();
          }
        });
      },
      children: /* @__PURE__ */ jsx2(
        "box",
        {
          cssClasses: ["NotificationContainer"],
          vertical: true,
          spacing: 10,
          valign: Gtk4.Align.START,
          children: bind(manager).as((entry) => {
            console.log("Notification entry:", entry);
            return [...entry.actives].reverse().map((notificationId) => /* @__PURE__ */ jsx2(NotificationItem, { notificationId }));
          })
        }
      )
    }
  );
};
var Notification_default = Notification;

// app.tsx
function initMonitor(gdkmonitor) {
  return [
    Notification_default({ gdkmonitor }),
    Volume_default({ gdkmonitor }),
    Bar_default({ gdkmonitor }),
    QuickSetting_default({ gdkmonitor })
  ];
}
var hyprland5 = AstalHyprland5.get_default();
var windows = /* @__PURE__ */ new Map();
var hyprMonitors = /* @__PURE__ */ new Map();
function onMonitorAdded(_source, monitor) {
  hyprMonitors.set(monitor.id, monitor);
  console.log("monitor added", monitor.id, monitor.name);
  const gdkmonitor = app_default.get_monitors().find(
    (m) => m.connector === monitor.name
  );
  if (gdkmonitor) {
    windows.set(gdkmonitor, initMonitor(gdkmonitor));
  }
}
function onMonitorRemoved(_source, id) {
  const monitor = hyprMonitors.get(id);
  if (!monitor) {
    console.log("Monitor with id", id, "not found");
    return;
  }
  console.log("monitor removed", monitor.id, monitor.name);
  const gdkmonitor = app_default.get_monitors().find(
    (m) => m.connector === monitor.name
  );
  if (gdkmonitor) {
    console.log("gdkmonitor found", gdkmonitor.connector);
    const windowsToRemove = windows.get(gdkmonitor);
    if (windowsToRemove) {
      console.log("removing windows for", gdkmonitor.connector);
      windowsToRemove.forEach((window) => window.destroy());
      console.log("windows removed for", gdkmonitor.connector);
      windows.delete(gdkmonitor);
      console.log("gdkmonitor removed", gdkmonitor.connector);
    }
  }
  console.log("deleting monitor from hyprMonitors", id);
  hyprMonitors.delete(id);
  console.log("monitor removed from hyprMonitors", id);
}
function reinit() {
  windows.forEach((winList, gdkmonitor) => {
    console.log("removing windows for", gdkmonitor.connector);
    winList.forEach((window) => window.destroy());
    windows.delete(gdkmonitor);
    console.log("windows removed for", gdkmonitor.connector);
  });
  hyprland5.get_monitors().forEach((monitor) => {
    console.log("monitor name", monitor.id, monitor.name);
    const gdkmonitor = app_default.get_monitors().find(
      (m) => m.connector === monitor.name
    );
    if (gdkmonitor) {
      windows.set(gdkmonitor, initMonitor(gdkmonitor));
    }
  });
}
app_default.start({
  instanceName: "Ass",
  css: styles_default,
  main() {
    hyprland5.get_monitors().forEach((monitor) => {
      hyprMonitors.set(monitor.id, monitor);
      console.log("monitor name", monitor.id, monitor.name);
      const gdkmonitor = app_default.get_monitors().find(
        (m) => m.connector === monitor.name
      );
      if (gdkmonitor) {
        windows.set(gdkmonitor, initMonitor(gdkmonitor));
      }
    });
    hyprland5.connect("monitor-added", onMonitorAdded);
    hyprland5.connect("monitor-removed", onMonitorRemoved);
    hyprland5.connect("submap", (_source, name) => {
      if (name === "resize") {
        execAsync("notify-send -t 1000 'Resize mode activated'");
      } else if (name === "") {
        execAsync("notify-send -t 1000 'Resize mode ended'");
      }
    });
  },
  requestHandler(request, res) {
    if (request == "say hi") {
      return res("Hello from Astaltes!");
    }
    if (request === "tray") {
      const tray = AstalTray2.get_default();
      const items = tray.get_items();
      if (items.length === 0) {
        return res("No tray items found");
      }
      const titles = items.map((item) => item.title).join(", ");
      const tooltips = items.map((item) => item.tooltipMarkup).join(", ");
      const iconNames = items.map((item) => item.iconName).join(", ");
      const iconPaths = items.map((item) => item.iconThemePath).join(", ");
      const jsons = items.map((item) => item.to_json_string()).join(",");
      return res(`Tray items: ${titles}
                
Tooltips: ${tooltips}
                
Icons: ${iconNames}
                
Icon Paths: ${iconPaths}
                
JSONs: [${jsons}]`);
    }
    if (request == "reinit") {
      reinit();
      return res("Reinitialized monitors");
    }
    if (request.includes("rmmonitor")) {
      const id = parseInt(request.split("rmmonitor")[1].trim(), 10);
      if (isNaN(id)) {
        return res("Invalid monitor ID");
      }
      onMonitorRemoved(hyprland5, id);
      return res("Monitor removed");
    }
    if (request.includes("addmonitor")) {
      const id = parseInt(request.split("addmonitor")[1].trim(), 10);
      if (isNaN(id)) {
        return res("Invalid monitor ID");
      }
      const monitor = hyprland5.get_monitor(id);
      if (monitor) {
        onMonitorAdded(hyprland5, monitor);
        return res("Monitor added");
      }
      return res("No monitor to add");
    }
    res("Unknown request");
  }
});
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vLi4vLi4vdXNyL3NoYXJlL2FzdGFsL2dqcy9ndGs0L2luZGV4LnRzIiwgIi4uLy4uLy4uLy4uLy4uL3Vzci9zaGFyZS9hc3RhbC9nanMvdmFyaWFibGUudHMiLCAiLi4vLi4vLi4vLi4vLi4vdXNyL3NoYXJlL2FzdGFsL2dqcy9iaW5kaW5nLnRzIiwgIi4uLy4uLy4uLy4uLy4uL3Vzci9zaGFyZS9hc3RhbC9nanMvdGltZS50cyIsICIuLi8uLi8uLi8uLi8uLi91c3Ivc2hhcmUvYXN0YWwvZ2pzL3Byb2Nlc3MudHMiLCAiLi4vLi4vLi4vLi4vLi4vdXNyL3NoYXJlL2FzdGFsL2dqcy9fYXN0YWwudHMiLCAiLi4vLi4vLi4vLi4vLi4vdXNyL3NoYXJlL2FzdGFsL2dqcy9ndGs0L2FzdGFsaWZ5LnRzIiwgIi4uLy4uLy4uLy4uLy4uL3Vzci9zaGFyZS9hc3RhbC9nanMvZ3RrNC9hcHAudHMiLCAiLi4vLi4vLi4vLi4vLi4vdXNyL3NoYXJlL2FzdGFsL2dqcy9vdmVycmlkZXMudHMiLCAiLi4vLi4vLi4vLi4vLi4vdXNyL3NoYXJlL2FzdGFsL2dqcy9fYXBwLnRzIiwgIi4uLy4uLy4uLy4uLy4uL3Vzci9zaGFyZS9hc3RhbC9nanMvZ3RrNC93aWRnZXQudHMiLCAic2FzczovaG9tZS9nZWdlaC9Eb2N1bWVudHMvYXN0YWwtdGVzdC9zdHlsZXMvc3R5bGVzLnNjc3MiLCAiLi4vbWlzYy9jdXJzb3IudHMiLCAiLi4vLi4vLi4vLi4vLi4vdXNyL3NoYXJlL2FzdGFsL2dqcy9ndGs0L2pzeC1ydW50aW1lLnRzIiwgIi4uL3dpZGdldHMvQmFyL01vZHVsZXMvTGF1bmNoZXIudHN4IiwgIi4uLy4uLy4uLy4uLy4uL3Vzci9zaGFyZS9hc3RhbC9nanMvaW5kZXgudHMiLCAiLi4vLi4vLi4vLi4vLi4vdXNyL3NoYXJlL2FzdGFsL2dqcy9maWxlLnRzIiwgIi4uLy4uLy4uLy4uLy4uL3Vzci9zaGFyZS9hc3RhbC9nanMvZ29iamVjdC50cyIsICIuLi93aWRnZXRzL0Jhci9Nb2R1bGVzL1dvcmtzcGFjZXMudHN4IiwgIi4uL3dpZGdldHMvQmFyL01vZHVsZXMvRm9jdXNlZENsaWVudC50c3giLCAiLi4vd2lkZ2V0cy9CYXIvU3RhcnQudHN4IiwgIi4uL3dpZGdldHMvQmFyL01vZHVsZXMvVHJheS50c3giLCAiLi4vbGliL3V0aWxzLnRzIiwgIi4uL3dpZGdldHMvQmFyL01vZHVsZXMvTWVkaWEudHN4IiwgIi4uL3dpZGdldHMvQmFyL0NlbnRlci50c3giLCAiLi4vd2lkZ2V0cy9CYXIvTW9kdWxlcy9UaW1lLnRzeCIsICIuLi93aWRnZXRzL0Jhci9FbmQudHN4IiwgIi4uL3dpZGdldHMvQmFyL0Jhci50c3giLCAiLi4vd2lkZ2V0cy9jb21tb25zL1BvcG92ZXIudHN4IiwgIi4uL3dpZGdldHMvUXVpY2tTZXR0aW5nL0J1dHRvbi50c3giLCAiLi4vd2lkZ2V0cy9RdWlja1NldHRpbmcvQnV0dG9uU21hbGwudHN4IiwgIi4uL3dpZGdldHMvUXVpY2tTZXR0aW5nL1F1aWNrU2V0dGluZy50c3giLCAiLi4vYXBwLnRzeCIsICIuLi93aWRnZXRzL09zZC9Wb2x1bWUudHN4IiwgIi4uL3dpZGdldHMvTm90aWZpY2F0aW9uL05vdGlmaWNhdGlvbi50c3giLCAiLi4vd2lkZ2V0cy9Ob3RpZmljYXRpb24vTWFuYWdlci50c3giXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCBBc3RhbCBmcm9tIFwiZ2k6Ly9Bc3RhbD92ZXJzaW9uPTQuMFwiXG5pbXBvcnQgR3RrIGZyb20gXCJnaTovL0d0az92ZXJzaW9uPTQuMFwiXG5pbXBvcnQgR2RrIGZyb20gXCJnaTovL0dkaz92ZXJzaW9uPTQuMFwiXG5pbXBvcnQgYXN0YWxpZnksIHsgdHlwZSBDb25zdHJ1Y3RQcm9wcyB9IGZyb20gXCIuL2FzdGFsaWZ5LmpzXCJcblxuZXhwb3J0IHsgQXN0YWwsIEd0aywgR2RrIH1cbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXBwIH0gZnJvbSBcIi4vYXBwLmpzXCJcbmV4cG9ydCB7IGFzdGFsaWZ5LCBDb25zdHJ1Y3RQcm9wcyB9XG5leHBvcnQgKiBhcyBXaWRnZXQgZnJvbSBcIi4vd2lkZ2V0LmpzXCJcbmV4cG9ydCB7IGhvb2sgfSBmcm9tIFwiLi4vX2FzdGFsXCJcbiIsICJpbXBvcnQgQXN0YWwgZnJvbSBcImdpOi8vQXN0YWxJT1wiXG5pbXBvcnQgQmluZGluZywgeyB0eXBlIENvbm5lY3RhYmxlLCB0eXBlIFN1YnNjcmliYWJsZSB9IGZyb20gXCIuL2JpbmRpbmcuanNcIlxuaW1wb3J0IHsgaW50ZXJ2YWwgfSBmcm9tIFwiLi90aW1lLmpzXCJcbmltcG9ydCB7IGV4ZWNBc3luYywgc3VicHJvY2VzcyB9IGZyb20gXCIuL3Byb2Nlc3MuanNcIlxuXG5jbGFzcyBWYXJpYWJsZVdyYXBwZXI8VD4gZXh0ZW5kcyBGdW5jdGlvbiB7XG4gICAgcHJpdmF0ZSB2YXJpYWJsZSE6IEFzdGFsLlZhcmlhYmxlQmFzZVxuICAgIHByaXZhdGUgZXJySGFuZGxlcj8gPSBjb25zb2xlLmVycm9yXG5cbiAgICBwcml2YXRlIF92YWx1ZTogVFxuICAgIHByaXZhdGUgX3BvbGw/OiBBc3RhbC5UaW1lXG4gICAgcHJpdmF0ZSBfd2F0Y2g/OiBBc3RhbC5Qcm9jZXNzXG5cbiAgICBwcml2YXRlIHBvbGxJbnRlcnZhbCA9IDEwMDBcbiAgICBwcml2YXRlIHBvbGxFeGVjPzogc3RyaW5nW10gfCBzdHJpbmdcbiAgICBwcml2YXRlIHBvbGxUcmFuc2Zvcm0/OiAoc3Rkb3V0OiBzdHJpbmcsIHByZXY6IFQpID0+IFRcbiAgICBwcml2YXRlIHBvbGxGbj86IChwcmV2OiBUKSA9PiBUIHwgUHJvbWlzZTxUPlxuXG4gICAgcHJpdmF0ZSB3YXRjaFRyYW5zZm9ybT86IChzdGRvdXQ6IHN0cmluZywgcHJldjogVCkgPT4gVFxuICAgIHByaXZhdGUgd2F0Y2hFeGVjPzogc3RyaW5nW10gfCBzdHJpbmdcblxuICAgIGNvbnN0cnVjdG9yKGluaXQ6IFQpIHtcbiAgICAgICAgc3VwZXIoKVxuICAgICAgICB0aGlzLl92YWx1ZSA9IGluaXRcbiAgICAgICAgdGhpcy52YXJpYWJsZSA9IG5ldyBBc3RhbC5WYXJpYWJsZUJhc2UoKVxuICAgICAgICB0aGlzLnZhcmlhYmxlLmNvbm5lY3QoXCJkcm9wcGVkXCIsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3RvcFdhdGNoKClcbiAgICAgICAgICAgIHRoaXMuc3RvcFBvbGwoKVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLnZhcmlhYmxlLmNvbm5lY3QoXCJlcnJvclwiLCAoXywgZXJyKSA9PiB0aGlzLmVyckhhbmRsZXI/LihlcnIpKVxuICAgICAgICByZXR1cm4gbmV3IFByb3h5KHRoaXMsIHtcbiAgICAgICAgICAgIGFwcGx5OiAodGFyZ2V0LCBfLCBhcmdzKSA9PiB0YXJnZXQuX2NhbGwoYXJnc1swXSksXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfY2FsbDxSID0gVD4odHJhbnNmb3JtPzogKHZhbHVlOiBUKSA9PiBSKTogQmluZGluZzxSPiB7XG4gICAgICAgIGNvbnN0IGIgPSBCaW5kaW5nLmJpbmQodGhpcylcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybSA/IGIuYXModHJhbnNmb3JtKSA6IGIgYXMgdW5rbm93biBhcyBCaW5kaW5nPFI+XG4gICAgfVxuXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcoYFZhcmlhYmxlPCR7dGhpcy5nZXQoKX0+YClcbiAgICB9XG5cbiAgICBnZXQoKTogVCB7IHJldHVybiB0aGlzLl92YWx1ZSB9XG4gICAgc2V0KHZhbHVlOiBUKSB7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5fdmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWVcbiAgICAgICAgICAgIHRoaXMudmFyaWFibGUuZW1pdChcImNoYW5nZWRcIilcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXJ0UG9sbCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3BvbGwpXG4gICAgICAgICAgICByZXR1cm5cblxuICAgICAgICBpZiAodGhpcy5wb2xsRm4pIHtcbiAgICAgICAgICAgIHRoaXMuX3BvbGwgPSBpbnRlcnZhbCh0aGlzLnBvbGxJbnRlcnZhbCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHYgPSB0aGlzLnBvbGxGbiEodGhpcy5nZXQoKSlcbiAgICAgICAgICAgICAgICBpZiAodiBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdi50aGVuKHYgPT4gdGhpcy5zZXQodikpXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHRoaXMudmFyaWFibGUuZW1pdChcImVycm9yXCIsIGVycikpXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXQodilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucG9sbEV4ZWMpIHtcbiAgICAgICAgICAgIHRoaXMuX3BvbGwgPSBpbnRlcnZhbCh0aGlzLnBvbGxJbnRlcnZhbCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGV4ZWNBc3luYyh0aGlzLnBvbGxFeGVjISlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4odiA9PiB0aGlzLnNldCh0aGlzLnBvbGxUcmFuc2Zvcm0hKHYsIHRoaXMuZ2V0KCkpKSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB0aGlzLnZhcmlhYmxlLmVtaXQoXCJlcnJvclwiLCBlcnIpKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXJ0V2F0Y2goKSB7XG4gICAgICAgIGlmICh0aGlzLl93YXRjaClcbiAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIHRoaXMuX3dhdGNoID0gc3VicHJvY2Vzcyh7XG4gICAgICAgICAgICBjbWQ6IHRoaXMud2F0Y2hFeGVjISxcbiAgICAgICAgICAgIG91dDogb3V0ID0+IHRoaXMuc2V0KHRoaXMud2F0Y2hUcmFuc2Zvcm0hKG91dCwgdGhpcy5nZXQoKSkpLFxuICAgICAgICAgICAgZXJyOiBlcnIgPT4gdGhpcy52YXJpYWJsZS5lbWl0KFwiZXJyb3JcIiwgZXJyKSxcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBzdG9wUG9sbCgpIHtcbiAgICAgICAgdGhpcy5fcG9sbD8uY2FuY2VsKClcbiAgICAgICAgZGVsZXRlIHRoaXMuX3BvbGxcbiAgICB9XG5cbiAgICBzdG9wV2F0Y2goKSB7XG4gICAgICAgIHRoaXMuX3dhdGNoPy5raWxsKClcbiAgICAgICAgZGVsZXRlIHRoaXMuX3dhdGNoXG4gICAgfVxuXG4gICAgaXNQb2xsaW5nKCkgeyByZXR1cm4gISF0aGlzLl9wb2xsIH1cbiAgICBpc1dhdGNoaW5nKCkgeyByZXR1cm4gISF0aGlzLl93YXRjaCB9XG5cbiAgICBkcm9wKCkge1xuICAgICAgICB0aGlzLnZhcmlhYmxlLmVtaXQoXCJkcm9wcGVkXCIpXG4gICAgfVxuXG4gICAgb25Ecm9wcGVkKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSB7XG4gICAgICAgIHRoaXMudmFyaWFibGUuY29ubmVjdChcImRyb3BwZWRcIiwgY2FsbGJhY2spXG4gICAgICAgIHJldHVybiB0aGlzIGFzIHVua25vd24gYXMgVmFyaWFibGU8VD5cbiAgICB9XG5cbiAgICBvbkVycm9yKGNhbGxiYWNrOiAoZXJyOiBzdHJpbmcpID0+IHZvaWQpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuZXJySGFuZGxlclxuICAgICAgICB0aGlzLnZhcmlhYmxlLmNvbm5lY3QoXCJlcnJvclwiLCAoXywgZXJyKSA9PiBjYWxsYmFjayhlcnIpKVxuICAgICAgICByZXR1cm4gdGhpcyBhcyB1bmtub3duIGFzIFZhcmlhYmxlPFQ+XG4gICAgfVxuXG4gICAgc3Vic2NyaWJlKGNhbGxiYWNrOiAodmFsdWU6IFQpID0+IHZvaWQpIHtcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLnZhcmlhYmxlLmNvbm5lY3QoXCJjaGFuZ2VkXCIsICgpID0+IHtcbiAgICAgICAgICAgIGNhbGxiYWNrKHRoaXMuZ2V0KCkpXG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiAoKSA9PiB0aGlzLnZhcmlhYmxlLmRpc2Nvbm5lY3QoaWQpXG4gICAgfVxuXG4gICAgcG9sbChcbiAgICAgICAgaW50ZXJ2YWw6IG51bWJlcixcbiAgICAgICAgZXhlYzogc3RyaW5nIHwgc3RyaW5nW10sXG4gICAgICAgIHRyYW5zZm9ybT86IChzdGRvdXQ6IHN0cmluZywgcHJldjogVCkgPT4gVFxuICAgICk6IFZhcmlhYmxlPFQ+XG5cbiAgICBwb2xsKFxuICAgICAgICBpbnRlcnZhbDogbnVtYmVyLFxuICAgICAgICBjYWxsYmFjazogKHByZXY6IFQpID0+IFQgfCBQcm9taXNlPFQ+XG4gICAgKTogVmFyaWFibGU8VD5cblxuICAgIHBvbGwoXG4gICAgICAgIGludGVydmFsOiBudW1iZXIsXG4gICAgICAgIGV4ZWM6IHN0cmluZyB8IHN0cmluZ1tdIHwgKChwcmV2OiBUKSA9PiBUIHwgUHJvbWlzZTxUPiksXG4gICAgICAgIHRyYW5zZm9ybTogKHN0ZG91dDogc3RyaW5nLCBwcmV2OiBUKSA9PiBUID0gb3V0ID0+IG91dCBhcyBULFxuICAgICkge1xuICAgICAgICB0aGlzLnN0b3BQb2xsKClcbiAgICAgICAgdGhpcy5wb2xsSW50ZXJ2YWwgPSBpbnRlcnZhbFxuICAgICAgICB0aGlzLnBvbGxUcmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbiAgICAgICAgaWYgKHR5cGVvZiBleGVjID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRoaXMucG9sbEZuID0gZXhlY1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMucG9sbEV4ZWNcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucG9sbEV4ZWMgPSBleGVjXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5wb2xsRm5cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXJ0UG9sbCgpXG4gICAgICAgIHJldHVybiB0aGlzIGFzIHVua25vd24gYXMgVmFyaWFibGU8VD5cbiAgICB9XG5cbiAgICB3YXRjaChcbiAgICAgICAgZXhlYzogc3RyaW5nIHwgc3RyaW5nW10sXG4gICAgICAgIHRyYW5zZm9ybTogKHN0ZG91dDogc3RyaW5nLCBwcmV2OiBUKSA9PiBUID0gb3V0ID0+IG91dCBhcyBULFxuICAgICkge1xuICAgICAgICB0aGlzLnN0b3BXYXRjaCgpXG4gICAgICAgIHRoaXMud2F0Y2hFeGVjID0gZXhlY1xuICAgICAgICB0aGlzLndhdGNoVHJhbnNmb3JtID0gdHJhbnNmb3JtXG4gICAgICAgIHRoaXMuc3RhcnRXYXRjaCgpXG4gICAgICAgIHJldHVybiB0aGlzIGFzIHVua25vd24gYXMgVmFyaWFibGU8VD5cbiAgICB9XG5cbiAgICBvYnNlcnZlKFxuICAgICAgICBvYmpzOiBBcnJheTxbb2JqOiBDb25uZWN0YWJsZSwgc2lnbmFsOiBzdHJpbmddPixcbiAgICAgICAgY2FsbGJhY2s6ICguLi5hcmdzOiBhbnlbXSkgPT4gVCxcbiAgICApOiBWYXJpYWJsZTxUPlxuXG4gICAgb2JzZXJ2ZShcbiAgICAgICAgb2JqOiBDb25uZWN0YWJsZSxcbiAgICAgICAgc2lnbmFsOiBzdHJpbmcsXG4gICAgICAgIGNhbGxiYWNrOiAoLi4uYXJnczogYW55W10pID0+IFQsXG4gICAgKTogVmFyaWFibGU8VD5cblxuICAgIG9ic2VydmUoXG4gICAgICAgIG9ianM6IENvbm5lY3RhYmxlIHwgQXJyYXk8W29iajogQ29ubmVjdGFibGUsIHNpZ25hbDogc3RyaW5nXT4sXG4gICAgICAgIHNpZ09yRm46IHN0cmluZyB8ICgob2JqOiBDb25uZWN0YWJsZSwgLi4uYXJnczogYW55W10pID0+IFQpLFxuICAgICAgICBjYWxsYmFjaz86IChvYmo6IENvbm5lY3RhYmxlLCAuLi5hcmdzOiBhbnlbXSkgPT4gVCxcbiAgICApIHtcbiAgICAgICAgY29uc3QgZiA9IHR5cGVvZiBzaWdPckZuID09PSBcImZ1bmN0aW9uXCIgPyBzaWdPckZuIDogY2FsbGJhY2sgPz8gKCgpID0+IHRoaXMuZ2V0KCkpXG4gICAgICAgIGNvbnN0IHNldCA9IChvYmo6IENvbm5lY3RhYmxlLCAuLi5hcmdzOiBhbnlbXSkgPT4gdGhpcy5zZXQoZihvYmosIC4uLmFyZ3MpKVxuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9ianMpKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG9iaiBvZiBvYmpzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgW28sIHNdID0gb2JqXG4gICAgICAgICAgICAgICAgY29uc3QgaWQgPSBvLmNvbm5lY3Qocywgc2V0KVxuICAgICAgICAgICAgICAgIHRoaXMub25Ecm9wcGVkKCgpID0+IG8uZGlzY29ubmVjdChpZCkpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNpZ09yRm4gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IG9ianMuY29ubmVjdChzaWdPckZuLCBzZXQpXG4gICAgICAgICAgICAgICAgdGhpcy5vbkRyb3BwZWQoKCkgPT4gb2Jqcy5kaXNjb25uZWN0KGlkKSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzIGFzIHVua25vd24gYXMgVmFyaWFibGU8VD5cbiAgICB9XG5cbiAgICBzdGF0aWMgZGVyaXZlPFxuICAgICAgICBjb25zdCBEZXBzIGV4dGVuZHMgQXJyYXk8U3Vic2NyaWJhYmxlPGFueT4+LFxuICAgICAgICBBcmdzIGV4dGVuZHMge1xuICAgICAgICAgICAgW0sgaW4ga2V5b2YgRGVwc106IERlcHNbS10gZXh0ZW5kcyBTdWJzY3JpYmFibGU8aW5mZXIgVD4gPyBUIDogbmV2ZXJcbiAgICAgICAgfSxcbiAgICAgICAgViA9IEFyZ3MsXG4gICAgPihkZXBzOiBEZXBzLCBmbjogKC4uLmFyZ3M6IEFyZ3MpID0+IFYgPSAoLi4uYXJncykgPT4gYXJncyBhcyB1bmtub3duIGFzIFYpIHtcbiAgICAgICAgY29uc3QgdXBkYXRlID0gKCkgPT4gZm4oLi4uZGVwcy5tYXAoZCA9PiBkLmdldCgpKSBhcyBBcmdzKVxuICAgICAgICBjb25zdCBkZXJpdmVkID0gbmV3IFZhcmlhYmxlKHVwZGF0ZSgpKVxuICAgICAgICBjb25zdCB1bnN1YnMgPSBkZXBzLm1hcChkZXAgPT4gZGVwLnN1YnNjcmliZSgoKSA9PiBkZXJpdmVkLnNldCh1cGRhdGUoKSkpKVxuICAgICAgICBkZXJpdmVkLm9uRHJvcHBlZCgoKSA9PiB1bnN1YnMubWFwKHVuc3ViID0+IHVuc3ViKCkpKVxuICAgICAgICByZXR1cm4gZGVyaXZlZFxuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBWYXJpYWJsZTxUPiBleHRlbmRzIE9taXQ8VmFyaWFibGVXcmFwcGVyPFQ+LCBcImJpbmRcIj4ge1xuICAgIDxSPih0cmFuc2Zvcm06ICh2YWx1ZTogVCkgPT4gUik6IEJpbmRpbmc8Uj5cbiAgICAoKTogQmluZGluZzxUPlxufVxuXG5leHBvcnQgY29uc3QgVmFyaWFibGUgPSBuZXcgUHJveHkoVmFyaWFibGVXcmFwcGVyIGFzIGFueSwge1xuICAgIGFwcGx5OiAoX3QsIF9hLCBhcmdzKSA9PiBuZXcgVmFyaWFibGVXcmFwcGVyKGFyZ3NbMF0pLFxufSkgYXMge1xuICAgIGRlcml2ZTogdHlwZW9mIFZhcmlhYmxlV3JhcHBlcltcImRlcml2ZVwiXVxuICAgIDxUPihpbml0OiBUKTogVmFyaWFibGU8VD5cbiAgICBuZXc8VD4oaW5pdDogVCk6IFZhcmlhYmxlPFQ+XG59XG5cbmV4cG9ydCBjb25zdCB7IGRlcml2ZSB9ID0gVmFyaWFibGVcbmV4cG9ydCBkZWZhdWx0IFZhcmlhYmxlXG4iLCAiZXhwb3J0IGNvbnN0IHNuYWtlaWZ5ID0gKHN0cjogc3RyaW5nKSA9PiBzdHJcbiAgICAucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvZywgXCIkMV8kMlwiKVxuICAgIC5yZXBsYWNlQWxsKFwiLVwiLCBcIl9cIilcbiAgICAudG9Mb3dlckNhc2UoKVxuXG5leHBvcnQgY29uc3Qga2ViYWJpZnkgPSAoc3RyOiBzdHJpbmcpID0+IHN0clxuICAgIC5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCBcIiQxLSQyXCIpXG4gICAgLnJlcGxhY2VBbGwoXCJfXCIsIFwiLVwiKVxuICAgIC50b0xvd2VyQ2FzZSgpXG5cbmV4cG9ydCBpbnRlcmZhY2UgU3Vic2NyaWJhYmxlPFQgPSB1bmtub3duPiB7XG4gICAgc3Vic2NyaWJlKGNhbGxiYWNrOiAodmFsdWU6IFQpID0+IHZvaWQpOiAoKSA9PiB2b2lkXG4gICAgZ2V0KCk6IFRcbiAgICBba2V5OiBzdHJpbmddOiBhbnlcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb25uZWN0YWJsZSB7XG4gICAgY29ubmVjdChzaWduYWw6IHN0cmluZywgY2FsbGJhY2s6ICguLi5hcmdzOiBhbnlbXSkgPT4gdW5rbm93bik6IG51bWJlclxuICAgIGRpc2Nvbm5lY3QoaWQ6IG51bWJlcik6IHZvaWRcbiAgICBba2V5OiBzdHJpbmddOiBhbnlcbn1cblxuZXhwb3J0IGNsYXNzIEJpbmRpbmc8VmFsdWU+IHtcbiAgICBwcml2YXRlIHRyYW5zZm9ybUZuID0gKHY6IGFueSkgPT4gdlxuXG4gICAgI2VtaXR0ZXI6IFN1YnNjcmliYWJsZTxWYWx1ZT4gfCBDb25uZWN0YWJsZVxuICAgICNwcm9wPzogc3RyaW5nXG5cbiAgICBzdGF0aWMgYmluZDxcbiAgICAgICAgVCBleHRlbmRzIENvbm5lY3RhYmxlLFxuICAgICAgICBQIGV4dGVuZHMga2V5b2YgVCxcbiAgICA+KG9iamVjdDogVCwgcHJvcGVydHk6IFApOiBCaW5kaW5nPFRbUF0+XG5cbiAgICBzdGF0aWMgYmluZDxUPihvYmplY3Q6IFN1YnNjcmliYWJsZTxUPik6IEJpbmRpbmc8VD5cblxuICAgIHN0YXRpYyBiaW5kKGVtaXR0ZXI6IENvbm5lY3RhYmxlIHwgU3Vic2NyaWJhYmxlLCBwcm9wPzogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBuZXcgQmluZGluZyhlbWl0dGVyLCBwcm9wKVxuICAgIH1cblxuICAgIHByaXZhdGUgY29uc3RydWN0b3IoZW1pdHRlcjogQ29ubmVjdGFibGUgfCBTdWJzY3JpYmFibGU8VmFsdWU+LCBwcm9wPzogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuI2VtaXR0ZXIgPSBlbWl0dGVyXG4gICAgICAgIHRoaXMuI3Byb3AgPSBwcm9wICYmIGtlYmFiaWZ5KHByb3ApXG4gICAgfVxuXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBgQmluZGluZzwke3RoaXMuI2VtaXR0ZXJ9JHt0aGlzLiNwcm9wID8gYCwgXCIke3RoaXMuI3Byb3B9XCJgIDogXCJcIn0+YFxuICAgIH1cblxuICAgIGFzPFQ+KGZuOiAodjogVmFsdWUpID0+IFQpOiBCaW5kaW5nPFQ+IHtcbiAgICAgICAgY29uc3QgYmluZCA9IG5ldyBCaW5kaW5nKHRoaXMuI2VtaXR0ZXIsIHRoaXMuI3Byb3ApXG4gICAgICAgIGJpbmQudHJhbnNmb3JtRm4gPSAodjogVmFsdWUpID0+IGZuKHRoaXMudHJhbnNmb3JtRm4odikpXG4gICAgICAgIHJldHVybiBiaW5kIGFzIHVua25vd24gYXMgQmluZGluZzxUPlxuICAgIH1cblxuICAgIGdldCgpOiBWYWx1ZSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy4jZW1pdHRlci5nZXQgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybUZuKHRoaXMuI2VtaXR0ZXIuZ2V0KCkpXG5cbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLiNwcm9wID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBjb25zdCBnZXR0ZXIgPSBgZ2V0XyR7c25ha2VpZnkodGhpcy4jcHJvcCl9YFxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLiNlbWl0dGVyW2dldHRlcl0gPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm1Gbih0aGlzLiNlbWl0dGVyW2dldHRlcl0oKSlcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtRm4odGhpcy4jZW1pdHRlclt0aGlzLiNwcm9wXSlcbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IEVycm9yKFwiY2FuIG5vdCBnZXQgdmFsdWUgb2YgYmluZGluZ1wiKVxuICAgIH1cblxuICAgIHN1YnNjcmliZShjYWxsYmFjazogKHZhbHVlOiBWYWx1ZSkgPT4gdm9pZCk6ICgpID0+IHZvaWQge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuI2VtaXR0ZXIuc3Vic2NyaWJlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiNlbWl0dGVyLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sodGhpcy5nZXQoKSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMuI2VtaXR0ZXIuY29ubmVjdCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBjb25zdCBzaWduYWwgPSBgbm90aWZ5Ojoke3RoaXMuI3Byb3B9YFxuICAgICAgICAgICAgY29uc3QgaWQgPSB0aGlzLiNlbWl0dGVyLmNvbm5lY3Qoc2lnbmFsLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sodGhpcy5nZXQoKSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgICh0aGlzLiNlbWl0dGVyLmRpc2Nvbm5lY3QgYXMgQ29ubmVjdGFibGVbXCJkaXNjb25uZWN0XCJdKShpZClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBFcnJvcihgJHt0aGlzLiNlbWl0dGVyfSBpcyBub3QgYmluZGFibGVgKVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IHsgYmluZCB9ID0gQmluZGluZ1xuZXhwb3J0IGRlZmF1bHQgQmluZGluZ1xuIiwgImltcG9ydCBBc3RhbCBmcm9tIFwiZ2k6Ly9Bc3RhbElPXCJcblxuZXhwb3J0IHR5cGUgVGltZSA9IEFzdGFsLlRpbWVcbmV4cG9ydCBjb25zdCBUaW1lID0gQXN0YWwuVGltZVxuXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJ2YWwoaW50ZXJ2YWw6IG51bWJlciwgY2FsbGJhY2s/OiAoKSA9PiB2b2lkKSB7XG4gICAgcmV0dXJuIEFzdGFsLlRpbWUuaW50ZXJ2YWwoaW50ZXJ2YWwsICgpID0+IHZvaWQgY2FsbGJhY2s/LigpKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdGltZW91dCh0aW1lb3V0OiBudW1iZXIsIGNhbGxiYWNrPzogKCkgPT4gdm9pZCkge1xuICAgIHJldHVybiBBc3RhbC5UaW1lLnRpbWVvdXQodGltZW91dCwgKCkgPT4gdm9pZCBjYWxsYmFjaz8uKCkpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpZGxlKGNhbGxiYWNrPzogKCkgPT4gdm9pZCkge1xuICAgIHJldHVybiBBc3RhbC5UaW1lLmlkbGUoKCkgPT4gdm9pZCBjYWxsYmFjaz8uKCkpXG59XG4iLCAiaW1wb3J0IEFzdGFsIGZyb20gXCJnaTovL0FzdGFsSU9cIlxuXG50eXBlIEFyZ3MgPSB7XG4gICAgY21kOiBzdHJpbmcgfCBzdHJpbmdbXVxuICAgIG91dD86IChzdGRvdXQ6IHN0cmluZykgPT4gdm9pZFxuICAgIGVycj86IChzdGRlcnI6IHN0cmluZykgPT4gdm9pZFxufVxuXG5leHBvcnQgdHlwZSBQcm9jZXNzID0gQXN0YWwuUHJvY2Vzc1xuZXhwb3J0IGNvbnN0IFByb2Nlc3MgPSBBc3RhbC5Qcm9jZXNzXG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJwcm9jZXNzKGFyZ3M6IEFyZ3MpOiBBc3RhbC5Qcm9jZXNzXG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJwcm9jZXNzKFxuICAgIGNtZDogc3RyaW5nIHwgc3RyaW5nW10sXG4gICAgb25PdXQ/OiAoc3Rkb3V0OiBzdHJpbmcpID0+IHZvaWQsXG4gICAgb25FcnI/OiAoc3RkZXJyOiBzdHJpbmcpID0+IHZvaWQsXG4pOiBBc3RhbC5Qcm9jZXNzXG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJwcm9jZXNzKFxuICAgIGFyZ3NPckNtZDogQXJncyB8IHN0cmluZyB8IHN0cmluZ1tdLFxuICAgIG9uT3V0OiAoc3Rkb3V0OiBzdHJpbmcpID0+IHZvaWQgPSBwcmludCxcbiAgICBvbkVycjogKHN0ZGVycjogc3RyaW5nKSA9PiB2b2lkID0gcHJpbnRlcnIsXG4pIHtcbiAgICBjb25zdCBhcmdzID0gQXJyYXkuaXNBcnJheShhcmdzT3JDbWQpIHx8IHR5cGVvZiBhcmdzT3JDbWQgPT09IFwic3RyaW5nXCJcbiAgICBjb25zdCB7IGNtZCwgZXJyLCBvdXQgfSA9IHtcbiAgICAgICAgY21kOiBhcmdzID8gYXJnc09yQ21kIDogYXJnc09yQ21kLmNtZCxcbiAgICAgICAgZXJyOiBhcmdzID8gb25FcnIgOiBhcmdzT3JDbWQuZXJyIHx8IG9uRXJyLFxuICAgICAgICBvdXQ6IGFyZ3MgPyBvbk91dCA6IGFyZ3NPckNtZC5vdXQgfHwgb25PdXQsXG4gICAgfVxuXG4gICAgY29uc3QgcHJvYyA9IEFycmF5LmlzQXJyYXkoY21kKVxuICAgICAgICA/IEFzdGFsLlByb2Nlc3Muc3VicHJvY2Vzc3YoY21kKVxuICAgICAgICA6IEFzdGFsLlByb2Nlc3Muc3VicHJvY2VzcyhjbWQpXG5cbiAgICBwcm9jLmNvbm5lY3QoXCJzdGRvdXRcIiwgKF8sIHN0ZG91dDogc3RyaW5nKSA9PiBvdXQoc3Rkb3V0KSlcbiAgICBwcm9jLmNvbm5lY3QoXCJzdGRlcnJcIiwgKF8sIHN0ZGVycjogc3RyaW5nKSA9PiBlcnIoc3RkZXJyKSlcbiAgICByZXR1cm4gcHJvY1xufVxuXG4vKiogQHRocm93cyB7R0xpYi5FcnJvcn0gVGhyb3dzIHN0ZGVyciAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4ZWMoY21kOiBzdHJpbmcgfCBzdHJpbmdbXSkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGNtZClcbiAgICAgICAgPyBBc3RhbC5Qcm9jZXNzLmV4ZWN2KGNtZClcbiAgICAgICAgOiBBc3RhbC5Qcm9jZXNzLmV4ZWMoY21kKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZXhlY0FzeW5jKGNtZDogc3RyaW5nIHwgc3RyaW5nW10pOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNtZCkpIHtcbiAgICAgICAgICAgIEFzdGFsLlByb2Nlc3MuZXhlY19hc3luY3YoY21kLCAoXywgcmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShBc3RhbC5Qcm9jZXNzLmV4ZWNfYXN5bmN2X2ZpbmlzaChyZXMpKVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgQXN0YWwuUHJvY2Vzcy5leGVjX2FzeW5jKGNtZCwgKF8sIHJlcykgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoQXN0YWwuUHJvY2Vzcy5leGVjX2ZpbmlzaChyZXMpKVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfSlcbn1cbiIsICJpbXBvcnQgVmFyaWFibGUgZnJvbSBcIi4vdmFyaWFibGUuanNcIlxuaW1wb3J0IHsgZXhlY0FzeW5jIH0gZnJvbSBcIi4vcHJvY2Vzcy5qc1wiXG5pbXBvcnQgQmluZGluZywgeyBDb25uZWN0YWJsZSwga2ViYWJpZnksIHNuYWtlaWZ5LCBTdWJzY3JpYmFibGUgfSBmcm9tIFwiLi9iaW5kaW5nLmpzXCJcblxuZXhwb3J0IGNvbnN0IG5vSW1wbGljaXREZXN0cm95ID0gU3ltYm9sKFwibm8gbm8gaW1wbGljaXQgZGVzdHJveVwiKVxuZXhwb3J0IGNvbnN0IHNldENoaWxkcmVuID0gU3ltYm9sKFwiY2hpbGRyZW4gc2V0dGVyIG1ldGhvZFwiKVxuXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VCaW5kaW5ncyhhcnJheTogYW55W10pIHtcbiAgICBmdW5jdGlvbiBnZXRWYWx1ZXMoLi4uYXJnczogYW55W10pIHtcbiAgICAgICAgbGV0IGkgPSAwXG4gICAgICAgIHJldHVybiBhcnJheS5tYXAodmFsdWUgPT4gdmFsdWUgaW5zdGFuY2VvZiBCaW5kaW5nXG4gICAgICAgICAgICA/IGFyZ3NbaSsrXVxuICAgICAgICAgICAgOiB2YWx1ZSxcbiAgICAgICAgKVxuICAgIH1cblxuICAgIGNvbnN0IGJpbmRpbmdzID0gYXJyYXkuZmlsdGVyKGkgPT4gaSBpbnN0YW5jZW9mIEJpbmRpbmcpXG5cbiAgICBpZiAoYmluZGluZ3MubGVuZ3RoID09PSAwKVxuICAgICAgICByZXR1cm4gYXJyYXlcblxuICAgIGlmIChiaW5kaW5ncy5sZW5ndGggPT09IDEpXG4gICAgICAgIHJldHVybiBiaW5kaW5nc1swXS5hcyhnZXRWYWx1ZXMpXG5cbiAgICByZXR1cm4gVmFyaWFibGUuZGVyaXZlKGJpbmRpbmdzLCBnZXRWYWx1ZXMpKClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFByb3Aob2JqOiBhbnksIHByb3A6IHN0cmluZywgdmFsdWU6IGFueSkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHNldHRlciA9IGBzZXRfJHtzbmFrZWlmeShwcm9wKX1gXG4gICAgICAgIGlmICh0eXBlb2Ygb2JqW3NldHRlcl0gPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICAgIHJldHVybiBvYmpbc2V0dGVyXSh2YWx1ZSlcblxuICAgICAgICByZXR1cm4gKG9ialtwcm9wXSA9IHZhbHVlKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYGNvdWxkIG5vdCBzZXQgcHJvcGVydHkgXCIke3Byb3B9XCIgb24gJHtvYmp9OmAsIGVycm9yKVxuICAgIH1cbn1cblxuZXhwb3J0IHR5cGUgQmluZGFibGVQcm9wczxUPiA9IHtcbiAgICBbSyBpbiBrZXlvZiBUXTogQmluZGluZzxUW0tdPiB8IFRbS107XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBob29rPFdpZGdldCBleHRlbmRzIENvbm5lY3RhYmxlPihcbiAgICB3aWRnZXQ6IFdpZGdldCxcbiAgICBvYmplY3Q6IENvbm5lY3RhYmxlIHwgU3Vic2NyaWJhYmxlLFxuICAgIHNpZ25hbE9yQ2FsbGJhY2s6IHN0cmluZyB8ICgoc2VsZjogV2lkZ2V0LCAuLi5hcmdzOiBhbnlbXSkgPT4gdm9pZCksXG4gICAgY2FsbGJhY2s/OiAoc2VsZjogV2lkZ2V0LCAuLi5hcmdzOiBhbnlbXSkgPT4gdm9pZCxcbikge1xuICAgIGlmICh0eXBlb2Ygb2JqZWN0LmNvbm5lY3QgPT09IFwiZnVuY3Rpb25cIiAmJiBjYWxsYmFjaykge1xuICAgICAgICBjb25zdCBpZCA9IG9iamVjdC5jb25uZWN0KHNpZ25hbE9yQ2FsbGJhY2ssIChfOiBhbnksIC4uLmFyZ3M6IHVua25vd25bXSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHdpZGdldCwgLi4uYXJncylcbiAgICAgICAgfSlcbiAgICAgICAgd2lkZ2V0LmNvbm5lY3QoXCJkZXN0cm95XCIsICgpID0+IHtcbiAgICAgICAgICAgIChvYmplY3QuZGlzY29ubmVjdCBhcyBDb25uZWN0YWJsZVtcImRpc2Nvbm5lY3RcIl0pKGlkKVxuICAgICAgICB9KVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iamVjdC5zdWJzY3JpYmUgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2Ygc2lnbmFsT3JDYWxsYmFjayA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGNvbnN0IHVuc3ViID0gb2JqZWN0LnN1YnNjcmliZSgoLi4uYXJnczogdW5rbm93bltdKSA9PiB7XG4gICAgICAgICAgICBzaWduYWxPckNhbGxiYWNrKHdpZGdldCwgLi4uYXJncylcbiAgICAgICAgfSlcbiAgICAgICAgd2lkZ2V0LmNvbm5lY3QoXCJkZXN0cm95XCIsIHVuc3ViKVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnN0cnVjdDxXaWRnZXQgZXh0ZW5kcyBDb25uZWN0YWJsZSAmIHsgW3NldENoaWxkcmVuXTogKGNoaWxkcmVuOiBhbnlbXSkgPT4gdm9pZCB9Pih3aWRnZXQ6IFdpZGdldCwgY29uZmlnOiBhbnkpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWNvbnN0XG4gICAgbGV0IHsgc2V0dXAsIGNoaWxkLCBjaGlsZHJlbiA9IFtdLCAuLi5wcm9wcyB9ID0gY29uZmlnXG5cbiAgICBpZiAoY2hpbGRyZW4gaW5zdGFuY2VvZiBCaW5kaW5nKSB7XG4gICAgICAgIGNoaWxkcmVuID0gW2NoaWxkcmVuXVxuICAgIH1cblxuICAgIGlmIChjaGlsZCkge1xuICAgICAgICBjaGlsZHJlbi51bnNoaWZ0KGNoaWxkKVxuICAgIH1cblxuICAgIC8vIHJlbW92ZSB1bmRlZmluZWQgdmFsdWVzXG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMocHJvcHMpKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkZWxldGUgcHJvcHNba2V5XVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gY29sbGVjdCBiaW5kaW5nc1xuICAgIGNvbnN0IGJpbmRpbmdzOiBBcnJheTxbc3RyaW5nLCBCaW5kaW5nPGFueT5dPiA9IE9iamVjdFxuICAgICAgICAua2V5cyhwcm9wcylcbiAgICAgICAgLnJlZHVjZSgoYWNjOiBhbnksIHByb3ApID0+IHtcbiAgICAgICAgICAgIGlmIChwcm9wc1twcm9wXSBpbnN0YW5jZW9mIEJpbmRpbmcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBiaW5kaW5nID0gcHJvcHNbcHJvcF1cbiAgICAgICAgICAgICAgICBkZWxldGUgcHJvcHNbcHJvcF1cbiAgICAgICAgICAgICAgICByZXR1cm4gWy4uLmFjYywgW3Byb3AsIGJpbmRpbmddXVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFjY1xuICAgICAgICB9LCBbXSlcblxuICAgIC8vIGNvbGxlY3Qgc2lnbmFsIGhhbmRsZXJzXG4gICAgY29uc3Qgb25IYW5kbGVyczogQXJyYXk8W3N0cmluZywgc3RyaW5nIHwgKCgpID0+IHVua25vd24pXT4gPSBPYmplY3RcbiAgICAgICAgLmtleXMocHJvcHMpXG4gICAgICAgIC5yZWR1Y2UoKGFjYzogYW55LCBrZXkpID0+IHtcbiAgICAgICAgICAgIGlmIChrZXkuc3RhcnRzV2l0aChcIm9uXCIpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2lnID0ga2ViYWJpZnkoa2V5KS5zcGxpdChcIi1cIikuc2xpY2UoMSkuam9pbihcIi1cIilcbiAgICAgICAgICAgICAgICBjb25zdCBoYW5kbGVyID0gcHJvcHNba2V5XVxuICAgICAgICAgICAgICAgIGRlbGV0ZSBwcm9wc1trZXldXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsuLi5hY2MsIFtzaWcsIGhhbmRsZXJdXVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFjY1xuICAgICAgICB9LCBbXSlcblxuICAgIC8vIHNldCBjaGlsZHJlblxuICAgIGNvbnN0IG1lcmdlZENoaWxkcmVuID0gbWVyZ2VCaW5kaW5ncyhjaGlsZHJlbi5mbGF0KEluZmluaXR5KSlcbiAgICBpZiAobWVyZ2VkQ2hpbGRyZW4gaW5zdGFuY2VvZiBCaW5kaW5nKSB7XG4gICAgICAgIHdpZGdldFtzZXRDaGlsZHJlbl0obWVyZ2VkQ2hpbGRyZW4uZ2V0KCkpXG4gICAgICAgIHdpZGdldC5jb25uZWN0KFwiZGVzdHJveVwiLCBtZXJnZWRDaGlsZHJlbi5zdWJzY3JpYmUoKHYpID0+IHtcbiAgICAgICAgICAgIHdpZGdldFtzZXRDaGlsZHJlbl0odilcbiAgICAgICAgfSkpXG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG1lcmdlZENoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHdpZGdldFtzZXRDaGlsZHJlbl0obWVyZ2VkQ2hpbGRyZW4pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzZXR1cCBzaWduYWwgaGFuZGxlcnNcbiAgICBmb3IgKGNvbnN0IFtzaWduYWwsIGNhbGxiYWNrXSBvZiBvbkhhbmRsZXJzKSB7XG4gICAgICAgIGNvbnN0IHNpZyA9IHNpZ25hbC5zdGFydHNXaXRoKFwibm90aWZ5XCIpXG4gICAgICAgICAgICA/IHNpZ25hbC5yZXBsYWNlKFwiLVwiLCBcIjo6XCIpXG4gICAgICAgICAgICA6IHNpZ25hbFxuXG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgd2lkZ2V0LmNvbm5lY3Qoc2lnLCBjYWxsYmFjaylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdpZGdldC5jb25uZWN0KHNpZywgKCkgPT4gZXhlY0FzeW5jKGNhbGxiYWNrKVxuICAgICAgICAgICAgICAgIC50aGVuKHByaW50KS5jYXRjaChjb25zb2xlLmVycm9yKSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIHNldHVwIGJpbmRpbmdzIGhhbmRsZXJzXG4gICAgZm9yIChjb25zdCBbcHJvcCwgYmluZGluZ10gb2YgYmluZGluZ3MpIHtcbiAgICAgICAgaWYgKHByb3AgPT09IFwiY2hpbGRcIiB8fCBwcm9wID09PSBcImNoaWxkcmVuXCIpIHtcbiAgICAgICAgICAgIHdpZGdldC5jb25uZWN0KFwiZGVzdHJveVwiLCBiaW5kaW5nLnN1YnNjcmliZSgodjogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgd2lkZ2V0W3NldENoaWxkcmVuXSh2KVxuICAgICAgICAgICAgfSkpXG4gICAgICAgIH1cbiAgICAgICAgd2lkZ2V0LmNvbm5lY3QoXCJkZXN0cm95XCIsIGJpbmRpbmcuc3Vic2NyaWJlKCh2OiBhbnkpID0+IHtcbiAgICAgICAgICAgIHNldFByb3Aod2lkZ2V0LCBwcm9wLCB2KVxuICAgICAgICB9KSlcbiAgICAgICAgc2V0UHJvcCh3aWRnZXQsIHByb3AsIGJpbmRpbmcuZ2V0KCkpXG4gICAgfVxuXG4gICAgLy8gZmlsdGVyIHVuZGVmaW5lZCB2YWx1ZXNcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhwcm9wcykpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBwcm9wc1trZXldXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBPYmplY3QuYXNzaWduKHdpZGdldCwgcHJvcHMpXG4gICAgc2V0dXA/Lih3aWRnZXQpXG4gICAgcmV0dXJuIHdpZGdldFxufVxuXG5mdW5jdGlvbiBpc0Fycm93RnVuY3Rpb24oZnVuYzogYW55KTogZnVuYyBpcyAoYXJnczogYW55KSA9PiBhbnkge1xuICAgIHJldHVybiAhT2JqZWN0Lmhhc093bihmdW5jLCBcInByb3RvdHlwZVwiKVxufVxuXG5leHBvcnQgZnVuY3Rpb24ganN4KFxuICAgIGN0b3JzOiBSZWNvcmQ8c3RyaW5nLCB7IG5ldyhwcm9wczogYW55KTogYW55IH0gfCAoKHByb3BzOiBhbnkpID0+IGFueSk+LFxuICAgIGN0b3I6IHN0cmluZyB8ICgocHJvcHM6IGFueSkgPT4gYW55KSB8IHsgbmV3KHByb3BzOiBhbnkpOiBhbnkgfSxcbiAgICB7IGNoaWxkcmVuLCAuLi5wcm9wcyB9OiBhbnksXG4pIHtcbiAgICBjaGlsZHJlbiA/Pz0gW11cblxuICAgIGlmICghQXJyYXkuaXNBcnJheShjaGlsZHJlbikpXG4gICAgICAgIGNoaWxkcmVuID0gW2NoaWxkcmVuXVxuXG4gICAgY2hpbGRyZW4gPSBjaGlsZHJlbi5maWx0ZXIoQm9vbGVhbilcblxuICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPT09IDEpXG4gICAgICAgIHByb3BzLmNoaWxkID0gY2hpbGRyZW5bMF1cbiAgICBlbHNlIGlmIChjaGlsZHJlbi5sZW5ndGggPiAxKVxuICAgICAgICBwcm9wcy5jaGlsZHJlbiA9IGNoaWxkcmVuXG5cbiAgICBpZiAodHlwZW9mIGN0b3IgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgaWYgKGlzQXJyb3dGdW5jdGlvbihjdG9yc1tjdG9yXSkpXG4gICAgICAgICAgICByZXR1cm4gY3RvcnNbY3Rvcl0ocHJvcHMpXG5cbiAgICAgICAgcmV0dXJuIG5ldyBjdG9yc1tjdG9yXShwcm9wcylcbiAgICB9XG5cbiAgICBpZiAoaXNBcnJvd0Z1bmN0aW9uKGN0b3IpKVxuICAgICAgICByZXR1cm4gY3Rvcihwcm9wcylcblxuICAgIHJldHVybiBuZXcgY3Rvcihwcm9wcylcbn1cbiIsICJpbXBvcnQgeyBub0ltcGxpY2l0RGVzdHJveSwgc2V0Q2hpbGRyZW4sIHR5cGUgQmluZGFibGVQcm9wcywgY29uc3RydWN0IH0gZnJvbSBcIi4uL19hc3RhbC5qc1wiXG5pbXBvcnQgR3RrIGZyb20gXCJnaTovL0d0az92ZXJzaW9uPTQuMFwiXG5pbXBvcnQgR2RrIGZyb20gXCJnaTovL0dkaz92ZXJzaW9uPTQuMFwiXG5pbXBvcnQgQmluZGluZyBmcm9tIFwiLi4vYmluZGluZy5qc1wiXG5cbmV4cG9ydCBjb25zdCB0eXBlID0gU3ltYm9sKFwiY2hpbGQgdHlwZVwiKVxuY29uc3QgZHVtbXlCdWxkZXIgPSBuZXcgR3RrLkJ1aWxkZXJcblxuZnVuY3Rpb24gX2dldENoaWxkcmVuKHdpZGdldDogR3RrLldpZGdldCk6IEFycmF5PEd0ay5XaWRnZXQ+IHtcbiAgICBpZiAoXCJnZXRfY2hpbGRcIiBpbiB3aWRnZXQgJiYgdHlwZW9mIHdpZGdldC5nZXRfY2hpbGQgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiB3aWRnZXQuZ2V0X2NoaWxkKCkgPyBbd2lkZ2V0LmdldF9jaGlsZCgpXSA6IFtdXG4gICAgfVxuXG4gICAgY29uc3QgY2hpbGRyZW46IEFycmF5PEd0ay5XaWRnZXQ+ID0gW11cbiAgICBsZXQgY2ggPSB3aWRnZXQuZ2V0X2ZpcnN0X2NoaWxkKClcbiAgICB3aGlsZSAoY2ggIT09IG51bGwpIHtcbiAgICAgICAgY2hpbGRyZW4ucHVzaChjaClcbiAgICAgICAgY2ggPSBjaC5nZXRfbmV4dF9zaWJsaW5nKClcbiAgICB9XG4gICAgcmV0dXJuIGNoaWxkcmVuXG59XG5cbmZ1bmN0aW9uIF9zZXRDaGlsZHJlbih3aWRnZXQ6IEd0ay5XaWRnZXQsIGNoaWxkcmVuOiBhbnlbXSkge1xuICAgIGNoaWxkcmVuID0gY2hpbGRyZW4uZmxhdChJbmZpbml0eSkubWFwKGNoID0+IGNoIGluc3RhbmNlb2YgR3RrLldpZGdldFxuICAgICAgICA/IGNoXG4gICAgICAgIDogbmV3IEd0ay5MYWJlbCh7IHZpc2libGU6IHRydWUsIGxhYmVsOiBTdHJpbmcoY2gpIH0pKVxuXG5cbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIGNoaWxkcmVuKSB7XG4gICAgICAgIHdpZGdldC52ZnVuY19hZGRfY2hpbGQoXG4gICAgICAgICAgICBkdW1teUJ1bGRlcixcbiAgICAgICAgICAgIGNoaWxkLFxuICAgICAgICAgICAgdHlwZSBpbiBjaGlsZCA/IGNoaWxkW3R5cGVdIDogbnVsbCxcbiAgICAgICAgKVxuICAgIH1cbn1cblxudHlwZSBDb25maWc8VCBleHRlbmRzIEd0ay5XaWRnZXQ+ID0ge1xuICAgIHNldENoaWxkcmVuKHdpZGdldDogVCwgY2hpbGRyZW46IGFueVtdKTogdm9pZFxuICAgIGdldENoaWxkcmVuKHdpZGdldDogVCk6IEFycmF5PEd0ay5XaWRnZXQ+XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFzdGFsaWZ5PFxuICAgIFdpZGdldCBleHRlbmRzIEd0ay5XaWRnZXQsXG4gICAgUHJvcHMgZXh0ZW5kcyBHdGsuV2lkZ2V0LkNvbnN0cnVjdG9yUHJvcHMgPSBHdGsuV2lkZ2V0LkNvbnN0cnVjdG9yUHJvcHMsXG4gICAgU2lnbmFscyBleHRlbmRzIFJlY29yZDxgb24ke3N0cmluZ31gLCBBcnJheTx1bmtub3duPj4gPSBSZWNvcmQ8YG9uJHtzdHJpbmd9YCwgYW55W10+LFxuPihjbHM6IHsgbmV3KC4uLmFyZ3M6IGFueVtdKTogV2lkZ2V0IH0sIGNvbmZpZzogUGFydGlhbDxDb25maWc8V2lkZ2V0Pj4gPSB7fSkge1xuICAgIE9iamVjdC5hc3NpZ24oY2xzLnByb3RvdHlwZSwge1xuICAgICAgICBbc2V0Q2hpbGRyZW5dKGNoaWxkcmVuOiBhbnlbXSkge1xuICAgICAgICAgICAgY29uc3QgdyA9IHRoaXMgYXMgdW5rbm93biBhcyBXaWRnZXRcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgKGNvbmZpZy5nZXRDaGlsZHJlbj8uKHcpIHx8IF9nZXRDaGlsZHJlbih3KSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBHdGsuV2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnVucGFyZW50KClcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGlsZHJlbi5pbmNsdWRlcyhjaGlsZCkgJiYgbm9JbXBsaWNpdERlc3Ryb3kgaW4gdGhpcylcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkLnJ1bl9kaXNwb3NlKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjb25maWcuc2V0Q2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICBjb25maWcuc2V0Q2hpbGRyZW4odywgY2hpbGRyZW4pXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIF9zZXRDaGlsZHJlbih3LCBjaGlsZHJlbilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9KVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgW2Nscy5uYW1lXTogKFxuICAgICAgICAgICAgcHJvcHM6IENvbnN0cnVjdFByb3BzPFdpZGdldCwgUHJvcHMsIFNpZ25hbHM+ID0ge30sXG4gICAgICAgICAgICAuLi5jaGlsZHJlbjogYW55W11cbiAgICAgICAgKTogV2lkZ2V0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHdpZGdldCA9IG5ldyBjbHMoXCJjc3NOYW1lXCIgaW4gcHJvcHMgPyB7IGNzc05hbWU6IHByb3BzLmNzc05hbWUgfSA6IHt9KVxuXG4gICAgICAgICAgICBpZiAoXCJjc3NOYW1lXCIgaW4gcHJvcHMpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgcHJvcHMuY3NzTmFtZVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocHJvcHMubm9JbXBsaWNpdERlc3Ryb3kpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHdpZGdldCwgeyBbbm9JbXBsaWNpdERlc3Ryb3ldOiB0cnVlIH0pXG4gICAgICAgICAgICAgICAgZGVsZXRlIHByb3BzLm5vSW1wbGljaXREZXN0cm95XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwcm9wcy50eXBlKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih3aWRnZXQsIHsgW3R5cGVdOiBwcm9wcy50eXBlIH0pXG4gICAgICAgICAgICAgICAgZGVsZXRlIHByb3BzLnR5cGVcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHByb3BzLCB7IGNoaWxkcmVuIH0pXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBjb25zdHJ1Y3Qod2lkZ2V0IGFzIGFueSwgc2V0dXBDb250cm9sbGVycyh3aWRnZXQsIHByb3BzIGFzIGFueSkpXG4gICAgICAgIH0sXG4gICAgfVtjbHMubmFtZV1cbn1cblxudHlwZSBTaWdIYW5kbGVyPFxuICAgIFcgZXh0ZW5kcyBJbnN0YW5jZVR5cGU8dHlwZW9mIEd0ay5XaWRnZXQ+LFxuICAgIEFyZ3MgZXh0ZW5kcyBBcnJheTx1bmtub3duPixcbj4gPSAoKHNlbGY6IFcsIC4uLmFyZ3M6IEFyZ3MpID0+IHVua25vd24pIHwgc3RyaW5nIHwgc3RyaW5nW11cblxuZXhwb3J0IHsgQmluZGFibGVQcm9wcyB9XG5leHBvcnQgdHlwZSBCaW5kYWJsZUNoaWxkID0gR3RrLldpZGdldCB8IEJpbmRpbmc8R3RrLldpZGdldD5cblxuZXhwb3J0IHR5cGUgQ29uc3RydWN0UHJvcHM8XG4gICAgU2VsZiBleHRlbmRzIEluc3RhbmNlVHlwZTx0eXBlb2YgR3RrLldpZGdldD4sXG4gICAgUHJvcHMgZXh0ZW5kcyBHdGsuV2lkZ2V0LkNvbnN0cnVjdG9yUHJvcHMsXG4gICAgU2lnbmFscyBleHRlbmRzIFJlY29yZDxgb24ke3N0cmluZ31gLCBBcnJheTx1bmtub3duPj4gPSBSZWNvcmQ8YG9uJHtzdHJpbmd9YCwgYW55W10+LFxuPiA9IFBhcnRpYWw8e1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgY2FuJ3QgYXNzaWduIHRvIHVua25vd24sIGJ1dCBpdCB3b3JrcyBhcyBleHBlY3RlZCB0aG91Z2hcbiAgICBbUyBpbiBrZXlvZiBTaWduYWxzXTogU2lnSGFuZGxlcjxTZWxmLCBTaWduYWxzW1NdPlxufT4gJiBQYXJ0aWFsPHtcbiAgICBbS2V5IGluIGBvbiR7c3RyaW5nfWBdOiBTaWdIYW5kbGVyPFNlbGYsIGFueVtdPlxufT4gJiBQYXJ0aWFsPEJpbmRhYmxlUHJvcHM8T21pdDxQcm9wcywgXCJjc3NOYW1lXCIgfCBcImNzc19uYW1lXCI+Pj4gJiB7XG4gICAgbm9JbXBsaWNpdERlc3Ryb3k/OiB0cnVlXG4gICAgdHlwZT86IHN0cmluZ1xuICAgIGNzc05hbWU/OiBzdHJpbmdcbn0gJiBFdmVudENvbnRyb2xsZXI8U2VsZj4gJiB7XG4gICAgb25EZXN0cm95PzogKHNlbGY6IFNlbGYpID0+IHVua25vd25cbiAgICBzZXR1cD86IChzZWxmOiBTZWxmKSA9PiB2b2lkXG59XG5cbnR5cGUgRXZlbnRDb250cm9sbGVyPFNlbGYgZXh0ZW5kcyBHdGsuV2lkZ2V0PiA9IHtcbiAgICBvbkZvY3VzRW50ZXI/OiAoc2VsZjogU2VsZikgPT4gdm9pZFxuICAgIG9uRm9jdXNMZWF2ZT86IChzZWxmOiBTZWxmKSA9PiB2b2lkXG5cbiAgICBvbktleVByZXNzZWQ/OiAoc2VsZjogU2VsZiwga2V5dmFsOiBudW1iZXIsIGtleWNvZGU6IG51bWJlciwgc3RhdGU6IEdkay5Nb2RpZmllclR5cGUpID0+IHZvaWRcbiAgICBvbktleVJlbGVhc2VkPzogKHNlbGY6IFNlbGYsIGtleXZhbDogbnVtYmVyLCBrZXljb2RlOiBudW1iZXIsIHN0YXRlOiBHZGsuTW9kaWZpZXJUeXBlKSA9PiB2b2lkXG4gICAgb25LZXlNb2RpZmllcj86IChzZWxmOiBTZWxmLCBzdGF0ZTogR2RrLk1vZGlmaWVyVHlwZSkgPT4gdm9pZFxuXG4gICAgb25MZWdhY3k/OiAoc2VsZjogU2VsZiwgZXZlbnQ6IEdkay5FdmVudCkgPT4gdm9pZFxuICAgIG9uQnV0dG9uUHJlc3NlZD86IChzZWxmOiBTZWxmLCBzdGF0ZTogR2RrLkJ1dHRvbkV2ZW50KSA9PiB2b2lkXG4gICAgb25CdXR0b25SZWxlYXNlZD86IChzZWxmOiBTZWxmLCBzdGF0ZTogR2RrLkJ1dHRvbkV2ZW50KSA9PiB2b2lkXG5cbiAgICBvbkhvdmVyRW50ZXI/OiAoc2VsZjogU2VsZiwgeDogbnVtYmVyLCB5OiBudW1iZXIpID0+IHZvaWRcbiAgICBvbkhvdmVyTGVhdmU/OiAoc2VsZjogU2VsZikgPT4gdm9pZFxuICAgIG9uTW90aW9uPzogKHNlbGY6IFNlbGYsIHg6IG51bWJlciwgeTogbnVtYmVyKSA9PiB2b2lkXG5cbiAgICBvblNjcm9sbD86IChzZWxmOiBTZWxmLCBkeDogbnVtYmVyLCBkeTogbnVtYmVyKSA9PiB2b2lkXG4gICAgb25TY3JvbGxEZWNlbGVyYXRlPzogKHNlbGY6IFNlbGYsIHZlbF94OiBudW1iZXIsIHZlbF95OiBudW1iZXIpID0+IHZvaWRcbn1cblxuZnVuY3Rpb24gc2V0dXBDb250cm9sbGVyczxUPih3aWRnZXQ6IEd0ay5XaWRnZXQsIHtcbiAgICBvbkZvY3VzRW50ZXIsXG4gICAgb25Gb2N1c0xlYXZlLFxuICAgIG9uS2V5UHJlc3NlZCxcbiAgICBvbktleVJlbGVhc2VkLFxuICAgIG9uS2V5TW9kaWZpZXIsXG4gICAgb25MZWdhY3ksXG4gICAgb25CdXR0b25QcmVzc2VkLFxuICAgIG9uQnV0dG9uUmVsZWFzZWQsXG4gICAgb25Ib3ZlckVudGVyLFxuICAgIG9uSG92ZXJMZWF2ZSxcbiAgICBvbk1vdGlvbixcbiAgICBvblNjcm9sbCxcbiAgICBvblNjcm9sbERlY2VsZXJhdGUsXG4gICAgLi4ucHJvcHNcbn06IEV2ZW50Q29udHJvbGxlcjxHdGsuV2lkZ2V0PiAmIFQpIHtcbiAgICBpZiAob25Gb2N1c0VudGVyIHx8IG9uRm9jdXNMZWF2ZSkge1xuICAgICAgICBjb25zdCBmb2N1cyA9IG5ldyBHdGsuRXZlbnRDb250cm9sbGVyRm9jdXNcbiAgICAgICAgd2lkZ2V0LmFkZF9jb250cm9sbGVyKGZvY3VzKVxuXG4gICAgICAgIGlmIChvbkZvY3VzRW50ZXIpXG4gICAgICAgICAgICBmb2N1cy5jb25uZWN0KFwiZW50ZXJcIiwgKCkgPT4gb25Gb2N1c0VudGVyKHdpZGdldCkpXG5cbiAgICAgICAgaWYgKG9uRm9jdXNMZWF2ZSlcbiAgICAgICAgICAgIGZvY3VzLmNvbm5lY3QoXCJsZWF2ZVwiLCAoKSA9PiBvbkZvY3VzTGVhdmUod2lkZ2V0KSlcbiAgICB9XG5cbiAgICBpZiAob25LZXlQcmVzc2VkIHx8IG9uS2V5UmVsZWFzZWQgfHwgb25LZXlNb2RpZmllcikge1xuICAgICAgICBjb25zdCBrZXkgPSBuZXcgR3RrLkV2ZW50Q29udHJvbGxlcktleVxuICAgICAgICB3aWRnZXQuYWRkX2NvbnRyb2xsZXIoa2V5KVxuXG4gICAgICAgIGlmIChvbktleVByZXNzZWQpXG4gICAgICAgICAgICBrZXkuY29ubmVjdChcImtleS1wcmVzc2VkXCIsIChfLCB2YWwsIGNvZGUsIHN0YXRlKSA9PiBvbktleVByZXNzZWQod2lkZ2V0LCB2YWwsIGNvZGUsIHN0YXRlKSlcblxuICAgICAgICBpZiAob25LZXlSZWxlYXNlZClcbiAgICAgICAgICAgIGtleS5jb25uZWN0KFwia2V5LXJlbGVhc2VkXCIsIChfLCB2YWwsIGNvZGUsIHN0YXRlKSA9PiBvbktleVJlbGVhc2VkKHdpZGdldCwgdmFsLCBjb2RlLCBzdGF0ZSkpXG5cbiAgICAgICAgaWYgKG9uS2V5TW9kaWZpZXIpXG4gICAgICAgICAgICBrZXkuY29ubmVjdChcIm1vZGlmaWVyc1wiLCAoXywgc3RhdGUpID0+IG9uS2V5TW9kaWZpZXIod2lkZ2V0LCBzdGF0ZSkpXG4gICAgfVxuXG4gICAgaWYgKG9uTGVnYWN5IHx8IG9uQnV0dG9uUHJlc3NlZCB8fCBvbkJ1dHRvblJlbGVhc2VkKSB7XG4gICAgICAgIGNvbnN0IGxlZ2FjeSA9IG5ldyBHdGsuRXZlbnRDb250cm9sbGVyTGVnYWN5XG4gICAgICAgIHdpZGdldC5hZGRfY29udHJvbGxlcihsZWdhY3kpXG5cbiAgICAgICAgbGVnYWN5LmNvbm5lY3QoXCJldmVudFwiLCAoXywgZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudC5nZXRfZXZlbnRfdHlwZSgpID09PSBHZGsuRXZlbnRUeXBlLkJVVFRPTl9QUkVTUykge1xuICAgICAgICAgICAgICAgIG9uQnV0dG9uUHJlc3NlZD8uKHdpZGdldCwgZXZlbnQgYXMgR2RrLkJ1dHRvbkV2ZW50KVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZXZlbnQuZ2V0X2V2ZW50X3R5cGUoKSA9PT0gR2RrLkV2ZW50VHlwZS5CVVRUT05fUkVMRUFTRSkge1xuICAgICAgICAgICAgICAgIG9uQnV0dG9uUmVsZWFzZWQ/Lih3aWRnZXQsIGV2ZW50IGFzIEdkay5CdXR0b25FdmVudClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb25MZWdhY3k/Lih3aWRnZXQsIGV2ZW50KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGlmIChvbk1vdGlvbiB8fCBvbkhvdmVyRW50ZXIgfHwgb25Ib3ZlckxlYXZlKSB7XG4gICAgICAgIGNvbnN0IGhvdmVyID0gbmV3IEd0ay5FdmVudENvbnRyb2xsZXJNb3Rpb25cbiAgICAgICAgd2lkZ2V0LmFkZF9jb250cm9sbGVyKGhvdmVyKVxuXG4gICAgICAgIGlmIChvbkhvdmVyRW50ZXIpXG4gICAgICAgICAgICBob3Zlci5jb25uZWN0KFwiZW50ZXJcIiwgKF8sIHgsIHkpID0+IG9uSG92ZXJFbnRlcih3aWRnZXQsIHgsIHkpKVxuXG4gICAgICAgIGlmIChvbkhvdmVyTGVhdmUpXG4gICAgICAgICAgICBob3Zlci5jb25uZWN0KFwibGVhdmVcIiwgKCkgPT4gb25Ib3ZlckxlYXZlKHdpZGdldCkpXG5cbiAgICAgICAgaWYgKG9uTW90aW9uKVxuICAgICAgICAgICAgaG92ZXIuY29ubmVjdChcIm1vdGlvblwiLCAoXywgeCwgeSkgPT4gb25Nb3Rpb24od2lkZ2V0LCB4LCB5KSlcbiAgICB9XG5cbiAgICBpZiAob25TY3JvbGwgfHwgb25TY3JvbGxEZWNlbGVyYXRlKSB7XG4gICAgICAgIGNvbnN0IHNjcm9sbCA9IG5ldyBHdGsuRXZlbnRDb250cm9sbGVyU2Nyb2xsXG4gICAgICAgIHNjcm9sbC5mbGFncyA9IEd0ay5FdmVudENvbnRyb2xsZXJTY3JvbGxGbGFncy5CT1RIX0FYRVMgfCBHdGsuRXZlbnRDb250cm9sbGVyU2Nyb2xsRmxhZ3MuS0lORVRJQ1xuICAgICAgICB3aWRnZXQuYWRkX2NvbnRyb2xsZXIoc2Nyb2xsKVxuXG4gICAgICAgIGlmIChvblNjcm9sbClcbiAgICAgICAgICAgIHNjcm9sbC5jb25uZWN0KFwic2Nyb2xsXCIsIChfLCB4LCB5KSA9PiBvblNjcm9sbCh3aWRnZXQsIHgsIHkpKVxuXG4gICAgICAgIGlmIChvblNjcm9sbERlY2VsZXJhdGUpXG4gICAgICAgICAgICBzY3JvbGwuY29ubmVjdChcImRlY2VsZXJhdGVcIiwgKF8sIHgsIHkpID0+IG9uU2Nyb2xsRGVjZWxlcmF0ZSh3aWRnZXQsIHgsIHkpKVxuICAgIH1cblxuICAgIHJldHVybiBwcm9wc1xufVxuIiwgImltcG9ydCBHTGliIGZyb20gXCJnaTovL0dMaWI/dmVyc2lvbj0yLjBcIlxuaW1wb3J0IEd0ayBmcm9tIFwiZ2k6Ly9HdGs/dmVyc2lvbj00LjBcIlxuaW1wb3J0IEFzdGFsIGZyb20gXCJnaTovL0FzdGFsP3ZlcnNpb249NC4wXCJcbmltcG9ydCB7IG1rQXBwIH0gZnJvbSBcIi4uL19hcHBcIlxuXG5HdGsuaW5pdCgpXG5cbi8vIHN0b3AgdGhpcyBmcm9tIGxlYWtpbmcgaW50byBzdWJwcm9jZXNzZXNcbi8vIGFuZCBnaW8gbGF1bmNoIGludm9jYXRpb25zXG5HTGliLnVuc2V0ZW52KFwiTERfUFJFTE9BRFwiKVxuXG4vLyB1c2VycyBtaWdodCB3YW50IHRvIHVzZSBBZHdhaXRhIGluIHdoaWNoIGNhc2UgaXQgaGFzIHRvIGJlIGluaXRpYWxpemVkXG4vLyBpdCBtaWdodCBiZSBjb21tb24gcGl0ZmFsbCB0byBmb3JnZXQgaXQgYmVjYXVzZSBgQXBwYCBpcyBub3QgYEFkdy5BcHBsaWNhdGlvbmBcbmF3YWl0IGltcG9ydChcImdpOi8vQWR3P3ZlcnNpb249MVwiKVxuICAgIC50aGVuKCh7IGRlZmF1bHQ6IEFkdyB9KSA9PiBBZHcuaW5pdCgpKVxuICAgIC5jYXRjaCgoKSA9PiB2b2lkIDApXG5cbmV4cG9ydCBkZWZhdWx0IG1rQXBwKEFzdGFsLkFwcGxpY2F0aW9uKVxuIiwgIi8qKlxuICogV29ya2Fyb3VuZCBmb3IgXCJDYW4ndCBjb252ZXJ0IG5vbi1udWxsIHBvaW50ZXIgdG8gSlMgdmFsdWUgXCJcbiAqL1xuXG5leHBvcnQgeyB9XG5cbmNvbnN0IHNuYWtlaWZ5ID0gKHN0cjogc3RyaW5nKSA9PiBzdHJcbiAgICAucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvZywgXCIkMV8kMlwiKVxuICAgIC5yZXBsYWNlQWxsKFwiLVwiLCBcIl9cIilcbiAgICAudG9Mb3dlckNhc2UoKVxuXG5hc3luYyBmdW5jdGlvbiBzdXBwcmVzczxUPihtb2Q6IFByb21pc2U8eyBkZWZhdWx0OiBUIH0+LCBwYXRjaDogKG06IFQpID0+IHZvaWQpIHtcbiAgICByZXR1cm4gbW9kLnRoZW4obSA9PiBwYXRjaChtLmRlZmF1bHQpKS5jYXRjaCgoKSA9PiB2b2lkIDApXG59XG5cbmZ1bmN0aW9uIHBhdGNoPFAgZXh0ZW5kcyBvYmplY3Q+KHByb3RvOiBQLCBwcm9wOiBFeHRyYWN0PGtleW9mIFAsIHN0cmluZz4pIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG8sIHByb3AsIHtcbiAgICAgICAgZ2V0KCkgeyByZXR1cm4gdGhpc1tgZ2V0XyR7c25ha2VpZnkocHJvcCl9YF0oKSB9LFxuICAgIH0pXG59XG5cbmF3YWl0IHN1cHByZXNzKGltcG9ydChcImdpOi8vQXN0YWxBcHBzXCIpLCAoeyBBcHBzLCBBcHBsaWNhdGlvbiB9KSA9PiB7XG4gICAgcGF0Y2goQXBwcy5wcm90b3R5cGUsIFwibGlzdFwiKVxuICAgIHBhdGNoKEFwcGxpY2F0aW9uLnByb3RvdHlwZSwgXCJrZXl3b3Jkc1wiKVxuICAgIHBhdGNoKEFwcGxpY2F0aW9uLnByb3RvdHlwZSwgXCJjYXRlZ29yaWVzXCIpXG59KVxuXG5hd2FpdCBzdXBwcmVzcyhpbXBvcnQoXCJnaTovL0FzdGFsQmF0dGVyeVwiKSwgKHsgVVBvd2VyIH0pID0+IHtcbiAgICBwYXRjaChVUG93ZXIucHJvdG90eXBlLCBcImRldmljZXNcIilcbn0pXG5cbmF3YWl0IHN1cHByZXNzKGltcG9ydChcImdpOi8vQXN0YWxCbHVldG9vdGhcIiksICh7IEFkYXB0ZXIsIEJsdWV0b290aCwgRGV2aWNlIH0pID0+IHtcbiAgICBwYXRjaChBZGFwdGVyLnByb3RvdHlwZSwgXCJ1dWlkc1wiKVxuICAgIHBhdGNoKEJsdWV0b290aC5wcm90b3R5cGUsIFwiYWRhcHRlcnNcIilcbiAgICBwYXRjaChCbHVldG9vdGgucHJvdG90eXBlLCBcImRldmljZXNcIilcbiAgICBwYXRjaChEZXZpY2UucHJvdG90eXBlLCBcInV1aWRzXCIpXG59KVxuXG5hd2FpdCBzdXBwcmVzcyhpbXBvcnQoXCJnaTovL0FzdGFsQ2F2YVwiKSwgKHsgQ2F2YSB9KSA9PiB7XG4gICAgcGF0Y2goQ2F2YS5wcm90b3R5cGUsIFwidmFsdWVzXCIpXG59KVxuXG5hd2FpdCBzdXBwcmVzcyhpbXBvcnQoXCJnaTovL0FzdGFsSHlwcmxhbmRcIiksICh7IEh5cHJsYW5kLCBNb25pdG9yLCBXb3Jrc3BhY2UgfSkgPT4ge1xuICAgIHBhdGNoKEh5cHJsYW5kLnByb3RvdHlwZSwgXCJiaW5kc1wiKVxuICAgIHBhdGNoKEh5cHJsYW5kLnByb3RvdHlwZSwgXCJtb25pdG9yc1wiKVxuICAgIHBhdGNoKEh5cHJsYW5kLnByb3RvdHlwZSwgXCJ3b3Jrc3BhY2VzXCIpXG4gICAgcGF0Y2goSHlwcmxhbmQucHJvdG90eXBlLCBcImNsaWVudHNcIilcbiAgICBwYXRjaChNb25pdG9yLnByb3RvdHlwZSwgXCJhdmFpbGFibGVNb2Rlc1wiKVxuICAgIHBhdGNoKE1vbml0b3IucHJvdG90eXBlLCBcImF2YWlsYWJsZV9tb2Rlc1wiKVxuICAgIHBhdGNoKFdvcmtzcGFjZS5wcm90b3R5cGUsIFwiY2xpZW50c1wiKVxufSlcblxuYXdhaXQgc3VwcHJlc3MoaW1wb3J0KFwiZ2k6Ly9Bc3RhbE1wcmlzXCIpLCAoeyBNcHJpcywgUGxheWVyIH0pID0+IHtcbiAgICBwYXRjaChNcHJpcy5wcm90b3R5cGUsIFwicGxheWVyc1wiKVxuICAgIHBhdGNoKFBsYXllci5wcm90b3R5cGUsIFwic3VwcG9ydGVkX3VyaV9zY2hlbWVzXCIpXG4gICAgcGF0Y2goUGxheWVyLnByb3RvdHlwZSwgXCJzdXBwb3J0ZWRVcmlTY2hlbWVzXCIpXG4gICAgcGF0Y2goUGxheWVyLnByb3RvdHlwZSwgXCJzdXBwb3J0ZWRfbWltZV90eXBlc1wiKVxuICAgIHBhdGNoKFBsYXllci5wcm90b3R5cGUsIFwic3VwcG9ydGVkTWltZVR5cGVzXCIpXG4gICAgcGF0Y2goUGxheWVyLnByb3RvdHlwZSwgXCJjb21tZW50c1wiKVxufSlcblxuYXdhaXQgc3VwcHJlc3MoaW1wb3J0KFwiZ2k6Ly9Bc3RhbE5ldHdvcmtcIiksICh7IFdpZmkgfSkgPT4ge1xuICAgIHBhdGNoKFdpZmkucHJvdG90eXBlLCBcImFjY2Vzc19wb2ludHNcIilcbiAgICBwYXRjaChXaWZpLnByb3RvdHlwZSwgXCJhY2Nlc3NQb2ludHNcIilcbn0pXG5cbmF3YWl0IHN1cHByZXNzKGltcG9ydChcImdpOi8vQXN0YWxOb3RpZmRcIiksICh7IE5vdGlmZCwgTm90aWZpY2F0aW9uIH0pID0+IHtcbiAgICBwYXRjaChOb3RpZmQucHJvdG90eXBlLCBcIm5vdGlmaWNhdGlvbnNcIilcbiAgICBwYXRjaChOb3RpZmljYXRpb24ucHJvdG90eXBlLCBcImFjdGlvbnNcIilcbn0pXG5cbmF3YWl0IHN1cHByZXNzKGltcG9ydChcImdpOi8vQXN0YWxQb3dlclByb2ZpbGVzXCIpLCAoeyBQb3dlclByb2ZpbGVzIH0pID0+IHtcbiAgICBwYXRjaChQb3dlclByb2ZpbGVzLnByb3RvdHlwZSwgXCJhY3Rpb25zXCIpXG59KVxuXG5hd2FpdCBzdXBwcmVzcyhpbXBvcnQoXCJnaTovL0FzdGFsUml2ZXJcIiksICh7IFJpdmVyIH0pID0+IHtcbiAgcGF0Y2goUml2ZXIucHJvdG90eXBlLCBcIm91dHB1dHNcIilcbn0pXG5cbmF3YWl0IHN1cHByZXNzKGltcG9ydChcImdpOi8vQXN0YWxUcmF5XCIpLCAoeyBUcmF5IH0pID0+IHtcbiAgcGF0Y2goVHJheS5wcm90b3R5cGUsIFwiaXRlbXNcIilcbn0pXG5cbmF3YWl0IHN1cHByZXNzKGltcG9ydChcImdpOi8vQXN0YWxXcFwiKSwgKHsgV3AsIEF1ZGlvLCBWaWRlbywgTm9kZSwgRW5kcG9pbnQsIERldmljZSB9KSA9PiB7XG4gICAgcGF0Y2goV3AucHJvdG90eXBlLCBcIm5vZGVzXCIpXG4gICAgcGF0Y2goV3AucHJvdG90eXBlLCBcImRldmljZXNcIilcbiAgICBwYXRjaChBdWRpby5wcm90b3R5cGUsIFwic3RyZWFtc1wiKVxuICAgIHBhdGNoKEF1ZGlvLnByb3RvdHlwZSwgXCJyZWNvcmRlcnNcIilcbiAgICBwYXRjaChBdWRpby5wcm90b3R5cGUsIFwibWljcm9waG9uZXNcIilcbiAgICBwYXRjaChBdWRpby5wcm90b3R5cGUsIFwic3BlYWtlcnNcIilcbiAgICBwYXRjaChBdWRpby5wcm90b3R5cGUsIFwiZGV2aWNlc1wiKVxuICAgIHBhdGNoKFZpZGVvLnByb3RvdHlwZSwgXCJzdHJlYW1zXCIpXG4gICAgcGF0Y2goVmlkZW8ucHJvdG90eXBlLCBcInJlY29yZGVyc1wiKVxuICAgIHBhdGNoKFZpZGVvLnByb3RvdHlwZSwgXCJzaW5rc1wiKVxuICAgIHBhdGNoKFZpZGVvLnByb3RvdHlwZSwgXCJzb3VyY2VzXCIpXG4gICAgcGF0Y2goVmlkZW8ucHJvdG90eXBlLCBcImRldmljZXNcIilcbiAgICBwYXRjaChFbmRwb2ludC5wcm90b3R5cGUsIFwicm91dGVzXCIpXG4gICAgcGF0Y2goTm9kZS5wcm90b3R5cGUsIFwiY2hhbm5lbHNcIilcbiAgICBwYXRjaChEZXZpY2UucHJvdG90eXBlLCBcInByb2ZpbGVzXCIpXG4gICAgcGF0Y2goRGV2aWNlLnByb3RvdHlwZSwgXCJyb3V0ZXNcIilcbiAgICBwYXRjaChEZXZpY2UucHJvdG90eXBlLCBcImlucHV0X3JvdXRlc1wiKVxuICAgIHBhdGNoKERldmljZS5wcm90b3R5cGUsIFwiaW5wdXRSb3V0ZXNcIilcbiAgICBwYXRjaChEZXZpY2UucHJvdG90eXBlLCBcIm91dHB1dF9yb3V0ZXNcIilcbiAgICBwYXRjaChEZXZpY2UucHJvdG90eXBlLCBcIm91dHB1dFJvdXRlc1wiKVxufSlcbiIsICJpbXBvcnQgXCIuL292ZXJyaWRlcy5qc1wiXG5pbXBvcnQgeyBzZXRDb25zb2xlTG9nRG9tYWluIH0gZnJvbSBcImNvbnNvbGVcIlxuaW1wb3J0IHsgZXhpdCwgcHJvZ3JhbUFyZ3MgfSBmcm9tIFwic3lzdGVtXCJcbmltcG9ydCBJTyBmcm9tIFwiZ2k6Ly9Bc3RhbElPXCJcbmltcG9ydCBHT2JqZWN0IGZyb20gXCJnaTovL0dPYmplY3RcIlxuaW1wb3J0IEdpbyBmcm9tIFwiZ2k6Ly9HaW8/dmVyc2lvbj0yLjBcIlxuaW1wb3J0IHR5cGUgQXN0YWwzIGZyb20gXCJnaTovL0FzdGFsP3ZlcnNpb249My4wXCJcbmltcG9ydCB0eXBlIEFzdGFsNCBmcm9tIFwiZ2k6Ly9Bc3RhbD92ZXJzaW9uPTQuMFwiXG5cbnR5cGUgQ29uZmlnID0gUGFydGlhbDx7XG4gICAgaW5zdGFuY2VOYW1lOiBzdHJpbmdcbiAgICBjc3M6IHN0cmluZ1xuICAgIGljb25zOiBzdHJpbmdcbiAgICBndGtUaGVtZTogc3RyaW5nXG4gICAgaWNvblRoZW1lOiBzdHJpbmdcbiAgICBjdXJzb3JUaGVtZTogc3RyaW5nXG4gICAgaG9sZDogYm9vbGVhblxuICAgIHJlcXVlc3RIYW5kbGVyKHJlcXVlc3Q6IHN0cmluZywgcmVzOiAocmVzcG9uc2U6IGFueSkgPT4gdm9pZCk6IHZvaWRcbiAgICBtYWluKC4uLmFyZ3M6IHN0cmluZ1tdKTogdm9pZFxuICAgIGNsaWVudChtZXNzYWdlOiAobXNnOiBzdHJpbmcpID0+IHN0cmluZywgLi4uYXJnczogc3RyaW5nW10pOiB2b2lkXG59PlxuXG5pbnRlcmZhY2UgQXN0YWwzSlMgZXh0ZW5kcyBBc3RhbDMuQXBwbGljYXRpb24ge1xuICAgIGV2YWwoYm9keTogc3RyaW5nKTogUHJvbWlzZTxhbnk+XG4gICAgcmVxdWVzdEhhbmRsZXI6IENvbmZpZ1tcInJlcXVlc3RIYW5kbGVyXCJdXG4gICAgYXBwbHlfY3NzKHN0eWxlOiBzdHJpbmcsIHJlc2V0PzogYm9vbGVhbik6IHZvaWRcbiAgICBxdWl0KGNvZGU/OiBudW1iZXIpOiB2b2lkXG4gICAgc3RhcnQoY29uZmlnPzogQ29uZmlnKTogdm9pZFxufVxuXG5pbnRlcmZhY2UgQXN0YWw0SlMgZXh0ZW5kcyBBc3RhbDQuQXBwbGljYXRpb24ge1xuICAgIGV2YWwoYm9keTogc3RyaW5nKTogUHJvbWlzZTxhbnk+XG4gICAgcmVxdWVzdEhhbmRsZXI/OiBDb25maWdbXCJyZXF1ZXN0SGFuZGxlclwiXVxuICAgIGFwcGx5X2NzcyhzdHlsZTogc3RyaW5nLCByZXNldD86IGJvb2xlYW4pOiB2b2lkXG4gICAgcXVpdChjb2RlPzogbnVtYmVyKTogdm9pZFxuICAgIHN0YXJ0KGNvbmZpZz86IENvbmZpZyk6IHZvaWRcbn1cblxudHlwZSBBcHAzID0gdHlwZW9mIEFzdGFsMy5BcHBsaWNhdGlvblxudHlwZSBBcHA0ID0gdHlwZW9mIEFzdGFsNC5BcHBsaWNhdGlvblxuXG5leHBvcnQgZnVuY3Rpb24gbWtBcHA8QXBwIGV4dGVuZHMgQXBwMz4oQXBwOiBBcHApOiBBc3RhbDNKU1xuZXhwb3J0IGZ1bmN0aW9uIG1rQXBwPEFwcCBleHRlbmRzIEFwcDQ+KEFwcDogQXBwKTogQXN0YWw0SlNcblxuZXhwb3J0IGZ1bmN0aW9uIG1rQXBwKEFwcDogQXBwMyB8IEFwcDQpIHtcbiAgICByZXR1cm4gbmV3IChjbGFzcyBBc3RhbEpTIGV4dGVuZHMgQXBwIHtcbiAgICAgICAgc3RhdGljIHsgR09iamVjdC5yZWdpc3RlckNsYXNzKHsgR1R5cGVOYW1lOiBcIkFzdGFsSlNcIiB9LCB0aGlzIGFzIGFueSkgfVxuXG4gICAgICAgIGV2YWwoYm9keTogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmbiA9IEZ1bmN0aW9uKGByZXR1cm4gKGFzeW5jIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHtib2R5LmluY2x1ZGVzKFwiO1wiKSA/IGJvZHkgOiBgcmV0dXJuICR7Ym9keX07YH1cbiAgICAgICAgICAgICAgICAgICAgfSlgKVxuICAgICAgICAgICAgICAgICAgICBmbigpKCkudGhlbihyZXMpLmNhdGNoKHJlailcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZWooZXJyb3IpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIHJlcXVlc3RIYW5kbGVyPzogQ29uZmlnW1wicmVxdWVzdEhhbmRsZXJcIl1cblxuICAgICAgICB2ZnVuY19yZXF1ZXN0KG1zZzogc3RyaW5nLCBjb25uOiBHaW8uU29ja2V0Q29ubmVjdGlvbik6IHZvaWQge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnJlcXVlc3RIYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RIYW5kbGVyKG1zZywgKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIElPLndyaXRlX3NvY2soY29ubiwgU3RyaW5nKHJlc3BvbnNlKSwgKF8sIHJlcykgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIElPLndyaXRlX3NvY2tfZmluaXNoKHJlcyksXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdXBlci52ZnVuY19yZXF1ZXN0KG1zZywgY29ubilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGFwcGx5X2NzcyhzdHlsZTogc3RyaW5nLCByZXNldCA9IGZhbHNlKSB7XG4gICAgICAgICAgICBzdXBlci5hcHBseV9jc3Moc3R5bGUsIHJlc2V0KVxuICAgICAgICB9XG5cbiAgICAgICAgcXVpdChjb2RlPzogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgICAgICBzdXBlci5xdWl0KClcbiAgICAgICAgICAgIGV4aXQoY29kZSA/PyAwKVxuICAgICAgICB9XG5cbiAgICAgICAgc3RhcnQoeyByZXF1ZXN0SGFuZGxlciwgY3NzLCBob2xkLCBtYWluLCBjbGllbnQsIGljb25zLCAuLi5jZmcgfTogQ29uZmlnID0ge30pIHtcbiAgICAgICAgICAgIGNvbnN0IGFwcCA9IHRoaXMgYXMgdW5rbm93biBhcyBJbnN0YW5jZVR5cGU8QXBwMyB8IEFwcDQ+XG5cbiAgICAgICAgICAgIGNsaWVudCA/Pz0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHByaW50KGBBc3RhbCBpbnN0YW5jZSBcIiR7YXBwLmluc3RhbmNlTmFtZX1cIiBhbHJlYWR5IHJ1bm5pbmdgKVxuICAgICAgICAgICAgICAgIGV4aXQoMSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBjZmcpXG4gICAgICAgICAgICBzZXRDb25zb2xlTG9nRG9tYWluKGFwcC5pbnN0YW5jZU5hbWUpXG5cbiAgICAgICAgICAgIHRoaXMucmVxdWVzdEhhbmRsZXIgPSByZXF1ZXN0SGFuZGxlclxuICAgICAgICAgICAgYXBwLmNvbm5lY3QoXCJhY3RpdmF0ZVwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgbWFpbj8uKC4uLnByb2dyYW1BcmdzKVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhcHAuYWNxdWlyZV9zb2NrZXQoKVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2xpZW50KG1zZyA9PiBJTy5zZW5kX3JlcXVlc3QoYXBwLmluc3RhbmNlTmFtZSwgbXNnKSEsIC4uLnByb2dyYW1BcmdzKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY3NzKVxuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlfY3NzKGNzcywgZmFsc2UpXG5cbiAgICAgICAgICAgIGlmIChpY29ucylcbiAgICAgICAgICAgICAgICBhcHAuYWRkX2ljb25zKGljb25zKVxuXG4gICAgICAgICAgICBob2xkID8/PSB0cnVlXG4gICAgICAgICAgICBpZiAoaG9sZClcbiAgICAgICAgICAgICAgICBhcHAuaG9sZCgpXG5cbiAgICAgICAgICAgIGFwcC5ydW5Bc3luYyhbXSlcbiAgICAgICAgfVxuICAgIH0pXG59XG4iLCAiaW1wb3J0IEFzdGFsIGZyb20gXCJnaTovL0FzdGFsP3ZlcnNpb249NC4wXCJcbmltcG9ydCBHdGsgZnJvbSBcImdpOi8vR3RrP3ZlcnNpb249NC4wXCJcbmltcG9ydCBhc3RhbGlmeSwgeyB0eXBlLCB0eXBlIENvbnN0cnVjdFByb3BzIH0gZnJvbSBcIi4vYXN0YWxpZnkuanNcIlxuXG5mdW5jdGlvbiBmaWx0ZXIoY2hpbGRyZW46IGFueVtdKSB7XG4gICAgcmV0dXJuIGNoaWxkcmVuLmZsYXQoSW5maW5pdHkpLm1hcChjaCA9PiBjaCBpbnN0YW5jZW9mIEd0ay5XaWRnZXRcbiAgICAgICAgPyBjaFxuICAgICAgICA6IG5ldyBHdGsuTGFiZWwoeyB2aXNpYmxlOiB0cnVlLCBsYWJlbDogU3RyaW5nKGNoKSB9KSlcbn1cblxuLy8gQm94XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQXN0YWwuQm94LnByb3RvdHlwZSwgXCJjaGlsZHJlblwiLCB7XG4gICAgZ2V0KCkgeyByZXR1cm4gdGhpcy5nZXRfY2hpbGRyZW4oKSB9LFxuICAgIHNldCh2KSB7IHRoaXMuc2V0X2NoaWxkcmVuKHYpIH0sXG59KVxuXG5leHBvcnQgdHlwZSBCb3hQcm9wcyA9IENvbnN0cnVjdFByb3BzPEFzdGFsLkJveCwgQXN0YWwuQm94LkNvbnN0cnVjdG9yUHJvcHM+XG5leHBvcnQgY29uc3QgQm94ID0gYXN0YWxpZnk8QXN0YWwuQm94LCBBc3RhbC5Cb3guQ29uc3RydWN0b3JQcm9wcz4oQXN0YWwuQm94LCB7XG4gICAgZ2V0Q2hpbGRyZW4oc2VsZikgeyByZXR1cm4gc2VsZi5nZXRfY2hpbGRyZW4oKSB9LFxuICAgIHNldENoaWxkcmVuKHNlbGYsIGNoaWxkcmVuKSB7IHJldHVybiBzZWxmLnNldF9jaGlsZHJlbihmaWx0ZXIoY2hpbGRyZW4pKSB9LFxufSlcblxuLy8gQnV0dG9uXG50eXBlIEJ1dHRvblNpZ25hbHMgPSB7XG4gICAgb25DbGlja2VkOiBbXVxufVxuXG5leHBvcnQgdHlwZSBCdXR0b25Qcm9wcyA9IENvbnN0cnVjdFByb3BzPEd0ay5CdXR0b24sIEd0ay5CdXR0b24uQ29uc3RydWN0b3JQcm9wcywgQnV0dG9uU2lnbmFscz5cbmV4cG9ydCBjb25zdCBCdXR0b24gPSBhc3RhbGlmeTxHdGsuQnV0dG9uLCBHdGsuQnV0dG9uLkNvbnN0cnVjdG9yUHJvcHMsIEJ1dHRvblNpZ25hbHM+KEd0ay5CdXR0b24pXG5cbi8vIENlbnRlckJveFxuZXhwb3J0IHR5cGUgQ2VudGVyQm94UHJvcHMgPSBDb25zdHJ1Y3RQcm9wczxHdGsuQ2VudGVyQm94LCBHdGsuQ2VudGVyQm94LkNvbnN0cnVjdG9yUHJvcHM+XG5leHBvcnQgY29uc3QgQ2VudGVyQm94ID0gYXN0YWxpZnk8R3RrLkNlbnRlckJveCwgR3RrLkNlbnRlckJveC5Db25zdHJ1Y3RvclByb3BzPihHdGsuQ2VudGVyQm94LCB7XG4gICAgZ2V0Q2hpbGRyZW4oYm94KSB7XG4gICAgICAgIHJldHVybiBbYm94LnN0YXJ0V2lkZ2V0LCBib3guY2VudGVyV2lkZ2V0LCBib3guZW5kV2lkZ2V0XVxuICAgIH0sXG4gICAgc2V0Q2hpbGRyZW4oYm94LCBjaGlsZHJlbikge1xuICAgICAgICBjb25zdCBjaCA9IGZpbHRlcihjaGlsZHJlbilcbiAgICAgICAgYm94LnN0YXJ0V2lkZ2V0ID0gY2hbMF0gfHwgbmV3IEd0ay5Cb3hcbiAgICAgICAgYm94LmNlbnRlcldpZGdldCA9IGNoWzFdIHx8IG5ldyBHdGsuQm94XG4gICAgICAgIGJveC5lbmRXaWRnZXQgPSBjaFsyXSB8fCBuZXcgR3RrLkJveFxuICAgIH0sXG59KVxuXG4vLyBUT0RPOiBDaXJjdWxhclByb2dyZXNzXG4vLyBUT0RPOiBEcmF3aW5nQXJlYVxuXG4vLyBFbnRyeVxudHlwZSBFbnRyeVNpZ25hbHMgPSB7XG4gICAgb25BY3RpdmF0ZTogW11cbiAgICBvbk5vdGlmeVRleHQ6IFtdXG59XG5cbmV4cG9ydCB0eXBlIEVudHJ5UHJvcHMgPSBDb25zdHJ1Y3RQcm9wczxHdGsuRW50cnksIEd0ay5FbnRyeS5Db25zdHJ1Y3RvclByb3BzLCBFbnRyeVNpZ25hbHM+XG5leHBvcnQgY29uc3QgRW50cnkgPSBhc3RhbGlmeTxHdGsuRW50cnksIEd0ay5FbnRyeS5Db25zdHJ1Y3RvclByb3BzLCBFbnRyeVNpZ25hbHM+KEd0ay5FbnRyeSwge1xuICAgIGdldENoaWxkcmVuKCkgeyByZXR1cm4gW10gfSxcbn0pXG5cbi8vIEltYWdlXG5leHBvcnQgdHlwZSBJbWFnZVByb3BzID0gQ29uc3RydWN0UHJvcHM8R3RrLkltYWdlLCBHdGsuSW1hZ2UuQ29uc3RydWN0b3JQcm9wcz5cbmV4cG9ydCBjb25zdCBJbWFnZSA9IGFzdGFsaWZ5PEd0ay5JbWFnZSwgR3RrLkltYWdlLkNvbnN0cnVjdG9yUHJvcHM+KEd0ay5JbWFnZSwge1xuICAgIGdldENoaWxkcmVuKCkgeyByZXR1cm4gW10gfSxcbn0pXG5cbi8vIExhYmVsXG5leHBvcnQgdHlwZSBMYWJlbFByb3BzID0gQ29uc3RydWN0UHJvcHM8R3RrLkxhYmVsLCBHdGsuTGFiZWwuQ29uc3RydWN0b3JQcm9wcz5cbmV4cG9ydCBjb25zdCBMYWJlbCA9IGFzdGFsaWZ5PEd0ay5MYWJlbCwgR3RrLkxhYmVsLkNvbnN0cnVjdG9yUHJvcHM+KEd0ay5MYWJlbCwge1xuICAgIGdldENoaWxkcmVuKCkgeyByZXR1cm4gW10gfSxcbiAgICBzZXRDaGlsZHJlbihzZWxmLCBjaGlsZHJlbikgeyBzZWxmLmxhYmVsID0gU3RyaW5nKGNoaWxkcmVuKSB9LFxufSlcblxuLy8gTGV2ZWxCYXJcbmV4cG9ydCB0eXBlIExldmVsQmFyUHJvcHMgPSBDb25zdHJ1Y3RQcm9wczxHdGsuTGV2ZWxCYXIsIEd0ay5MZXZlbEJhci5Db25zdHJ1Y3RvclByb3BzPlxuZXhwb3J0IGNvbnN0IExldmVsQmFyID0gYXN0YWxpZnk8R3RrLkxldmVsQmFyLCBHdGsuTGV2ZWxCYXIuQ29uc3RydWN0b3JQcm9wcz4oR3RrLkxldmVsQmFyLCB7XG4gICAgZ2V0Q2hpbGRyZW4oKSB7IHJldHVybiBbXSB9LFxufSlcblxuLy8gVE9ETzogTGlzdEJveFxuXG4vLyBPdmVybGF5XG5leHBvcnQgdHlwZSBPdmVybGF5UHJvcHMgPSBDb25zdHJ1Y3RQcm9wczxHdGsuT3ZlcmxheSwgR3RrLk92ZXJsYXkuQ29uc3RydWN0b3JQcm9wcz5cbmV4cG9ydCBjb25zdCBPdmVybGF5ID0gYXN0YWxpZnk8R3RrLk92ZXJsYXksIEd0ay5PdmVybGF5LkNvbnN0cnVjdG9yUHJvcHM+KEd0ay5PdmVybGF5LCB7XG4gICAgZ2V0Q2hpbGRyZW4oc2VsZikge1xuICAgICAgICBjb25zdCBjaGlsZHJlbjogQXJyYXk8R3RrLldpZGdldD4gPSBbXVxuICAgICAgICBsZXQgY2ggPSBzZWxmLmdldF9maXJzdF9jaGlsZCgpXG4gICAgICAgIHdoaWxlIChjaCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChjaClcbiAgICAgICAgICAgIGNoID0gY2guZ2V0X25leHRfc2libGluZygpXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2hpbGRyZW4uZmlsdGVyKGNoID0+IGNoICE9PSBzZWxmLmNoaWxkKVxuICAgIH0sXG4gICAgc2V0Q2hpbGRyZW4oc2VsZiwgY2hpbGRyZW4pIHtcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBmaWx0ZXIoY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICBjb25zdCB0eXBlcyA9IHR5cGUgaW4gY2hpbGRcbiAgICAgICAgICAgICAgICA/IChjaGlsZFt0eXBlXSBhcyBzdHJpbmcpLnNwbGl0KC9cXHMrLylcbiAgICAgICAgICAgICAgICA6IFtdXG5cbiAgICAgICAgICAgIGlmICh0eXBlcy5pbmNsdWRlcyhcIm92ZXJsYXlcIikpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmFkZF9vdmVybGF5KGNoaWxkKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWxmLnNldF9jaGlsZChjaGlsZClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VsZi5zZXRfbWVhc3VyZV9vdmVybGF5KGNoaWxkLCB0eXBlcy5pbmNsdWRlcyhcIm1lYXN1cmVcIikpXG4gICAgICAgICAgICBzZWxmLnNldF9jbGlwX292ZXJsYXkoY2hpbGQsIHR5cGVzLmluY2x1ZGVzKFwiY2xpcFwiKSlcbiAgICAgICAgfVxuICAgIH0sXG59KVxuXG4vLyBSZXZlYWxlclxuZXhwb3J0IHR5cGUgUmV2ZWFsZXJQcm9wcyA9IENvbnN0cnVjdFByb3BzPEd0ay5SZXZlYWxlciwgR3RrLlJldmVhbGVyLkNvbnN0cnVjdG9yUHJvcHM+XG5leHBvcnQgY29uc3QgUmV2ZWFsZXIgPSBhc3RhbGlmeTxHdGsuUmV2ZWFsZXIsIEd0ay5SZXZlYWxlci5Db25zdHJ1Y3RvclByb3BzPihHdGsuUmV2ZWFsZXIpXG5cbi8vIFNsaWRlclxudHlwZSBTbGlkZXJTaWduYWxzID0ge1xuICAgIG9uQ2hhbmdlVmFsdWU6IFtdXG59XG5cbmV4cG9ydCB0eXBlIFNsaWRlclByb3BzID0gQ29uc3RydWN0UHJvcHM8QXN0YWwuU2xpZGVyLCBBc3RhbC5TbGlkZXIuQ29uc3RydWN0b3JQcm9wcywgU2xpZGVyU2lnbmFscz5cbmV4cG9ydCBjb25zdCBTbGlkZXIgPSBhc3RhbGlmeTxBc3RhbC5TbGlkZXIsIEFzdGFsLlNsaWRlci5Db25zdHJ1Y3RvclByb3BzLCBTbGlkZXJTaWduYWxzPihBc3RhbC5TbGlkZXIsIHtcbiAgICBnZXRDaGlsZHJlbigpIHsgcmV0dXJuIFtdIH0sXG59KVxuXG4vLyBTdGFja1xuZXhwb3J0IHR5cGUgU3RhY2tQcm9wcyA9IENvbnN0cnVjdFByb3BzPEd0ay5TdGFjaywgR3RrLlN0YWNrLkNvbnN0cnVjdG9yUHJvcHM+XG5leHBvcnQgY29uc3QgU3RhY2sgPSBhc3RhbGlmeTxHdGsuU3RhY2ssIEd0ay5TdGFjay5Db25zdHJ1Y3RvclByb3BzPihHdGsuU3RhY2ssIHtcbiAgICBzZXRDaGlsZHJlbihzZWxmLCBjaGlsZHJlbikge1xuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIGZpbHRlcihjaGlsZHJlbikpIHtcbiAgICAgICAgICAgIGlmIChjaGlsZC5uYW1lICE9IFwiXCIgJiYgY2hpbGQubmFtZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5hZGRfbmFtZWQoY2hpbGQsIGNoaWxkLm5hbWUpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlbGYuYWRkX2NoaWxkKGNoaWxkKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbn0pXG5cbi8vIFN3aXRjaFxuZXhwb3J0IHR5cGUgU3dpdGNoUHJvcHMgPSBDb25zdHJ1Y3RQcm9wczxHdGsuU3dpdGNoLCBHdGsuU3dpdGNoLkNvbnN0cnVjdG9yUHJvcHM+XG5leHBvcnQgY29uc3QgU3dpdGNoID0gYXN0YWxpZnk8R3RrLlN3aXRjaCwgR3RrLlN3aXRjaC5Db25zdHJ1Y3RvclByb3BzPihHdGsuU3dpdGNoLCB7XG4gICAgZ2V0Q2hpbGRyZW4oKSB7IHJldHVybiBbXSB9LFxufSlcblxuLy8gV2luZG93XG5leHBvcnQgdHlwZSBXaW5kb3dQcm9wcyA9IENvbnN0cnVjdFByb3BzPEFzdGFsLldpbmRvdywgQXN0YWwuV2luZG93LkNvbnN0cnVjdG9yUHJvcHM+XG5leHBvcnQgY29uc3QgV2luZG93ID0gYXN0YWxpZnk8QXN0YWwuV2luZG93LCBBc3RhbC5XaW5kb3cuQ29uc3RydWN0b3JQcm9wcz4oQXN0YWwuV2luZG93KVxuXG4vLyBNZW51QnV0dG9uXG5leHBvcnQgdHlwZSBNZW51QnV0dG9uUHJvcHMgPSBDb25zdHJ1Y3RQcm9wczxHdGsuTWVudUJ1dHRvbiwgR3RrLk1lbnVCdXR0b24uQ29uc3RydWN0b3JQcm9wcz5cbmV4cG9ydCBjb25zdCBNZW51QnV0dG9uID0gYXN0YWxpZnk8R3RrLk1lbnVCdXR0b24sIEd0ay5NZW51QnV0dG9uLkNvbnN0cnVjdG9yUHJvcHM+KEd0ay5NZW51QnV0dG9uLCB7XG4gICAgZ2V0Q2hpbGRyZW4oc2VsZikgeyByZXR1cm4gW3NlbGYucG9wb3Zlciwgc2VsZi5jaGlsZF0gfSxcbiAgICBzZXRDaGlsZHJlbihzZWxmLCBjaGlsZHJlbikge1xuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIGZpbHRlcihjaGlsZHJlbikpIHtcbiAgICAgICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIEd0ay5Qb3BvdmVyKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5zZXRfcG9wb3ZlcihjaGlsZClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VsZi5zZXRfY2hpbGQoY2hpbGQpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxufSlcblxuLy8gUG9wb3BlclxuZXhwb3J0IHR5cGUgUG9wb3ZlclByb3BzID0gQ29uc3RydWN0UHJvcHM8R3RrLlBvcG92ZXIsIEd0ay5Qb3BvdmVyLkNvbnN0cnVjdG9yUHJvcHM+XG5leHBvcnQgY29uc3QgUG9wb3ZlciA9IGFzdGFsaWZ5PEd0ay5Qb3BvdmVyLCBHdGsuUG9wb3Zlci5Db25zdHJ1Y3RvclByb3BzPihHdGsuUG9wb3ZlcilcbiIsICJ3aW5kb3cge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgY29sb3I6ICMzYzM4MzY7XG4gIGZvbnQtZmFtaWx5OiBcIkpldEJyYWluc01vbm8gTmVyZCBGb250XCIsIHNhbnMtc2VyaWY7XG4gIGZvbnQtc2l6ZTogMTRweDtcbn1cblxuYnV0dG9uIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIGNvbG9yOiAjM2MzODM2O1xuICBwYWRkaW5nOiAwO1xuICBib3JkZXI6IG5vbmU7XG4gIGJvcmRlci1yYWRpdXM6IDA7XG59XG5cbmxhYmVsIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG59XG5cbmJveCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xufVxuXG4uSWNvbiB7XG4gIGZvbnQtZmFtaWx5OiBcIkpldEJyYWluc01vbm8gTmVyZCBGb250IE1vbm9cIiwgbW9ub3NwYWNlO1xufVxuXG4uRGVidWcge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XG4gIGNvbG9yOiBncmVlbjtcbn1cblxuYnV0dG9uOmhvdmVyIHtcbiAgY29sb3I6ICM3ZTc3NzA7XG59XG5cbmJ1dHRvbi5EZWJ1ZyB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJlZDtcbiAgY29sb3I6IGdyZWVuO1xufVxuXG5idXR0b24uUGFkZGluZyB7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICBjb2xvcjogIzdlNzc3MDtcbn1cblxud2luZG93LkJhciB7XG4gIHBhZGRpbmc6IDAuNXJlbSAxcmVtIDAuNnJlbSAwLjZyZW07XG59XG53aW5kb3cuQmFyIGJveC5CYXJDZW50ZXJib3gge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmJmMWM3O1xuICBjb2xvcjogIzNjMzgzNjtcbiAgYm9yZGVyLXJhZGl1czogMC41cmVtO1xuICBib3gtc2hhZG93OiA1cHggNXB4IDAgMCAjM2MzODM2O1xufVxud2luZG93LkJhciBib3guQmFyQ2VudGVyYm94IGJveC5CYXJTZWN0aW9uIHtcbiAgcGFkZGluZzogMCAwLjRyZW07XG59XG53aW5kb3cuQmFyIGJveC5CYXJDZW50ZXJib3ggc2VwYXJhdG9yIHtcbiAgbWFyZ2luOiAwLjVyZW0gMC41cmVtO1xuICBtaW4td2lkdGg6IDAuMnJlbTtcbiAgYmFja2dyb3VuZC1jb2xvcjogI0U3REZCRTtcbiAgYm9yZGVyLXJhZGl1czogMXJlbTtcbn1cbndpbmRvdy5CYXIgYm94LkJhckNlbnRlcmJveCBib3guTGF1bmNoZXIgYnV0dG9uLkxhdW5jaGVyQnV0dG9uIHtcbiAgZm9udC1zaXplOiAyOHB4O1xuICBwYWRkaW5nLWxlZnQ6IDAuMnJlbTtcbiAgcGFkZGluZy1yaWdodDogMC4ycmVtO1xufVxud2luZG93LkJhciBib3guQmFyQ2VudGVyYm94IGJveC5NZWRpYSBib3guTWVkaWFQbGF5YmFjayB7XG4gIG1hcmdpbjogMCAwLjRyZW0gMCAwO1xufVxud2luZG93LkJhciBib3guQmFyQ2VudGVyYm94IGJveC5NZWRpYSBib3guTWVkaWFQbGF5YmFjayBidXR0b24uTWVkaWFQbGF5YmFja0J1dHRvbiB7XG4gIGZvbnQtc2l6ZTogMjJweDtcbiAgcGFkZGluZzogMCAwLjNyZW07XG59XG53aW5kb3cuQmFyIGJveC5CYXJDZW50ZXJib3ggYm94Lk1lZGlhIGJveC5NZWRpYVBsYXliYWNrIGJ1dHRvbi5NZWRpYVBsYXliYWNrQnV0dG9uLkRpc2FibGVkIHtcbiAgY29sb3I6ICM3ZTc3NzA7XG59XG53aW5kb3cuQmFyIGJveC5CYXJDZW50ZXJib3ggYm94Lk1lZGlhIGltYWdlLk1lZGlhSW1hZ2VDb3ZlckFydCB7XG4gIG1hcmdpbjogMCAwLjVyZW0gMCAwO1xufVxud2luZG93LkJhciBib3guQmFyQ2VudGVyYm94IGJveC5NZWRpYSBsYWJlbC5NZWRpYVRpdGxlQnV0dG9uTGFiZWwge1xuICBmb250LXNpemU6IHNtYWxsO1xuICBmb250LXdlaWdodDogNTAwO1xufVxud2luZG93LkJhciBib3guQmFyQ2VudGVyYm94IGJveC5Xb3Jrc3BhY2VzIGJ1dHRvbi5Xb3Jrc3BhY2VCdXR0b24ge1xuICBjb2xvcjogI0E1OUU4Njtcbn1cbndpbmRvdy5CYXIgYm94LkJhckNlbnRlcmJveCBib3guV29ya3NwYWNlcyBidXR0b24uV29ya3NwYWNlQnV0dG9uLkFjdGl2ZSB7XG4gIGNvbG9yOiAjM2MzODM2O1xufVxud2luZG93LkJhciBib3guQmFyQ2VudGVyYm94IGJveC5Xb3Jrc3BhY2VzIGJ1dHRvbi5Xb3Jrc3BhY2VCdXR0b24uQWN0aXZlID4gbGFiZWwge1xuICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbn1cbndpbmRvdy5CYXIgYm94LkJhckNlbnRlcmJveCBib3guV29ya3NwYWNlcyBidXR0b24uV29ya3NwYWNlQnV0dG9uLkhhc0NsaWVudCB7XG4gIGNvbG9yOiAjM2MzODM2O1xufVxud2luZG93LkJhciBib3guQmFyQ2VudGVyYm94IGJveC5Gb2N1c2VkQ2xpZW50IGxhYmVsLkZvY3VzZWRDbGllbnRMYWJlbCB7XG4gIGZvbnQtc2l6ZTogc21hbGw7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG59XG53aW5kb3cuQmFyIGJveC5CYXJDZW50ZXJib3ggYm94LlRyYXkgbWVudWJ1dHRvbi5UcmF5TWVudUJ1dHRvbiBsYWJlbC5UcmF5TGFiZWxJY29uIHtcbiAgZm9udC1zaXplOiAxOHB4O1xufVxud2luZG93LkJhciBib3guQmFyQ2VudGVyYm94IGJveC5UcmF5IG1lbnVidXR0b24uVHJheU1lbnVCdXR0b24gaW1hZ2UuVHJheUltYWdlSWNvbiB7XG4gIG1pbi13aWR0aDogMThweDtcbn1cblxud2luZG93LlF1aWNrU2V0dGluZyB7XG4gIHBhZGRpbmc6IDAuNXJlbSAxcmVtIDAuNnJlbSAwLjZyZW07XG59XG53aW5kb3cuUXVpY2tTZXR0aW5nIGJveC5RdWlja1NldHRpbmdDb250YWluZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmJmMWM3O1xuICBjb2xvcjogIzNjMzgzNjtcbiAgcGFkZGluZzogMXJlbTtcbiAgYm9yZGVyLXJhZGl1czogMC41cmVtO1xuICBib3gtc2hhZG93OiA1cHggNXB4IDAgMCAjM2MzODM2O1xufVxud2luZG93LlF1aWNrU2V0dGluZyBib3guUXVpY2tTZXR0aW5nQ29udGFpbmVyIGJ1dHRvbi5RdWlja1NldHRpbmdCdXR0b24ge1xuICBwYWRkaW5nOiAwLjVyZW0gMXJlbTtcbiAgYmFja2dyb3VuZC1jb2xvcjogI0U3REZCRTtcbiAgY29sb3I6ICMzYzM4MzY7XG4gIG1pbi13aWR0aDogMTIwcHg7XG4gIG1pbi1oZWlnaHQ6IDUwcHg7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgYm9yZGVyLXJhZGl1czogMC41cmVtO1xufVxud2luZG93LlF1aWNrU2V0dGluZyBib3guUXVpY2tTZXR0aW5nQ29udGFpbmVyIGJ1dHRvbi5RdWlja1NldHRpbmdCdXR0b246aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjN2U3NzcwO1xuICBjb2xvcjogI2YyZTlkNDtcbn1cbndpbmRvdy5RdWlja1NldHRpbmcgYm94LlF1aWNrU2V0dGluZ0NvbnRhaW5lciBidXR0b24uUXVpY2tTZXR0aW5nQnV0dG9uLlNtYWxsIHtcbiAgbWluLXdpZHRoOiA2MHB4O1xuICBtaW4taGVpZ2h0OiAzMHB4O1xufVxud2luZG93LlF1aWNrU2V0dGluZyBib3guUXVpY2tTZXR0aW5nQ29udGFpbmVyIGJ1dHRvbi5RdWlja1NldHRpbmdCdXR0b24gLkljb24ge1xuICBmb250LXNpemU6IDI0cHg7XG59XG53aW5kb3cuUXVpY2tTZXR0aW5nIGJveC5RdWlja1NldHRpbmdDb250YWluZXIgYnV0dG9uLlF1aWNrU2V0dGluZ0J1dHRvbiAuQ2hldnJvbiB7XG4gIGZvbnQtc2l6ZTogMjBweDtcbn1cbndpbmRvdy5RdWlja1NldHRpbmcgYm94LlF1aWNrU2V0dGluZ0NvbnRhaW5lciBidXR0b24uUXVpY2tTZXR0aW5nQnV0dG9uIC5MYWJlbDEge1xuICBmb250LXdlaWdodDogNjAwO1xufVxud2luZG93LlF1aWNrU2V0dGluZyBib3guUXVpY2tTZXR0aW5nQ29udGFpbmVyIGJ1dHRvbi5RdWlja1NldHRpbmdCdXR0b24gLkxhYmVsMiB7XG4gIGZvbnQtc2l6ZTogMTJweDtcbiAgY29sb3I6ICM3ZTc3NzA7XG59XG53aW5kb3cuUXVpY2tTZXR0aW5nIGJveC5RdWlja1NldHRpbmdDb250YWluZXIgaW1hZ2Uge1xuICBjb2xvcjogIzNjMzgzNjtcbn1cbndpbmRvdy5RdWlja1NldHRpbmcgYm94LlF1aWNrU2V0dGluZ0NvbnRhaW5lciBzY2FsZSB7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogMDtcbn1cbndpbmRvdy5RdWlja1NldHRpbmcgYm94LlF1aWNrU2V0dGluZ0NvbnRhaW5lciBzY2FsZSB0cm91Z2gge1xuICBib3JkZXItcmFkaXVzOiAxcmVtO1xufVxud2luZG93LlF1aWNrU2V0dGluZyBib3guUXVpY2tTZXR0aW5nQ29udGFpbmVyIHNjYWxlIHRyb3VnaCBoaWdobGlnaHQge1xuICBtaW4taGVpZ2h0OiAyMHB4O1xuICBtaW4td2lkdGg6IDIwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDFyZW07XG4gIG91dGxpbmU6IHVuc2V0O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjM2MzODM2O1xufVxud2luZG93LlF1aWNrU2V0dGluZyBib3guUXVpY2tTZXR0aW5nQ29udGFpbmVyIHNjYWxlIHRyb3VnaCBzbGlkZXIge1xuICBib3gtc2hhZG93OiBub25lO1xuICBvdXRsaW5lOiB1bnNldDtcbiAgYm9yZGVyOiAwO1xuICBtaW4taGVpZ2h0OiAyMHB4O1xuICBtaW4td2lkdGg6IDIwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xufVxuXG53aW5kb3cuVm9sdW1lIHtcbiAgbWFyZ2luLXRvcDogMy41cmVtO1xuICBtaW4taGVpZ2h0OiAxMDBweDtcbiAgbWluLXdpZHRoOiAxMDBweDtcbn1cbndpbmRvdy5Wb2x1bWUgcmV2ZWFsZXIuVm9sdW1lUmV2ZWFsZXIge1xuICBwYWRkaW5nOiAxcmVtO1xufVxud2luZG93LlZvbHVtZSByZXZlYWxlci5Wb2x1bWVSZXZlYWxlciBidXR0b24uVm9sdW1lQnV0dG9uIHtcbiAgcGFkZGluZzogMC41cmVtO1xuICBib3JkZXItcmFkaXVzOiAwLjVyZW07XG4gIGJhY2tncm91bmQtY29sb3I6ICNmYmYxYzc7XG4gIGJveC1zaGFkb3c6IDVweCA1cHggMCAwICMzYzM4MzY7XG59XG5cbndpbmRvdy5Ob3RpZmljYXRpb24ge1xuICBwYWRkaW5nOiAwLjVyZW0gMXJlbSAwLjZyZW0gMC42cmVtO1xufVxud2luZG93Lk5vdGlmaWNhdGlvbiBib3guTm90aWZpY2F0aW9uQ29udGFpbmVyIGJveC5Ob3RpZmljYXRpb25JdGVtIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZiZjFjNztcbiAgY29sb3I6ICMzYzM4MzY7XG4gIGJvcmRlci1yYWRpdXM6IDAuNXJlbTtcbiAgYm94LXNoYWRvdzogNXB4IDVweCAwIDAgIzNjMzgzNjtcbiAgbWluLXdpZHRoOiAzMDBweDtcbiAgcGFkZGluZzogMC41cmVtIDFyZW07XG59XG53aW5kb3cuTm90aWZpY2F0aW9uIGJveC5Ob3RpZmljYXRpb25Db250YWluZXIgYm94Lk5vdGlmaWNhdGlvbkl0ZW0gYm94LkhlYWRlciB7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjN2U3NzcwO1xufVxud2luZG93Lk5vdGlmaWNhdGlvbiBib3guTm90aWZpY2F0aW9uQ29udGFpbmVyIGJveC5Ob3RpZmljYXRpb25JdGVtIGJveC5Db250ZW50IHtcbiAgbWluLWhlaWdodDogNTBweDtcbn1cbndpbmRvdy5Ob3RpZmljYXRpb24gYm94Lk5vdGlmaWNhdGlvbkNvbnRhaW5lciBib3guTm90aWZpY2F0aW9uSXRlbSBib3guRm9vdGVyIHtcbiAgbWluLWhlaWdodDogMXB4O1xufSIsICJpbXBvcnQgeyBHZGsgfSBmcm9tIFwiYXN0YWwvZ3RrNFwiXG5cbmV4cG9ydCBjb25zdCBfZGVmYXVsdCA9IEdkay5DdXJzb3IubmV3X2Zyb21fbmFtZShcImRlZmF1bHRcIiwgbnVsbClcbmV4cG9ydCBjb25zdCBwb2ludGVyID0gR2RrLkN1cnNvci5uZXdfZnJvbV9uYW1lKFwicG9pbnRlclwiLCBudWxsKVxuZXhwb3J0IGNvbnN0IG5vdEFsbG93ZWQgPSBHZGsuQ3Vyc29yLm5ld19mcm9tX25hbWUoXCJub3QtYWxsb3dlZFwiLCBudWxsKVxuIiwgImltcG9ydCBHdGsgZnJvbSBcImdpOi8vR3RrP3ZlcnNpb249NC4wXCJcbmltcG9ydCB7IHR5cGUgQmluZGFibGVDaGlsZCB9IGZyb20gXCIuL2FzdGFsaWZ5LmpzXCJcbmltcG9ydCB7IG1lcmdlQmluZGluZ3MsIGpzeCBhcyBfanN4IH0gZnJvbSBcIi4uL19hc3RhbC5qc1wiXG5pbXBvcnQgKiBhcyBXaWRnZXQgZnJvbSBcIi4vd2lkZ2V0LmpzXCJcblxuZXhwb3J0IGZ1bmN0aW9uIEZyYWdtZW50KHsgY2hpbGRyZW4gPSBbXSwgY2hpbGQgfToge1xuICAgIGNoaWxkPzogQmluZGFibGVDaGlsZFxuICAgIGNoaWxkcmVuPzogQXJyYXk8QmluZGFibGVDaGlsZD5cbn0pIHtcbiAgICBpZiAoY2hpbGQpIGNoaWxkcmVuLnB1c2goY2hpbGQpXG4gICAgcmV0dXJuIG1lcmdlQmluZGluZ3MoY2hpbGRyZW4pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBqc3goXG4gICAgY3Rvcjoga2V5b2YgdHlwZW9mIGN0b3JzIHwgdHlwZW9mIEd0ay5XaWRnZXQsXG4gICAgcHJvcHM6IGFueSxcbikge1xuICAgIHJldHVybiBfanN4KGN0b3JzLCBjdG9yIGFzIGFueSwgcHJvcHMpXG59XG5cbmNvbnN0IGN0b3JzID0ge1xuICAgIGJveDogV2lkZ2V0LkJveCxcbiAgICBidXR0b246IFdpZGdldC5CdXR0b24sXG4gICAgY2VudGVyYm94OiBXaWRnZXQuQ2VudGVyQm94LFxuICAgIC8vIGNpcmN1bGFycHJvZ3Jlc3M6IFdpZGdldC5DaXJjdWxhclByb2dyZXNzLFxuICAgIC8vIGRyYXdpbmdhcmVhOiBXaWRnZXQuRHJhd2luZ0FyZWEsXG4gICAgZW50cnk6IFdpZGdldC5FbnRyeSxcbiAgICBpbWFnZTogV2lkZ2V0LkltYWdlLFxuICAgIGxhYmVsOiBXaWRnZXQuTGFiZWwsXG4gICAgbGV2ZWxiYXI6IFdpZGdldC5MZXZlbEJhcixcbiAgICBvdmVybGF5OiBXaWRnZXQuT3ZlcmxheSxcbiAgICByZXZlYWxlcjogV2lkZ2V0LlJldmVhbGVyLFxuICAgIHNsaWRlcjogV2lkZ2V0LlNsaWRlcixcbiAgICBzdGFjazogV2lkZ2V0LlN0YWNrLFxuICAgIHN3aXRjaDogV2lkZ2V0LlN3aXRjaCxcbiAgICB3aW5kb3c6IFdpZGdldC5XaW5kb3csXG4gICAgbWVudWJ1dHRvbjogV2lkZ2V0Lk1lbnVCdXR0b24sXG4gICAgcG9wb3ZlcjogV2lkZ2V0LlBvcG92ZXIsXG59XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5hbWVzcGFjZVxuICAgIG5hbWVzcGFjZSBKU1gge1xuICAgICAgICB0eXBlIEVsZW1lbnQgPSBHdGsuV2lkZ2V0XG4gICAgICAgIHR5cGUgRWxlbWVudENsYXNzID0gR3RrLldpZGdldFxuICAgICAgICBpbnRlcmZhY2UgSW50cmluc2ljRWxlbWVudHMge1xuICAgICAgICAgICAgYm94OiBXaWRnZXQuQm94UHJvcHNcbiAgICAgICAgICAgIGJ1dHRvbjogV2lkZ2V0LkJ1dHRvblByb3BzXG4gICAgICAgICAgICBjZW50ZXJib3g6IFdpZGdldC5DZW50ZXJCb3hQcm9wc1xuICAgICAgICAgICAgLy8gY2lyY3VsYXJwcm9ncmVzczogV2lkZ2V0LkNpcmN1bGFyUHJvZ3Jlc3NQcm9wc1xuICAgICAgICAgICAgLy8gZHJhd2luZ2FyZWE6IFdpZGdldC5EcmF3aW5nQXJlYVByb3BzXG4gICAgICAgICAgICBlbnRyeTogV2lkZ2V0LkVudHJ5UHJvcHNcbiAgICAgICAgICAgIGltYWdlOiBXaWRnZXQuSW1hZ2VQcm9wc1xuICAgICAgICAgICAgbGFiZWw6IFdpZGdldC5MYWJlbFByb3BzXG4gICAgICAgICAgICBsZXZlbGJhcjogV2lkZ2V0LkxldmVsQmFyUHJvcHNcbiAgICAgICAgICAgIG92ZXJsYXk6IFdpZGdldC5PdmVybGF5UHJvcHNcbiAgICAgICAgICAgIHJldmVhbGVyOiBXaWRnZXQuUmV2ZWFsZXJQcm9wc1xuICAgICAgICAgICAgc2xpZGVyOiBXaWRnZXQuU2xpZGVyUHJvcHNcbiAgICAgICAgICAgIHN0YWNrOiBXaWRnZXQuU3RhY2tQcm9wc1xuICAgICAgICAgICAgc3dpdGNoOiBXaWRnZXQuU3dpdGNoUHJvcHNcbiAgICAgICAgICAgIHdpbmRvdzogV2lkZ2V0LldpbmRvd1Byb3BzXG4gICAgICAgICAgICBtZW51YnV0dG9uOiBXaWRnZXQuTWVudUJ1dHRvblByb3BzXG4gICAgICAgICAgICBwb3BvdmVyOiBXaWRnZXQuUG9wb3ZlclByb3BzXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBqc3hzID0ganN4XG4iLCAiaW1wb3J0IHsgR3RrIH0gZnJvbSBcImFzdGFsL2d0azRcIlxuaW1wb3J0IHsgcG9pbnRlciB9IGZyb20gXCIuLi8uLi8uLi9taXNjL2N1cnNvclwiXG5cbmNvbnN0IExhdW5jaGVyID0gKCkgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxib3hcbiAgICAgICAgICAgIG5hbWU9e1wiTGF1bmNoZXJcIn1cbiAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIkxhdW5jaGVyXCJdfVxuICAgICAgICA+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgbmFtZT17XCJMYXVuY2hlckJ1dHRvblwifVxuICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIkljb25cIiwgXCJMYXVuY2hlckJ1dHRvblwiXX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrZWQ9eygpID0+IHByaW50KFwiaGVsbG9cIil9XG4gICAgICAgICAgICAgICAgdG9vbHRpcFRleHQ9e1wiTGF1bmNoZXJcIn1cbiAgICAgICAgICAgICAgICBjdXJzb3I9e3BvaW50ZXJ9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGxhYmVsPXtcIlx1REI4Mlx1RENDN1wifSAvPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvYm94PlxuICAgIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgTGF1bmNoZXJcbiIsICJpbXBvcnQgXCIuL292ZXJyaWRlcy5qc1wiXG5leHBvcnQgeyBkZWZhdWx0IGFzIEFzdGFsSU8gfSBmcm9tIFwiZ2k6Ly9Bc3RhbElPP3ZlcnNpb249MC4xXCJcbmV4cG9ydCAqIGZyb20gXCIuL3Byb2Nlc3MuanNcIlxuZXhwb3J0ICogZnJvbSBcIi4vdGltZS5qc1wiXG5leHBvcnQgKiBmcm9tIFwiLi9maWxlLmpzXCJcbmV4cG9ydCAqIGZyb20gXCIuL2dvYmplY3QuanNcIlxuZXhwb3J0IHsgQmluZGluZywgYmluZCB9IGZyb20gXCIuL2JpbmRpbmcuanNcIlxuZXhwb3J0IHsgVmFyaWFibGUsIGRlcml2ZSB9IGZyb20gXCIuL3ZhcmlhYmxlLmpzXCJcbiIsICJpbXBvcnQgQXN0YWwgZnJvbSBcImdpOi8vQXN0YWxJT1wiXG5pbXBvcnQgR2lvIGZyb20gXCJnaTovL0dpbz92ZXJzaW9uPTIuMFwiXG5cbmV4cG9ydCB7IEdpbyB9XG5cbmV4cG9ydCBmdW5jdGlvbiByZWFkRmlsZShwYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBBc3RhbC5yZWFkX2ZpbGUocGF0aCkgfHwgXCJcIlxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVhZEZpbGVBc3luYyhwYXRoOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIEFzdGFsLnJlYWRfZmlsZV9hc3luYyhwYXRoLCAoXywgcmVzKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoQXN0YWwucmVhZF9maWxlX2ZpbmlzaChyZXMpIHx8IFwiXCIpXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gd3JpdGVGaWxlKHBhdGg6IHN0cmluZywgY29udGVudDogc3RyaW5nKTogdm9pZCB7XG4gICAgQXN0YWwud3JpdGVfZmlsZShwYXRoLCBjb250ZW50KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gd3JpdGVGaWxlQXN5bmMocGF0aDogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBBc3RhbC53cml0ZV9maWxlX2FzeW5jKHBhdGgsIGNvbnRlbnQsIChfLCByZXMpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShBc3RhbC53cml0ZV9maWxlX2ZpbmlzaChyZXMpKVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1vbml0b3JGaWxlKFxuICAgIHBhdGg6IHN0cmluZyxcbiAgICBjYWxsYmFjazogKGZpbGU6IHN0cmluZywgZXZlbnQ6IEdpby5GaWxlTW9uaXRvckV2ZW50KSA9PiB2b2lkLFxuKTogR2lvLkZpbGVNb25pdG9yIHtcbiAgICByZXR1cm4gQXN0YWwubW9uaXRvcl9maWxlKHBhdGgsIChmaWxlOiBzdHJpbmcsIGV2ZW50OiBHaW8uRmlsZU1vbml0b3JFdmVudCkgPT4ge1xuICAgICAgICBjYWxsYmFjayhmaWxlLCBldmVudClcbiAgICB9KSFcbn1cbiIsICJpbXBvcnQgR09iamVjdCBmcm9tIFwiZ2k6Ly9HT2JqZWN0XCJcblxuZXhwb3J0IHsgZGVmYXVsdCBhcyBHTGliIH0gZnJvbSBcImdpOi8vR0xpYj92ZXJzaW9uPTIuMFwiXG5leHBvcnQgeyBHT2JqZWN0LCBHT2JqZWN0IGFzIGRlZmF1bHQgfVxuXG5jb25zdCBtZXRhID0gU3ltYm9sKFwibWV0YVwiKVxuY29uc3QgcHJpdiA9IFN5bWJvbChcInByaXZcIilcblxuY29uc3QgeyBQYXJhbVNwZWMsIFBhcmFtRmxhZ3MgfSA9IEdPYmplY3RcblxuY29uc3Qga2ViYWJpZnkgPSAoc3RyOiBzdHJpbmcpID0+IHN0clxuICAgIC5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCBcIiQxLSQyXCIpXG4gICAgLnJlcGxhY2VBbGwoXCJfXCIsIFwiLVwiKVxuICAgIC50b0xvd2VyQ2FzZSgpXG5cbnR5cGUgU2lnbmFsRGVjbGFyYXRpb24gPSB7XG4gICAgZmxhZ3M/OiBHT2JqZWN0LlNpZ25hbEZsYWdzXG4gICAgYWNjdW11bGF0b3I/OiBHT2JqZWN0LkFjY3VtdWxhdG9yVHlwZVxuICAgIHJldHVybl90eXBlPzogR09iamVjdC5HVHlwZVxuICAgIHBhcmFtX3R5cGVzPzogQXJyYXk8R09iamVjdC5HVHlwZT5cbn1cblxudHlwZSBQcm9wZXJ0eURlY2xhcmF0aW9uID1cbiAgICB8IEluc3RhbmNlVHlwZTx0eXBlb2YgR09iamVjdC5QYXJhbVNwZWM+XG4gICAgfCB7ICRndHlwZTogR09iamVjdC5HVHlwZSB9XG4gICAgfCB0eXBlb2YgU3RyaW5nXG4gICAgfCB0eXBlb2YgTnVtYmVyXG4gICAgfCB0eXBlb2YgQm9vbGVhblxuICAgIHwgdHlwZW9mIE9iamVjdFxuXG50eXBlIEdPYmplY3RDb25zdHJ1Y3RvciA9IHtcbiAgICBbbWV0YV0/OiB7XG4gICAgICAgIFByb3BlcnRpZXM/OiB7IFtrZXk6IHN0cmluZ106IEdPYmplY3QuUGFyYW1TcGVjIH1cbiAgICAgICAgU2lnbmFscz86IHsgW2tleTogc3RyaW5nXTogR09iamVjdC5TaWduYWxEZWZpbml0aW9uIH1cbiAgICB9XG4gICAgbmV3KC4uLmFyZ3M6IGFueVtdKTogYW55XG59XG5cbnR5cGUgTWV0YUluZm8gPSBHT2JqZWN0Lk1ldGFJbmZvPG5ldmVyLCBBcnJheTx7ICRndHlwZTogR09iamVjdC5HVHlwZSB9PiwgbmV2ZXI+XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlcihvcHRpb25zOiBNZXRhSW5mbyA9IHt9KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChjbHM6IEdPYmplY3RDb25zdHJ1Y3Rvcikge1xuICAgICAgICBjb25zdCB0ID0gb3B0aW9ucy5UZW1wbGF0ZVxuICAgICAgICBpZiAodHlwZW9mIHQgPT09IFwic3RyaW5nXCIgJiYgIXQuc3RhcnRzV2l0aChcInJlc291cmNlOi8vXCIpICYmICF0LnN0YXJ0c1dpdGgoXCJmaWxlOi8vXCIpKSB7XG4gICAgICAgICAgICAvLyBhc3N1bWUgeG1sIHRlbXBsYXRlXG4gICAgICAgICAgICBvcHRpb25zLlRlbXBsYXRlID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHQpXG4gICAgICAgIH1cblxuICAgICAgICBHT2JqZWN0LnJlZ2lzdGVyQ2xhc3Moe1xuICAgICAgICAgICAgU2lnbmFsczogeyAuLi5jbHNbbWV0YV0/LlNpZ25hbHMgfSxcbiAgICAgICAgICAgIFByb3BlcnRpZXM6IHsgLi4uY2xzW21ldGFdPy5Qcm9wZXJ0aWVzIH0sXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9LCBjbHMpXG5cbiAgICAgICAgZGVsZXRlIGNsc1ttZXRhXVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb3BlcnR5KGRlY2xhcmF0aW9uOiBQcm9wZXJ0eURlY2xhcmF0aW9uID0gT2JqZWN0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQ6IGFueSwgcHJvcDogYW55LCBkZXNjPzogUHJvcGVydHlEZXNjcmlwdG9yKSB7XG4gICAgICAgIHRhcmdldC5jb25zdHJ1Y3RvclttZXRhXSA/Pz0ge31cbiAgICAgICAgdGFyZ2V0LmNvbnN0cnVjdG9yW21ldGFdLlByb3BlcnRpZXMgPz89IHt9XG5cbiAgICAgICAgY29uc3QgbmFtZSA9IGtlYmFiaWZ5KHByb3ApXG5cbiAgICAgICAgaWYgKCFkZXNjKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wLCB7XG4gICAgICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1twcml2XT8uW3Byb3BdID8/IGRlZmF1bHRWYWx1ZShkZWNsYXJhdGlvbilcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldCh2OiBhbnkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHYgIT09IHRoaXNbcHJvcF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbcHJpdl0gPz89IHt9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzW3ByaXZdW3Byb3BdID0gdlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkobmFtZSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBgc2V0XyR7bmFtZS5yZXBsYWNlKFwiLVwiLCBcIl9cIil9YCwge1xuICAgICAgICAgICAgICAgIHZhbHVlKHY6IGFueSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzW3Byb3BdID0gdlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBgZ2V0XyR7bmFtZS5yZXBsYWNlKFwiLVwiLCBcIl9cIil9YCwge1xuICAgICAgICAgICAgICAgIHZhbHVlKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1twcm9wXVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICB0YXJnZXQuY29uc3RydWN0b3JbbWV0YV0uUHJvcGVydGllc1trZWJhYmlmeShwcm9wKV0gPSBwc3BlYyhuYW1lLCBQYXJhbUZsYWdzLlJFQURXUklURSwgZGVjbGFyYXRpb24pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgZmxhZ3MgPSAwXG4gICAgICAgICAgICBpZiAoZGVzYy5nZXQpIGZsYWdzIHw9IFBhcmFtRmxhZ3MuUkVBREFCTEVcbiAgICAgICAgICAgIGlmIChkZXNjLnNldCkgZmxhZ3MgfD0gUGFyYW1GbGFncy5XUklUQUJMRVxuXG4gICAgICAgICAgICB0YXJnZXQuY29uc3RydWN0b3JbbWV0YV0uUHJvcGVydGllc1trZWJhYmlmeShwcm9wKV0gPSBwc3BlYyhuYW1lLCBmbGFncywgZGVjbGFyYXRpb24pXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaWduYWwoLi4ucGFyYW1zOiBBcnJheTx7ICRndHlwZTogR09iamVjdC5HVHlwZSB9IHwgdHlwZW9mIE9iamVjdD4pOlxuKHRhcmdldDogYW55LCBzaWduYWw6IGFueSwgZGVzYz86IFByb3BlcnR5RGVzY3JpcHRvcikgPT4gdm9pZFxuXG5leHBvcnQgZnVuY3Rpb24gc2lnbmFsKGRlY2xhcmF0aW9uPzogU2lnbmFsRGVjbGFyYXRpb24pOlxuKHRhcmdldDogYW55LCBzaWduYWw6IGFueSwgZGVzYz86IFByb3BlcnR5RGVzY3JpcHRvcikgPT4gdm9pZFxuXG5leHBvcnQgZnVuY3Rpb24gc2lnbmFsKFxuICAgIGRlY2xhcmF0aW9uPzogU2lnbmFsRGVjbGFyYXRpb24gfCB7ICRndHlwZTogR09iamVjdC5HVHlwZSB9IHwgdHlwZW9mIE9iamVjdCxcbiAgICAuLi5wYXJhbXM6IEFycmF5PHsgJGd0eXBlOiBHT2JqZWN0LkdUeXBlIH0gfCB0eXBlb2YgT2JqZWN0PlxuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQ6IGFueSwgc2lnbmFsOiBhbnksIGRlc2M/OiBQcm9wZXJ0eURlc2NyaXB0b3IpIHtcbiAgICAgICAgdGFyZ2V0LmNvbnN0cnVjdG9yW21ldGFdID8/PSB7fVxuICAgICAgICB0YXJnZXQuY29uc3RydWN0b3JbbWV0YV0uU2lnbmFscyA/Pz0ge31cblxuICAgICAgICBjb25zdCBuYW1lID0ga2ViYWJpZnkoc2lnbmFsKVxuXG4gICAgICAgIGlmIChkZWNsYXJhdGlvbiB8fCBwYXJhbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUT0RPOiB0eXBlIGFzc2VydFxuICAgICAgICAgICAgY29uc3QgYXJyID0gW2RlY2xhcmF0aW9uLCAuLi5wYXJhbXNdLm1hcCh2ID0+IHYuJGd0eXBlKVxuICAgICAgICAgICAgdGFyZ2V0LmNvbnN0cnVjdG9yW21ldGFdLlNpZ25hbHNbbmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgcGFyYW1fdHlwZXM6IGFycixcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRhcmdldC5jb25zdHJ1Y3RvclttZXRhXS5TaWduYWxzW25hbWVdID0gZGVjbGFyYXRpb24gfHwge1xuICAgICAgICAgICAgICAgIHBhcmFtX3R5cGVzOiBbXSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZGVzYykge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgc2lnbmFsLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uICguLi5hcmdzOiBhbnlbXSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQobmFtZSwgLi4uYXJncylcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG9nOiAoKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkKSA9IGRlc2MudmFsdWVcbiAgICAgICAgICAgIGRlc2MudmFsdWUgPSBmdW5jdGlvbiAoLi4uYXJnczogYW55W10pIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIG5vdCB0eXBlZFxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChuYW1lLCAuLi5hcmdzKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgYG9uXyR7bmFtZS5yZXBsYWNlKFwiLVwiLCBcIl9cIil9YCwge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiAoLi4uYXJnczogYW55W10pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9nLmFwcGx5KHRoaXMsIGFyZ3MpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIHBzcGVjKG5hbWU6IHN0cmluZywgZmxhZ3M6IG51bWJlciwgZGVjbGFyYXRpb246IFByb3BlcnR5RGVjbGFyYXRpb24pIHtcbiAgICBpZiAoZGVjbGFyYXRpb24gaW5zdGFuY2VvZiBQYXJhbVNwZWMpXG4gICAgICAgIHJldHVybiBkZWNsYXJhdGlvblxuXG4gICAgc3dpdGNoIChkZWNsYXJhdGlvbikge1xuICAgICAgICBjYXNlIFN0cmluZzpcbiAgICAgICAgICAgIHJldHVybiBQYXJhbVNwZWMuc3RyaW5nKG5hbWUsIFwiXCIsIFwiXCIsIGZsYWdzLCBcIlwiKVxuICAgICAgICBjYXNlIE51bWJlcjpcbiAgICAgICAgICAgIHJldHVybiBQYXJhbVNwZWMuZG91YmxlKG5hbWUsIFwiXCIsIFwiXCIsIGZsYWdzLCAtTnVtYmVyLk1BWF9WQUxVRSwgTnVtYmVyLk1BWF9WQUxVRSwgMClcbiAgICAgICAgY2FzZSBCb29sZWFuOlxuICAgICAgICAgICAgcmV0dXJuIFBhcmFtU3BlYy5ib29sZWFuKG5hbWUsIFwiXCIsIFwiXCIsIGZsYWdzLCBmYWxzZSlcbiAgICAgICAgY2FzZSBPYmplY3Q6XG4gICAgICAgICAgICByZXR1cm4gUGFyYW1TcGVjLmpzb2JqZWN0KG5hbWUsIFwiXCIsIFwiXCIsIGZsYWdzKVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBtaXNzdHlwZWRcbiAgICAgICAgICAgIHJldHVybiBQYXJhbVNwZWMub2JqZWN0KG5hbWUsIFwiXCIsIFwiXCIsIGZsYWdzLCBkZWNsYXJhdGlvbi4kZ3R5cGUpXG4gICAgfVxufVxuXG5mdW5jdGlvbiBkZWZhdWx0VmFsdWUoZGVjbGFyYXRpb246IFByb3BlcnR5RGVjbGFyYXRpb24pIHtcbiAgICBpZiAoZGVjbGFyYXRpb24gaW5zdGFuY2VvZiBQYXJhbVNwZWMpXG4gICAgICAgIHJldHVybiBkZWNsYXJhdGlvbi5nZXRfZGVmYXVsdF92YWx1ZSgpXG5cbiAgICBzd2l0Y2ggKGRlY2xhcmF0aW9uKSB7XG4gICAgICAgIGNhc2UgU3RyaW5nOlxuICAgICAgICAgICAgcmV0dXJuIFwiXCJcbiAgICAgICAgY2FzZSBOdW1iZXI6XG4gICAgICAgICAgICByZXR1cm4gMFxuICAgICAgICBjYXNlIEJvb2xlYW46XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgY2FzZSBPYmplY3Q6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBiaW5kLCBWYXJpYWJsZSB9IGZyb20gXCJhc3RhbFwiXG5pbXBvcnQgeyBHZGssIEd0ayB9IGZyb20gXCJhc3RhbC9ndGs0XCJcbmltcG9ydCBBc3RhbEh5cHJsYW5kIGZyb20gXCJnaTovL0FzdGFsSHlwcmxhbmQ/dmVyc2lvbj0wLjFcIlxuaW1wb3J0IHsgX2RlZmF1bHQsIHBvaW50ZXIgfSBmcm9tIFwiLi4vLi4vLi4vbWlzYy9jdXJzb3JcIlxuXG5jb25zdCBtYXhXb3Jrc3BhY2VzID0gNVxuY29uc3Qgd29ya3NwYWNlcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IG1heFdvcmtzcGFjZXMgLSAxIH0sIChfLCBpKSA9PiBpKVxuY29uc3QgaHlwcmxhbmQgPSBBc3RhbEh5cHJsYW5kLmdldF9kZWZhdWx0KClcblxuY29uc3QgV29ya3NwYWNlcyA9ICgpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8Ym94XG4gICAgICAgICAgICBuYW1lPXtcIldvcmtzcGFjZXNcIn1cbiAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIldvcmtzcGFjZXNcIl19XG4gICAgICAgICAgICBoYWxpZ249e0d0ay5BbGlnbi5DRU5URVJ9XG4gICAgICAgICAgICB2YWxpZ249e0d0ay5BbGlnbi5CQVNFTElORX1cbiAgICAgICAgICAgIHNwYWNpbmc9ezN9XG4gICAgICAgID5cbiAgICAgICAgICAgIHt3b3Jrc3BhY2VzLm1hcCgoaSkgPT4gKFxuICAgICAgICAgICAgICAgIDxXb3Jrc3BhY2VCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgd29ya3NwYWNlPXtBc3RhbEh5cHJsYW5kLldvcmtzcGFjZS5kdW1teShpICsgMSwgbnVsbCl9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkpfVxuXG4gICAgICAgICAgICB7YmluZChoeXBybGFuZCwgXCJmb2N1c2VkV29ya3NwYWNlXCIpLmFzKChmb2N1c2VkKSA9PiAoXG4gICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAge2ZvY3VzZWQgJiYgZm9jdXNlZC5pZCA+IG1heFdvcmtzcGFjZXMgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8V29ya3NwYWNlQnV0dG9uIHdvcmtzcGFjZT17Zm9jdXNlZH0gLz5cbiAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxXb3Jrc3BhY2VCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3Jrc3BhY2U9e0FzdGFsSHlwcmxhbmQuV29ya3NwYWNlLmR1bW15KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhXb3Jrc3BhY2VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgPC9ib3g+XG4gICAgKVxufVxuXG5pbnRlcmZhY2UgV29ya3NwYWNlQnV0dG9uUHJvcHMge1xuICAgIHdvcmtzcGFjZTogQXN0YWxIeXBybGFuZC5Xb3Jrc3BhY2Vcbn1cblxuY29uc3QgV29ya3NwYWNlQnV0dG9uID0gKHsgd29ya3NwYWNlIH06IFdvcmtzcGFjZUJ1dHRvblByb3BzKSA9PiB7XG4gICAgY29uc3QgY29uZlZhciA9IFZhcmlhYmxlLmRlcml2ZShcbiAgICAgICAgW2JpbmQoaHlwcmxhbmQsIFwiZm9jdXNlZFdvcmtzcGFjZVwiKSwgYmluZChoeXBybGFuZCwgXCJjbGllbnRzXCIpXSxcbiAgICAgICAgKGZvY3VzZWQsIF9jbGllbnRzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjbGFzc2VzID0gW1wiV29ya3NwYWNlQnV0dG9uXCJdXG4gICAgICAgICAgICBsZXQgY3Vyc29yOiBHZGsuQ3Vyc29yID0gcG9pbnRlclxuICAgICAgICAgICAgbGV0IHRvb2x0aXBUZXh0OiBzdHJpbmcgPSBgU3dpdGNoIFdvcmtzcGFjZSAke3dvcmtzcGFjZS5pZH1gXG5cbiAgICAgICAgICAgIGlmIChmb2N1c2VkICYmIGZvY3VzZWQuaWQgPT09IHdvcmtzcGFjZS5pZCkge1xuICAgICAgICAgICAgICAgIGNsYXNzZXMucHVzaChcIkFjdGl2ZVwiKVxuICAgICAgICAgICAgICAgIGN1cnNvciA9IF9kZWZhdWx0XG4gICAgICAgICAgICAgICAgdG9vbHRpcFRleHQgPSBcIlwiXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGNsaWVudHMgPVxuICAgICAgICAgICAgICAgIGh5cHJsYW5kLmdldF93b3Jrc3BhY2Uod29ya3NwYWNlLmlkKT8uZ2V0X2NsaWVudHMoKSB8fCBbXVxuXG4gICAgICAgICAgICBpZiAoY2xpZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKFwiSGFzQ2xpZW50XCIpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY2xhc3NlcyxcbiAgICAgICAgICAgICAgICBjdXJzb3IsXG4gICAgICAgICAgICAgICAgdG9vbHRpcFRleHQsXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICApXG4gICAgY29uc3QgY29uZiA9IGNvbmZWYXIoKVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgbmFtZT17YFdvcmtzcGFjZUJ1dHRvbi0ke3dvcmtzcGFjZS5pZH1gfVxuICAgICAgICAgICAgY3NzQ2xhc3Nlcz17Y29uZi5hcygoYykgPT4gYy5jbGFzc2VzKX1cbiAgICAgICAgICAgIG9uQ2xpY2tlZD17KCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh3b3Jrc3BhY2UuaWQgPT09IGh5cHJsYW5kLmdldF9mb2N1c2VkX3dvcmtzcGFjZSgpPy5pZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB3b3Jrc3BhY2UuZm9jdXMoKVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIG9uRGVzdHJveT17KCkgPT4gY29uZlZhci5kcm9wKCl9XG4gICAgICAgICAgICB0b29sdGlwVGV4dD17Y29uZi5hcygoYykgPT4gYy50b29sdGlwVGV4dCl9XG4gICAgICAgICAgICBjdXJzb3I9e2NvbmYuYXMoKGMpID0+IGMuY3Vyc29yKX1cbiAgICAgICAgPlxuICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgbGFiZWw9e3dvcmtzcGFjZS5uYW1lID09IFwiMTBcIiA/IFwiMFwiIDogd29ya3NwYWNlLm5hbWV9XG4gICAgICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiV29ya3NwYWNlQnV0dG9uTGFiZWxcIl19XG4gICAgICAgICAgICAgICAgdXNlVW5kZXJsaW5lPXt0cnVlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgPC9idXR0b24+XG4gICAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBXb3Jrc3BhY2VzXG4iLCAiaW1wb3J0IHsgYmluZCwgVmFyaWFibGUgfSBmcm9tIFwiYXN0YWxcIlxuaW1wb3J0IHsgR3RrIH0gZnJvbSBcImFzdGFsL2d0azRcIlxuaW1wb3J0IEFzdGFsSHlwcmxhbmQgZnJvbSBcImdpOi8vQXN0YWxIeXBybGFuZD92ZXJzaW9uPTAuMVwiXG5pbXBvcnQgUGFuZ28gZnJvbSBcImdpOi8vUGFuZ28/dmVyc2lvbj0xLjBcIlxuXG5jb25zdCBoeXBybGFuZCA9IEFzdGFsSHlwcmxhbmQuZ2V0X2RlZmF1bHQoKVxuXG5jb25zdCBGb2N1c2VkQ2xpZW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IGZvY3VzZWRDbGllbnQgPSBWYXJpYWJsZS5kZXJpdmUoXG4gICAgICAgIFtiaW5kKGh5cHJsYW5kLCBcImZvY3VzZWRDbGllbnRcIiksIGJpbmQoaHlwcmxhbmQsIFwiY2xpZW50c1wiKV0sXG4gICAgICAgIChmb2N1c2VkQ2xpZW50LCBfY2xpZW50cykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGZvY3VzZWRDbGllbnQ/LnRpdGxlIHx8IFwiXCJcbiAgICAgICAgfVxuICAgIClcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxib3hcbiAgICAgICAgICAgIG5hbWU9e1wiRm9jdXNlZENsaWVudFwifVxuICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiRm9jdXNlZENsaWVudFwiXX1cbiAgICAgICAgICAgIGhhbGlnbj17R3RrLkFsaWduLkNFTlRFUn1cbiAgICAgICAgICAgIHZhbGlnbj17R3RrLkFsaWduLkJBU0VMSU5FfVxuICAgICAgICA+XG4gICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICBsYWJlbD17Zm9jdXNlZENsaWVudCgpfVxuICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIkZvY3VzZWRDbGllbnRMYWJlbFwiXX1cbiAgICAgICAgICAgICAgICBvbkRlc3Ryb3k9eygpID0+IGZvY3VzZWRDbGllbnQuZHJvcCgpfVxuICAgICAgICAgICAgICAgIG1heFdpZHRoQ2hhcnM9ezM2fVxuICAgICAgICAgICAgICAgIGVsbGlwc2l6ZT17UGFuZ28uRWxsaXBzaXplTW9kZS5NSURETEV9XG4gICAgICAgICAgICAvPlxuICAgICAgICA8L2JveD5cbiAgICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IEZvY3VzZWRDbGllbnRcbiIsICJpbXBvcnQgeyBHdGsgfSBmcm9tIFwiYXN0YWwvZ3RrNFwiXG5pbXBvcnQgTGF1bmNoZXIgZnJvbSBcIi4vTW9kdWxlcy9MYXVuY2hlclwiXG5pbXBvcnQgV29ya3NwYWNlcyBmcm9tIFwiLi9Nb2R1bGVzL1dvcmtzcGFjZXNcIlxuaW1wb3J0IEZvY3VzZWRDbGllbnQgZnJvbSBcIi4vTW9kdWxlcy9Gb2N1c2VkQ2xpZW50XCJcblxuZXhwb3J0IGludGVyZmFjZSBTdGFydFByb3BzIHtcbiAgICBuYW1lOiBzdHJpbmdcbn1cblxuY29uc3QgU3RhcnQgPSAoeyBuYW1lIH06IFN0YXJ0UHJvcHMpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8Ym94XG4gICAgICAgICAgICBuYW1lPXtgQmFyU3RhcnQtJHtuYW1lfWB9XG4gICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJCYXJTZWN0aW9uXCIsIFwiQmFyU3RhcnRcIl19XG4gICAgICAgICAgICBoZXhwYW5kPXt0cnVlfVxuICAgICAgICA+XG4gICAgICAgICAgICA8TGF1bmNoZXIgLz5cblxuICAgICAgICAgICAgey8qIHNlcGFyYXRvciAqL31cbiAgICAgICAgICAgIDxHdGsuU2VwYXJhdG9yXG4gICAgICAgICAgICAgICAgb3JpZW50YXRpb249e0d0ay5PcmllbnRhdGlvbi5WRVJUSUNBTH1cbiAgICAgICAgICAgICAgICB2aXNpYmxlPXt0cnVlfVxuICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgey8qIHdvcmtzcGFjZXMgKi99XG4gICAgICAgICAgICA8V29ya3NwYWNlcyAvPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7Lyogc2VwYXJhdG9yICovfVxuICAgICAgICAgICAgPEd0ay5TZXBhcmF0b3JcbiAgICAgICAgICAgICAgICBvcmllbnRhdGlvbj17R3RrLk9yaWVudGF0aW9uLlZFUlRJQ0FMfVxuICAgICAgICAgICAgICAgIHZpc2libGU9e3RydWV9XG4gICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICB7LyogZm9jdXNlZCBjbGllbnQgKi99XG4gICAgICAgICAgICA8Rm9jdXNlZENsaWVudCAvPlxuICAgICAgICA8L2JveD5cbiAgICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IFN0YXJ0XG4iLCAiaW1wb3J0IHsgYmluZH0gZnJvbSBcImFzdGFsXCJcbmltcG9ydCB7IEd0ayB9IGZyb20gXCJhc3RhbC9ndGs0XCJcbmltcG9ydCBBc3RhbFRyYXkgZnJvbSBcImdpOi8vQXN0YWxUcmF5P3ZlcnNpb249MC4xXCJcbmltcG9ydCB7IHBvaW50ZXIgfSBmcm9tIFwiLi4vLi4vLi4vbWlzYy9jdXJzb3JcIlxuaW1wb3J0IHsgdG9UaXRsZUNhc2UgfSBmcm9tIFwiLi4vLi4vLi4vbGliL3V0aWxzXCJcblxuY29uc3QgVVNFX0NVU1RPTV9JQ09OUyA9IFsvc3RlYW0vaV1cbmNvbnN0IENVU1RPTV9JQ09OUzogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICBkaXNjb3JkOiBcIlx1RjFGRlwiLFxuICAgIHN0ZWFtOiBcIlx1RjFCNlwiLFxuICAgIHNwb3RpZnk6IFwiXHVGMUJDXCIsXG59XG5cbmNvbnN0IGdldFNlYXJjaFdpdGggPSAoaXRlbTogQXN0YWxUcmF5LlRyYXlJdGVtKSA9PiB7XG4gICAgY29uc3QgdGl0bGUgPSBpdGVtLnRpdGxlXG4gICAgY29uc3QgdG9vbHRpcE1hcmt1cCA9IGl0ZW0udG9vbHRpcE1hcmt1cFxuICAgIHJldHVybiB0aXRsZSAmJiB0aXRsZS5sZW5ndGggPyB0aXRsZSA6IHRvb2x0aXBNYXJrdXBcbn1cblxuY29uc3Qgc2hvdWxkVXNlQ3VzdG9tSWNvbiA9IChpdGVtOiBBc3RhbFRyYXkuVHJheUl0ZW0pID0+IHtcbiAgICBjb25zdCBzZWFyY2hXaXRoID0gZ2V0U2VhcmNoV2l0aChpdGVtKVxuXG4gICAgcmV0dXJuIFVTRV9DVVNUT01fSUNPTlMuc29tZSgocmVnZXgpID0+IHNlYXJjaFdpdGgubWF0Y2gocmVnZXgpKVxufVxuXG5jb25zdCBnZXRDdXN0b21JY29uID0gKGl0ZW06IEFzdGFsVHJheS5UcmF5SXRlbSkgPT4ge1xuICAgIGNvbnN0IHNlYXJjaFdpdGggPSBnZXRTZWFyY2hXaXRoKGl0ZW0pXG5cbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhDVVNUT01fSUNPTlMpKSB7XG4gICAgICAgIGlmIChzZWFyY2hXaXRoLm1hdGNoKG5ldyBSZWdFeHAoa2V5LCBcImlcIikpKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWVcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBcIlx1REI4Mlx1REMyQlwiXG59XG5cbmNvbnN0IGdldFRvb2x0aXBNYXJrdXAgPSAoaXRlbTogQXN0YWxUcmF5LlRyYXlJdGVtKSA9PiB7XG4gICAgLy8geWVhaCBjYW4gdXNlIHRoaXMgdG8gZ2V0IHRoZSB0b29sdGlwIG1hcmt1cFxuICAgIHJldHVybiB0b1RpdGxlQ2FzZShnZXRTZWFyY2hXaXRoKGl0ZW0pKVxufVxuXG5jb25zdCBJbWFnZUljb24gPSAoeyBpdGVtIH06IHsgaXRlbTogQXN0YWxUcmF5LlRyYXlJdGVtIH0pID0+IHtcbiAgICBpZiAoc2hvdWxkVXNlQ3VzdG9tSWNvbihpdGVtKSkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiVHJheUxhYmVsSWNvblwiXX1cbiAgICAgICAgICAgICAgICBsYWJlbD17Z2V0Q3VzdG9tSWNvbihpdGVtKX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgIClcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8aW1hZ2VcbiAgICAgICAgICAgIGdpY29uPXtiaW5kKGl0ZW0sIFwiZ2ljb25cIil9XG4gICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJUcmF5SW1hZ2VJY29uXCJdfVxuICAgICAgICAgICAgcGl4ZWxTaXplPXsxOH0gLy8gRG9uJ3QgZm9nZXQgdG8gYWRqdXN0IC5UcmF5TGFiZWxJY29uIHN0eWxlIHRvb1xuICAgICAgICAvPlxuICAgIClcbn1cblxuY29uc3QgTWVudUJ1dHRvbiA9ICh7IGl0ZW0gfTogeyBpdGVtOiBBc3RhbFRyYXkuVHJheUl0ZW0gfSkgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxtZW51YnV0dG9uXG4gICAgICAgICAgICBzZXR1cD17KHNlbGYpID0+IHtcbiAgICAgICAgICAgICAgICBzZWxmLmluc2VydF9hY3Rpb25fZ3JvdXAoXCJkYnVzbWVudVwiLCBpdGVtLmFjdGlvbkdyb3VwKVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIGN1cnNvcj17cG9pbnRlcn1cbiAgICAgICAgICAgIHRvb2x0aXBNYXJrdXA9e2dldFRvb2x0aXBNYXJrdXAoaXRlbSl9XG4gICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJUcmF5TWVudUJ1dHRvblwiXX1cbiAgICAgICAgICAgIGhhbGlnbj17R3RrLkFsaWduLkNFTlRFUn1cbiAgICAgICAgICAgIHZhbGlnbj17R3RrLkFsaWduLkNFTlRFUn1cbiAgICAgICAgPlxuICAgICAgICAgICAgPEltYWdlSWNvbiBpdGVtPXtpdGVtfSAvPlxuICAgICAgICAgICAge0d0ay5Qb3BvdmVyTWVudS5uZXdfZnJvbV9tb2RlbChpdGVtLm1lbnVNb2RlbCl9XG4gICAgICAgIDwvbWVudWJ1dHRvbj5cbiAgICApXG59XG5cbmNvbnN0IFRyYXkgPSAoKSA9PiB7XG4gICAgY29uc3QgdHJheSA9IEFzdGFsVHJheS5nZXRfZGVmYXVsdCgpXG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8Ym94XG4gICAgICAgICAgICBuYW1lPXtcIlRyYXlcIn1cbiAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIlRyYXlcIl19XG4gICAgICAgICAgICBzcGFjaW5nPXsxMH1cbiAgICAgICAgICAgIHZhbGlnbj17R3RrLkFsaWduLkNFTlRFUn1cbiAgICAgICAgPlxuICAgICAgICAgICAge2JpbmQodHJheSwgXCJpdGVtc1wiKS5hcygoaXRlbXMpID0+XG4gICAgICAgICAgICAgICAgaXRlbXMubWFwKChpdGVtKSA9PiA8TWVudUJ1dHRvbiBpdGVtPXtpdGVtfSAvPilcbiAgICAgICAgICAgICl9XG4gICAgICAgIDwvYm94PlxuICAgIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgVHJheVxuIiwgImV4cG9ydCBjb25zdCB0b1RpdGxlQ2FzZSA9IChzdHI6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiBzdHJcbiAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgLnNwbGl0KFwiIFwiKVxuICAgICAgICAubWFwKCh3b3JkKSA9PiB3b3JkLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgd29yZC5zbGljZSgxKSlcbiAgICAgICAgLmpvaW4oXCIgXCIpXG59XG5cbmV4cG9ydCBjb25zdCBkZWJvdW5jZSA9IChjYWxsYmFjazogYW55LCB3YWl0OiBudW1iZXIpID0+IHtcbiAgICBsZXQgdGltZW91dDogbnVtYmVyIHwgbnVsbCA9IG51bGxcblxuICAgIHJldHVybiAoLi4uYXJnczogdW5rbm93bltdKSA9PiB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0IGFzIG51bWJlcilcblxuICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBjYWxsYmFjayguLi5hcmdzKVxuICAgICAgICB9LCB3YWl0KSBhcyB1bmtub3duIGFzIG51bWJlclxuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBiaW5kLCBWYXJpYWJsZSB9IGZyb20gXCJhc3RhbFwiXG5pbXBvcnQgeyBHZGssIEd0ayB9IGZyb20gXCJhc3RhbC9ndGs0XCJcbmltcG9ydCBBc3RhbE1wcmlzIGZyb20gXCJnaTovL0FzdGFsTXByaXNcIlxuaW1wb3J0IFBhbmdvIGZyb20gXCJnaTovL1BhbmdvP3ZlcnNpb249MS4wXCJcbmltcG9ydCB7IG5vdEFsbG93ZWQsIHBvaW50ZXIgfSBmcm9tIFwiLi4vLi4vLi4vbWlzYy9jdXJzb3JcIlxuXG5pbnRlcmZhY2UgTWVkaWFQcm9zIHtcbiAgICBwbGF5ZXI6IEFzdGFsTXByaXMuUGxheWVyXG59XG5cbmNvbnN0IE1lZGlhID0gKHsgcGxheWVyIH06IE1lZGlhUHJvcykgPT4ge1xuICAgIGlmICghcGxheWVyKSB7XG4gICAgICAgIHJldHVybiA8Ym94IC8+XG4gICAgfVxuXG4gICAgY29uc3QgY292ZXJBcnQgPSBiaW5kKHBsYXllciwgXCJjb3ZlckFydFwiKVxuICAgIGNvbnN0IHRpdGxlID0gYmluZChwbGF5ZXIsIFwidGl0bGVcIikuYXMoKHQpID0+IHQpXG4gICAgY29uc3QgcGxheUljb24gPSBiaW5kKHBsYXllciwgXCJwbGF5YmFja1N0YXR1c1wiKS5hcygocykgPT5cbiAgICAgICAgcyA9PT0gQXN0YWxNcHJpcy5QbGF5YmFja1N0YXR1cy5QTEFZSU5HID8gXCJcdUYwNEJcIiA6IFwiXHVGMDRDXCJcbiAgICApXG5cbiAgICBjb25zdCBnb1ByZXZDdXJzb3IgPSBiaW5kKHBsYXllciwgXCJjYW5Hb1ByZXZpb3VzXCIpLmFzKChjYW5HbykgPT5cbiAgICAgICAgY2FuR28gPyBwb2ludGVyIDogbm90QWxsb3dlZFxuICAgIClcbiAgICBjb25zdCBnb05leHRDdXJzb3IgPSBiaW5kKHBsYXllciwgXCJjYW5Hb05leHRcIikuYXMoKGNhbkdvKSA9PlxuICAgICAgICBjYW5HbyA/IHBvaW50ZXIgOiBub3RBbGxvd2VkXG4gICAgKVxuICAgIGNvbnN0IGNsYXNzZXNzVmFycyA9IFZhcmlhYmxlLmRlcml2ZShcbiAgICAgICAgW2JpbmQocGxheWVyLCBcImNhbkdvUHJldmlvdXNcIiksIGJpbmQocGxheWVyLCBcImNhbkdvTmV4dFwiKV0sXG4gICAgICAgIChjYW5Hb1ByZXYsIGNhbkdvTmV4dCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2xhc3NlcyA9IFtcIkljb25cIiwgXCJNZWRpYVBsYXliYWNrQnV0dG9uXCJdXG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZ29QcmV2OiBjYW5Hb1ByZXYgPyBjbGFzc2VzIDogWy4uLmNsYXNzZXMsIFwiRGlzYWJsZWRcIl0sXG4gICAgICAgICAgICAgICAgZ29OZXh0OiBjYW5Hb05leHQgPyBjbGFzc2VzIDogWy4uLmNsYXNzZXMsIFwiRGlzYWJsZWRcIl0sXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICApXG4gICAgY29uc3QgY2xhc3Nlc3MgPSBjbGFzc2Vzc1ZhcnMoKVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGJveCBuYW1lPXtcIk1lZGlhXCJ9IHZhbGlnbj17R3RrLkFsaWduLkNFTlRFUn0gY3NzQ2xhc3Nlcz17W1wiTWVkaWFcIl19PlxuICAgICAgICAgICAgPGJveFxuICAgICAgICAgICAgICAgIG5hbWU9e1wiTWVkaWFQbGF5YmFja1wifVxuICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIk1lZGlhUGxheWJhY2tcIl19XG4gICAgICAgICAgICAgICAgb25EZXN0cm95PXsoKSA9PiBjbGFzc2Vzc1ZhcnMuZHJvcCgpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgbmFtZT17XCJNZWRpYVBsYXliYWNrQnV0dG9uUHJldmlvdXNcIn1cbiAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3Nlcz17Y2xhc3Nlc3MuYXMoKGMpID0+IGMuZ29QcmV2KX1cbiAgICAgICAgICAgICAgICAgICAgb25DbGlja2VkPXsoKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLmdldF9jYW5fZ29fcHJldmlvdXMoKSAmJiBwbGF5ZXIucHJldmlvdXMoKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXBUZXh0PXtcIlByZXZpb3VzIFRyYWNrXCJ9XG4gICAgICAgICAgICAgICAgICAgIGhhbGlnbj17R3RrLkFsaWduLkNFTlRFUn1cbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yPXtnb1ByZXZDdXJzb3J9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgbGFiZWw9e1wiXHVGMDRBXCJ9IGhleHBhbmQ9e3RydWV9IC8+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIG5hbWU9e1wiTWVkaWFQbGF5YmFja0J1dHRvblBsYXlQYXVzZVwifVxuICAgICAgICAgICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJJY29uXCIsIFwiTWVkaWFQbGF5YmFja0J1dHRvblwiXX1cbiAgICAgICAgICAgICAgICAgICAgb25DbGlja2VkPXsoKSA9PiBwbGF5ZXIucGxheV9wYXVzZSgpfVxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwVGV4dD17XCJQbGF5L1BhdXNlXCJ9XG4gICAgICAgICAgICAgICAgICAgIGhhbGlnbj17R3RrLkFsaWduLkNFTlRFUn1cbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yPXtwb2ludGVyfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGxhYmVsPXtwbGF5SWNvbn0gaGV4cGFuZD17dHJ1ZX0gLz5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgbmFtZT17XCJNZWRpYVBsYXliYWNrQnV0dG9uTmV4dFwifVxuICAgICAgICAgICAgICAgICAgICBjc3NDbGFzc2VzPXtjbGFzc2Vzcy5hcygoYykgPT4gYy5nb05leHQpfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrZWQ9eygpID0+IHBsYXllci5nZXRfY2FuX2dvX25leHQoKSAmJiBwbGF5ZXIubmV4dCgpfVxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwVGV4dD17XCJOZXh0IFRyYWNrXCJ9XG4gICAgICAgICAgICAgICAgICAgIGhhbGlnbj17R3RrLkFsaWduLkNFTlRFUn1cbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yPXtnb05leHRDdXJzb3J9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgbGFiZWw9e1wiXHVGMDRFXCJ9IGhleHBhbmQ9e3RydWV9IC8+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2JveD5cblxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2tlZD17KCkgPT4gcGxheWVyLmdldF9jYW5fcmFpc2UoKSAmJiBwbGF5ZXIucmFpc2UoKX1cbiAgICAgICAgICAgICAgICBjdXJzb3I9e3BvaW50ZXJ9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGltYWdlXG4gICAgICAgICAgICAgICAgICAgIG5hbWU9e1wiTWVkaWFJbWFnZUNvdmVyQXJ0XCJ9XG4gICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIk1lZGlhSW1hZ2VDb3ZlckFydFwiXX1cbiAgICAgICAgICAgICAgICAgICAgZmlsZT17Y292ZXJBcnR9XG4gICAgICAgICAgICAgICAgICAgIHBpeGVsU2l6ZT17MzJ9XG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93PXtHdGsuT3ZlcmZsb3cuSElEREVOfVxuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlPXt0cnVlfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG5hbWU9e1wiTWVkaWFUaXRsZUJ1dHRvblwifVxuICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIk1lZGlhVGl0bGVCdXR0b25cIl19XG4gICAgICAgICAgICAgICAgY3Vyc29yPXtwb2ludGVyfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2tlZD17KCkgPT4gcGxheWVyLmdldF9jYW5fcmFpc2UoKSAmJiBwbGF5ZXIucmFpc2UoKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgbmFtZT17XCJNZWRpYVRpdGxlQnV0dG9uTGFiZWxcIn1cbiAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiTWVkaWFUaXRsZUJ1dHRvbkxhYmVsXCJdfVxuICAgICAgICAgICAgICAgICAgICBsYWJlbD17dGl0bGV9XG4gICAgICAgICAgICAgICAgICAgIGhhbGlnbj17R3RrLkFsaWduLkNFTlRFUn1cbiAgICAgICAgICAgICAgICAgICAgdmFsaWduPXtHdGsuQWxpZ24uQ0VOVEVSfVxuICAgICAgICAgICAgICAgICAgICBtYXhXaWR0aENoYXJzPXszNn1cbiAgICAgICAgICAgICAgICAgICAgZWxsaXBzaXplPXtQYW5nby5FbGxpcHNpemVNb2RlLk1JRERMRX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvYm94PlxuICAgIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgTWVkaWFcbiIsICJpbXBvcnQgeyBHdGsgfSBmcm9tIFwiYXN0YWwvZ3RrNFwiXG5pbXBvcnQgVHJheSBmcm9tIFwiLi9Nb2R1bGVzL1RyYXlcIlxuaW1wb3J0IE1lZGlhIGZyb20gXCIuL01vZHVsZXMvTWVkaWFcIlxuaW1wb3J0IHsgYmluZCB9IGZyb20gXCJhc3RhbFwiXG5pbXBvcnQgQXN0YWxNcHJpcyBmcm9tIFwiZ2k6Ly9Bc3RhbE1wcmlzP3ZlcnNpb249MC4xXCJcblxuZXhwb3J0IGludGVyZmFjZSBDZW50ZXJQcm9wcyB7XG4gICAgbmFtZTogc3RyaW5nXG59XG5cbmNvbnN0IENlbnRlciA9ICh7IG5hbWUgfTogQ2VudGVyUHJvcHMpID0+IHtcbiAgICBjb25zdCBtcHJpcyA9IEFzdGFsTXByaXMuZ2V0X2RlZmF1bHQoKVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGJveFxuICAgICAgICAgICAgbmFtZT17YEJhckNlbnRlci0ke25hbWV9YH1cbiAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIkJhclNlY3Rpb25cIiwgXCJCYXJDZW50ZXJcIl19XG4gICAgICAgICAgICBoZXhwYW5kPXt0cnVlfVxuICAgICAgICAgICAgaGFsaWduPXtHdGsuQWxpZ24uQ0VOVEVSfVxuICAgICAgICA+XG4gICAgICAgICAgICB7YmluZChtcHJpcywgXCJwbGF5ZXJzXCIpLmFzKChwbGF5ZXJzKSA9PiAoXG4gICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgPE1lZGlhIHBsYXllcj17cGxheWVyc1swXX0gLz5cblxuICAgICAgICAgICAgICAgICAgICB7cGxheWVyc1swXSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8R3RrLlNlcGFyYXRvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uPXtHdGsuT3JpZW50YXRpb24uVkVSVElDQUx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZT17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApKX1cblxuICAgICAgICAgICAgPFRyYXkgLz5cbiAgICAgICAgPC9ib3g+XG4gICAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBDZW50ZXJcbiIsICJpbXBvcnQgeyBWYXJpYWJsZSB9IGZyb20gXCJhc3RhbFwiXG5pbXBvcnQgeyBBcHAsIEdkaywgR3RrIH0gZnJvbSBcImFzdGFsL2d0azRcIlxuXG5jb25zdCBkYXRldGltZSA9IFZhcmlhYmxlKHtcbiAgICBkYXRlOiBcIlwiLFxuICAgIHRpbWU6IFwiXCIsXG59KS5wb2xsKDEwMDAsIFwiZGF0ZSArJyVhLCAlYiAlZHwlSDolTTolUydcIiwgKG91dHB1dCkgPT4ge1xuICAgIGNvbnN0IFtkYXRlLCB0aW1lXSA9IG91dHB1dC5zcGxpdChcInxcIilcbiAgICByZXR1cm4geyBkYXRlLCB0aW1lIH1cbn0pXG5cbmludGVyZmFjZSBUaW1lUHJvcHMge1xuICAgIGdka21vbml0b3I6IEdkay5Nb25pdG9yXG59XG5cbmNvbnN0IFRpbWUgPSAoeyBnZGttb25pdG9yIH06IFRpbWVQcm9wcykgPT4ge1xuICAgIGNvbnN0IF9kYXRldGltZSA9IGRhdGV0aW1lKClcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxib3ggbmFtZT17YFRpbWVgfSBjc3NDbGFzc2VzPXtbXCJCYXJTZWN0aW9uXCIsIFwiQmFyRW5kXCJdfSBoZXhwYW5kPXt0cnVlfT5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBuYW1lPXtcIkVuZC1CdXR0b25cIn1cbiAgICAgICAgICAgICAgICBvbkNsaWNrZWQ9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgQXBwLnRvZ2dsZV93aW5kb3coYFF1aWNrU2V0dGluZy0ke2dka21vbml0b3IuY29ubmVjdG9yfWApXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8Ym94PlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgbGFiZWw9e19kYXRldGltZS5hcygoZCkgPT4gZC5kYXRlICsgXCIgXCIpfSAvPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgbGFiZWw9e19kYXRldGltZS5hcygoZCkgPT4gZC50aW1lKX0gLz5cbiAgICAgICAgICAgICAgICA8L2JveD5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2JveD5cbiAgICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IFRpbWVcbiIsICJpbXBvcnQgeyBHZGssIEd0ayB9IGZyb20gXCJhc3RhbC9ndGs0XCJcbmltcG9ydCBUaW1lIGZyb20gXCIuL01vZHVsZXMvVGltZVwiXG5cbmV4cG9ydCBpbnRlcmZhY2UgRW5kUHJvcHMge1xuICAgIG5hbWU6IHN0cmluZ1xuICAgIGdka21vbml0b3I6IEdkay5Nb25pdG9yXG59XG5cbmNvbnN0IEVuZCA9ICh7IG5hbWUsIGdka21vbml0b3IgfTogRW5kUHJvcHMpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8Ym94XG4gICAgICAgICAgICBuYW1lPXtgQmFyRW5kLSR7bmFtZX1gfVxuICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiQmFyU2VjdGlvblwiLCBcIkJhckVuZFwiXX1cbiAgICAgICAgICAgIGhleHBhbmQ9e3RydWV9XG4gICAgICAgICAgICBoYWxpZ249e0d0ay5BbGlnbi5FTkR9XG4gICAgICAgID5cbiAgICAgICAgICAgIDxUaW1lIGdka21vbml0b3I9e2dka21vbml0b3J9IC8+XG4gICAgICAgIDwvYm94PlxuICAgIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgRW5kXG4iLCAiaW1wb3J0IHsgQXBwLCBBc3RhbCwgR2RrLCBHdGsgfSBmcm9tIFwiYXN0YWwvZ3RrNFwiXG5pbXBvcnQgU3RhcnQgZnJvbSBcIi4vU3RhcnRcIlxuaW1wb3J0IENlbnRlciBmcm9tIFwiLi9DZW50ZXJcIlxuaW1wb3J0IEVuZCBmcm9tIFwiLi9FbmRcIlxuXG5leHBvcnQgaW50ZXJmYWNlIEJhclByb3BzIHtcbiAgICBnZGttb25pdG9yOiBHZGsuTW9uaXRvclxufVxuXG5jb25zdCBCYXIgPSAoeyBnZGttb25pdG9yIH06IEJhclByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBUT1AsIExFRlQsIFJJR0hUIH0gPSBBc3RhbC5XaW5kb3dBbmNob3JcbiAgICBjb25zdCBuYW1lID0gYEJhci0ke2dka21vbml0b3IuY29ubmVjdG9yfWBcblxuICAgIHJldHVybiAoXG4gICAgICAgIDx3aW5kb3dcbiAgICAgICAgICAgIG5hbWU9e25hbWV9XG4gICAgICAgICAgICBuYW1lc3BhY2U9e1wiQmFyXCJ9XG4gICAgICAgICAgICBhcHBsaWNhdGlvbj17QXBwfVxuICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiQmFyXCJdfVxuICAgICAgICAgICAgZ2RrbW9uaXRvcj17Z2RrbW9uaXRvcn1cbiAgICAgICAgICAgIGFuY2hvcj17VE9QIHwgTEVGVCB8IFJJR0hUfVxuICAgICAgICAgICAgZXhjbHVzaXZpdHk9e0FzdGFsLkV4Y2x1c2l2aXR5LkVYQ0xVU0lWRX1cbiAgICAgICAgICAgIHZpc2libGU9e3RydWV9XG4gICAgICAgICAgICBzZXR1cD17KHNlbGYpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBodHRwczpnaXRodWIuY29tL3dtd3cvZ3RrNC1sYXllci1zaGVsbC9pc3N1ZXMvNjBcbiAgICAgICAgICAgICAgICBzZWxmLnNldF9kZWZhdWx0X3NpemUoMSwgMSlcbiAgICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICAgIDxjZW50ZXJib3hcbiAgICAgICAgICAgICAgICBuYW1lPXtuYW1lfVxuICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIkJhckNlbnRlcmJveFwiXX1cbiAgICAgICAgICAgICAgICBzdGFydFdpZGdldD17PFN0YXJ0IG5hbWU9e25hbWV9IC8+fVxuICAgICAgICAgICAgICAgIGNlbnRlcldpZGdldD17PENlbnRlciBuYW1lPXtuYW1lfSAvPn1cbiAgICAgICAgICAgICAgICBlbmRXaWRnZXQ9ezxFbmQgbmFtZT17bmFtZX0gZ2RrbW9uaXRvcj17Z2RrbW9uaXRvcn0gLz59XG4gICAgICAgICAgICAvPlxuICAgICAgICA8L3dpbmRvdz5cbiAgICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IEJhclxuIiwgImltcG9ydCB7IEFwcCwgQXN0YWwsIEdkaywgR3RrIH0gZnJvbSBcImFzdGFsL2d0azRcIlxuXG5leHBvcnQgaW50ZXJmYWNlIFBvcG92ZXJQcm9wcyB7XG4gICAgY2hpbGQ/OiBHdGsuV2lkZ2V0XG4gICAgbmFtZTogc3RyaW5nXG4gICAgZ2RrbW9uaXRvcjogR2RrLk1vbml0b3JcbiAgICB2aXNpYmxlPzogYm9vbGVhblxuICAgIGNzc0NsYXNzZXM/OiBzdHJpbmdbXVxufVxuXG5jb25zdCBQb3BvdmVyID0gKHtcbiAgICBjaGlsZCxcbiAgICBuYW1lLFxuICAgIGdka21vbml0b3IsXG4gICAgdmlzaWJsZSxcbiAgICBjc3NDbGFzc2VzLFxufTogUG9wb3ZlclByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBUT1AsIFJJR0hULCBCT1RUT00sIExFRlQgfSA9IEFzdGFsLldpbmRvd0FuY2hvclxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPHdpbmRvd1xuICAgICAgICAgICAgbmFtZT17bmFtZX1cbiAgICAgICAgICAgIG5hbWVzcGFjZT17XCJQb3BvdmVyXCJ9XG4gICAgICAgICAgICBhcHBsaWNhdGlvbj17QXBwfVxuICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiUG9wb3ZlclwiLCAuLi4oY3NzQ2xhc3NlcyB8fCBbXSldfVxuICAgICAgICAgICAgZ2RrbW9uaXRvcj17Z2RrbW9uaXRvcn1cbiAgICAgICAgICAgIGxheWVyPXtBc3RhbC5MYXllci5UT1B9XG4gICAgICAgICAgICBrZXltb2RlPXtBc3RhbC5LZXltb2RlLk9OX0RFTUFORH1cbiAgICAgICAgICAgIGFuY2hvcj17VE9QIHwgUklHSFQgfCBCT1RUT00gfCBMRUZUfVxuICAgICAgICAgICAgdmlzaWJsZT17dmlzaWJsZSB8fCBmYWxzZX1cbiAgICAgICAgICAgIHNldHVwPXsoc2VsZikgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGh0dHBzOmdpdGh1Yi5jb20vd213dy9ndGs0LWxheWVyLXNoZWxsL2lzc3Vlcy82MFxuICAgICAgICAgICAgICAgIHNlbGYuc2V0X2RlZmF1bHRfc2l6ZSgxLCAxKVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIG9uS2V5UHJlc3NlZD17KF9ldmVudCwga2V5dmFsKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGtleXZhbCA9PT0gR2RrLktFWV9Fc2NhcGUpIHtcbiAgICAgICAgICAgICAgICAgICAgQXBwLnRvZ2dsZV93aW5kb3cobmFtZSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgICA8Ym94IGNzc0NsYXNzZXM9e1tdfT5cbiAgICAgICAgICAgICAgICA8UGFkZGluZyBuYW1lPXtuYW1lfSAvPlxuXG4gICAgICAgICAgICAgICAgPGJveCB2ZXJ0aWNhbCBoZXhwYW5kPXtmYWxzZX0+XG4gICAgICAgICAgICAgICAgICAgIHtjaGlsZH1cblxuICAgICAgICAgICAgICAgICAgICA8UGFkZGluZyBuYW1lPXtuYW1lfSAvPlxuICAgICAgICAgICAgICAgIDwvYm94PlxuICAgICAgICAgICAgPC9ib3g+XG4gICAgICAgIDwvd2luZG93PlxuICAgIClcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYWRkaW5nUHJvcHMge1xuICAgIG5hbWU6IHN0cmluZ1xufVxuXG5jb25zdCBQYWRkaW5nID0gKHsgbmFtZSB9OiBQYWRkaW5nUHJvcHMpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJQYWRkaW5nXCIsIFwiRGVidWdcIl19XG4gICAgICAgICAgICBjYW5Gb2N1cz17ZmFsc2V9XG4gICAgICAgICAgICBvbkNsaWNrZWQ9eygpID0+IHtcbiAgICAgICAgICAgICAgICBBcHAudG9nZ2xlX3dpbmRvdyhuYW1lKVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIGhleHBhbmRcbiAgICAgICAgICAgIHZleHBhbmRcbiAgICAgICAgLz5cbiAgICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvcG92ZXJcbiIsICJpbXBvcnQgeyBBc3RhbCwgR3RrIH0gZnJvbSBcImFzdGFsL2d0azRcIlxuaW1wb3J0IFBhbmdvIGZyb20gXCJnaTovL1BhbmdvP3ZlcnNpb249MS4wXCJcblxuaW50ZXJmYWNlIEJ1dHRvblByb3BzIHtcbiAgICBpY29uOiBzdHJpbmdcbiAgICBsYWJlbDE6IHN0cmluZ1xuICAgIGxhYmVsMjogc3RyaW5nXG59XG5cbmNvbnN0IEJ1dHRvbiA9ICh7IGljb24sIGxhYmVsMSwgbGFiZWwyIH06IEJ1dHRvblByb3BzKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPGJ1dHRvbiBjc3NDbGFzc2VzPXtbXCJRdWlja1NldHRpbmdCdXR0b25cIl19IGhleHBhbmQ9e3RydWV9PlxuICAgICAgICAgICAgPGJveCBzcGFjaW5nPXsxNn0gaGFsaWduPXtHdGsuQWxpZ24uRklMTH0gdmFsaWduPXtHdGsuQWxpZ24uQ0VOVEVSfT5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY3NzQ2xhc3Nlcz17W1wiSWNvblwiXX0gbGFiZWw9e2ljb259IC8+XG5cbiAgICAgICAgICAgICAgICA8Ym94XG4gICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIkxhYmVsc1wiXX1cbiAgICAgICAgICAgICAgICAgICAgdmVydGljYWw9e3RydWV9XG4gICAgICAgICAgICAgICAgICAgIHZhbGlnbj17R3RrLkFsaWduLkNFTlRFUn1cbiAgICAgICAgICAgICAgICAgICAgaGFsaWduPXtHdGsuQWxpZ24uU1RBUlR9XG4gICAgICAgICAgICAgICAgICAgIGhleHBhbmQ9e3RydWV9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIkxhYmVsMVwiXX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbGlnbj17R3RrLkFsaWduLlNUQVJUfVxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9e2xhYmVsMX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhXaWR0aENoYXJzPXsxNX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIkxhYmVsMlwiXX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbGlnbj17R3RrLkFsaWduLlNUQVJUfVxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9e2xhYmVsMn1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2JveD5cblxuICAgICAgICAgICAgICAgIDxsYWJlbCBjc3NDbGFzc2VzPXtbXCJJY29uXCIsIFwiQ2hldnJvblwiXX0gbGFiZWw9e1wiXHVGMDU0XCJ9IC8+XG4gICAgICAgICAgICA8L2JveD5cbiAgICAgICAgPC9idXR0b24+XG4gICAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25cbiIsICJpbXBvcnQgeyBHdGsgfSBmcm9tIFwiYXN0YWwvZ3RrNFwiXG5cbmludGVyZmFjZSBCdXR0b25Qcm9wcyB7XG4gICAgaWNvbjogc3RyaW5nXG59XG5cbmNvbnN0IEJ1dHRvblNtYWxsID0gKHsgaWNvbiB9OiBCdXR0b25Qcm9wcykgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxidXR0b24gY3NzQ2xhc3Nlcz17W1wiUXVpY2tTZXR0aW5nQnV0dG9uXCIsIFwiU21hbGxcIl19IGhleHBhbmQ9e3RydWV9PlxuICAgICAgICAgICAgPGJveCBjc3NDbGFzc2VzPXtbXCJJY29uXCJdfSBoYWxpZ249e0d0ay5BbGlnbi5DRU5URVJ9PlxuICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJcIl19XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPXtpY29ufVxuICAgICAgICAgICAgICAgICAgICBoZXhwYW5kPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgICB2ZXhwYW5kPXtmYWxzZX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9ib3g+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uU21hbGxcbiIsICJpbXBvcnQgeyBBcHAsIEdkaywgR3RrIH0gZnJvbSBcImFzdGFsL2d0azRcIlxuaW1wb3J0IFBvcG92ZXIgZnJvbSBcIi4uL2NvbW1vbnMvUG9wb3ZlclwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCIuL0J1dHRvblwiXG5pbXBvcnQgQnV0dG9uU21hbGwgZnJvbSBcIi4vQnV0dG9uU21hbGxcIlxuaW1wb3J0IEFzdGFsV3AgZnJvbSBcImdpOi8vQXN0YWxXcD92ZXJzaW9uPTAuMVwiXG5pbXBvcnQgeyBiaW5kIH0gZnJvbSBcImFzdGFsXCJcbmltcG9ydCB7IGRlYm91bmNlIH0gZnJvbSBcIi4uLy4uL2xpYi91dGlsc1wiXG5cbmV4cG9ydCBpbnRlcmZhY2UgUXVpY2tTZXR0aW5nUHJvcHMge1xuICAgIGdka21vbml0b3I6IEdkay5Nb25pdG9yXG4gICAgdmlzaWJsZT86IGJvb2xlYW5cbn1cblxuY29uc3QgUXVpY2tTZXR0aW5nID0gKHsgZ2RrbW9uaXRvciwgdmlzaWJsZSB9OiBRdWlja1NldHRpbmdQcm9wcykgPT4ge1xuICAgIGNvbnN0IG5hbWUgPSBgUXVpY2tTZXR0aW5nLSR7Z2RrbW9uaXRvci5jb25uZWN0b3J9YFxuICAgIGNvbnN0IHNwZWFrZXIgPSBBc3RhbFdwLmdldF9kZWZhdWx0KCk/LmF1ZGlvIS5kZWZhdWx0U3BlYWtlciFcblxuICAgIGNvbnN0IGRlYm91bmNlZFNldFZvbHVtZSA9IGRlYm91bmNlKCh2YWx1ZTogbnVtYmVyKSA9PiB7XG4gICAgICAgIHNwZWFrZXIudm9sdW1lID0gdmFsdWVcbiAgICB9LCAxMDApXG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8UG9wb3ZlclxuICAgICAgICAgICAgbmFtZT17bmFtZX1cbiAgICAgICAgICAgIGdka21vbml0b3I9e2dka21vbml0b3J9XG4gICAgICAgICAgICB2aXNpYmxlPXt2aXNpYmxlfVxuICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiUXVpY2tTZXR0aW5nXCJdfVxuICAgICAgICA+XG4gICAgICAgICAgICA8Ym94XG4gICAgICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiUXVpY2tTZXR0aW5nQ29udGFpbmVyXCJdfVxuICAgICAgICAgICAgICAgIHZlcnRpY2FsPXt0cnVlfVxuICAgICAgICAgICAgICAgIHNwYWNpbmc9ezEwfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxib3hcbiAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiUXVpY2tTZXR0aW5nUm93XCJdfVxuICAgICAgICAgICAgICAgICAgICBoZXhwYW5kPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgICBoYWxpZ249e0d0ay5BbGlnbi5DRU5URVJ9XG4gICAgICAgICAgICAgICAgICAgIHNwYWNpbmc9ezEwfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBpY29uPXtcIlx1REI4MVx1RERBOVwifSBsYWJlbDE9e1wiV2ktRmlcIn0gbGFiZWwyPXtcIlRTTDc3XCJ9IC8+XG5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbj17XCJcdURCODBcdURDQUZcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsMT17XCJCbHVldG9vdGhcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsMj17XCJOb2tpYSBFMzUxMVwifVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvYm94PlxuXG4gICAgICAgICAgICAgICAgPGJveCBjc3NDbGFzc2VzPXtbXCJRdWlja1NldHRpbmdSb3dcIl19IHNwYWNpbmc9ezEwfT5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblNtYWxsIGljb249e1wiXHVEQjgxXHVEQzk5XCJ9IC8+XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25TbWFsbCBpY29uPXtcIlx1REI4MFx1REM5Q1wifSAvPlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uU21hbGwgaWNvbj17XCJcdURCODBcdURFMEFcIn0gLz5cbiAgICAgICAgICAgICAgICA8L2JveD5cblxuICAgICAgICAgICAgICAgIDxib3ggY3NzQ2xhc3Nlcz17W1wiUXVpY2tTZXR0aW5nUm93XCJdfSBzcGFjaW5nPXsxMH0+XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25TbWFsbCBpY29uPXtcIlx1REI4MFx1REM4MFwifSAvPlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uU21hbGwgaWNvbj17XCJcdURCODFcdURDQzNcIn0gLz5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblNtYWxsIGljb249e1wiXHVEQjg2XHVEQ0Y0XCJ9IC8+XG4gICAgICAgICAgICAgICAgPC9ib3g+XG5cbiAgICAgICAgICAgICAgICA8Ym94XG4gICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIlF1aWNrU2V0dGluZ1Jvd1wiXX1cbiAgICAgICAgICAgICAgICAgICAgc3BhY2luZz17MTB9XG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsPXt0cnVlfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGJveCB2YWxpZ249e0d0ay5BbGlnbi5DRU5URVJ9IHNwYWNpbmc9ezEwfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25OYW1lPXtiaW5kKHNwZWFrZXIsIFwidm9sdW1lSWNvblwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZ249e0d0ay5BbGlnbi5DRU5URVJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU9e0d0ay5JY29uU2l6ZS5MQVJHRX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaXhlbFNpemU9ezIwfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICAgICAgICAgICAgPHNsaWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlVmFsdWU9eyhzZWxmKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYm91bmNlZFNldFZvbHVtZShzZWxmLnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2JpbmQoc3BlYWtlciwgXCJ2b2x1bWVcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGV4cGFuZD17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvYm94PlxuICAgICAgICAgICAgICAgIDwvYm94PlxuICAgICAgICAgICAgPC9ib3g+XG4gICAgICAgIDwvUG9wb3Zlcj5cbiAgICApXG59XG5cbmNvbnN0IFF1aWNrU2V0dGluZ0luaXQgPSAoeyBnZGttb25pdG9yIH06IFF1aWNrU2V0dGluZ1Byb3BzKSA9PiB7XG4gICAgY29uc3QgdyA9IFF1aWNrU2V0dGluZyh7XG4gICAgICAgIGdka21vbml0b3I6IGdka21vbml0b3IsXG4gICAgICAgIC8vIHZpc2libGU6IGdka21vbml0b3IubWFudWZhY3R1cmVyID09PSBcIkhLQyBPVkVSU0VBUyBMSU1JVEVEXCIsXG4gICAgfSlcblxuICAgIEFwcC5jb25uZWN0KFwid2luZG93LXRvZ2dsZWRcIiwgKF9zb3VyY2UsIHdpbmRvdykgPT4ge1xuICAgICAgICBpZiAod2luZG93LmdldF9uYW1lKCkgPT09IGBRdWlja1NldHRpbmctJHtnZGttb25pdG9yLm1hbnVmYWN0dXJlcn1gKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICB9XG4gICAgfSlcblxuICAgIHJldHVybiB3XG59XG5cbmV4cG9ydCBkZWZhdWx0IFF1aWNrU2V0dGluZ0luaXRcbiIsICIjIS91c3IvYmluL2dqcyAtbVxuXG5pbXBvcnQgeyBBcHAsIEFzdGFsLCBHZGssIEd0ayB9IGZyb20gXCJhc3RhbC9ndGs0XCJcbmltcG9ydCBzdHlsZSBmcm9tIFwiLi9zdHlsZXMvc3R5bGVzLnNjc3NcIlxuaW1wb3J0IEJhciBmcm9tIFwiLi93aWRnZXRzL0Jhci9CYXJcIlxuaW1wb3J0IFF1aWNrU2V0dGluZyBmcm9tIFwiLi93aWRnZXRzL1F1aWNrU2V0dGluZy9RdWlja1NldHRpbmdcIlxuaW1wb3J0IEFzdGFsSHlwcmxhbmQgZnJvbSBcImdpOi8vQXN0YWxIeXBybGFuZD92ZXJzaW9uPTAuMVwiXG5pbXBvcnQgeyBleGVjQXN5bmMsIEdpbyB9IGZyb20gXCJhc3RhbFwiXG5pbXBvcnQgQXN0YWxUcmF5IGZyb20gXCJnaTovL0FzdGFsVHJheT92ZXJzaW9uPTAuMVwiXG5pbXBvcnQgVm9sdW1lIGZyb20gXCIuL3dpZGdldHMvT3NkL1ZvbHVtZVwiXG5pbXBvcnQgTm90aWZpY2F0aW9uIGZyb20gXCIuL3dpZGdldHMvTm90aWZpY2F0aW9uL05vdGlmaWNhdGlvblwiXG5cbmZ1bmN0aW9uIGluaXRNb25pdG9yKGdka21vbml0b3I6IEdkay5Nb25pdG9yKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgTm90aWZpY2F0aW9uKHsgZ2RrbW9uaXRvciB9KSxcbiAgICAgICAgVm9sdW1lKHsgZ2RrbW9uaXRvciB9KSxcbiAgICAgICAgQmFyKHsgZ2RrbW9uaXRvciB9KSxcbiAgICAgICAgUXVpY2tTZXR0aW5nKHsgZ2RrbW9uaXRvciB9KSxcbiAgICBdIGFzIEFzdGFsLldpbmRvd1tdXG59XG5cbmNvbnN0IGh5cHJsYW5kID0gQXN0YWxIeXBybGFuZC5nZXRfZGVmYXVsdCgpXG5jb25zdCB3aW5kb3dzID0gbmV3IE1hcDxHZGsuTW9uaXRvciwgQXN0YWwuV2luZG93W10+KClcbmNvbnN0IGh5cHJNb25pdG9ycyA9IG5ldyBNYXA8bnVtYmVyLCBBc3RhbEh5cHJsYW5kLk1vbml0b3I+KClcblxuZnVuY3Rpb24gb25Nb25pdG9yQWRkZWQoXG4gICAgX3NvdXJjZTogQXN0YWxIeXBybGFuZC5IeXBybGFuZCxcbiAgICBtb25pdG9yOiBBc3RhbEh5cHJsYW5kLk1vbml0b3Jcbikge1xuICAgIGh5cHJNb25pdG9ycy5zZXQobW9uaXRvci5pZCwgbW9uaXRvcilcblxuICAgIGNvbnNvbGUubG9nKFwibW9uaXRvciBhZGRlZFwiLCBtb25pdG9yLmlkLCBtb25pdG9yLm5hbWUpXG5cbiAgICBjb25zdCBnZGttb25pdG9yID0gQXBwLmdldF9tb25pdG9ycygpLmZpbmQoXG4gICAgICAgIChtKSA9PiBtLmNvbm5lY3RvciA9PT0gbW9uaXRvci5uYW1lXG4gICAgKVxuXG4gICAgaWYgKGdka21vbml0b3IpIHtcbiAgICAgICAgd2luZG93cy5zZXQoZ2RrbW9uaXRvciwgaW5pdE1vbml0b3IoZ2RrbW9uaXRvcikpXG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbk1vbml0b3JSZW1vdmVkKF9zb3VyY2U6IEFzdGFsSHlwcmxhbmQuSHlwcmxhbmQsIGlkOiBudW1iZXIpIHtcbiAgICBjb25zdCBtb25pdG9yID0gaHlwck1vbml0b3JzLmdldChpZClcblxuICAgIGlmICghbW9uaXRvcikge1xuICAgICAgICBjb25zb2xlLmxvZyhcIk1vbml0b3Igd2l0aCBpZFwiLCBpZCwgXCJub3QgZm91bmRcIilcbiAgICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coXCJtb25pdG9yIHJlbW92ZWRcIiwgbW9uaXRvci5pZCwgbW9uaXRvci5uYW1lKVxuXG4gICAgY29uc3QgZ2RrbW9uaXRvciA9IEFwcC5nZXRfbW9uaXRvcnMoKS5maW5kKFxuICAgICAgICAobSkgPT4gbS5jb25uZWN0b3IgPT09IG1vbml0b3IubmFtZVxuICAgIClcblxuICAgIGlmIChnZGttb25pdG9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiZ2RrbW9uaXRvciBmb3VuZFwiLCBnZGttb25pdG9yLmNvbm5lY3RvcilcbiAgICAgICAgY29uc3Qgd2luZG93c1RvUmVtb3ZlID0gd2luZG93cy5nZXQoZ2RrbW9uaXRvcilcblxuICAgICAgICBpZiAod2luZG93c1RvUmVtb3ZlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInJlbW92aW5nIHdpbmRvd3MgZm9yXCIsIGdka21vbml0b3IuY29ubmVjdG9yKVxuXG4gICAgICAgICAgICB3aW5kb3dzVG9SZW1vdmUuZm9yRWFjaCgod2luZG93KSA9PiB3aW5kb3cuZGVzdHJveSgpKVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIndpbmRvd3MgcmVtb3ZlZCBmb3JcIiwgZ2RrbW9uaXRvci5jb25uZWN0b3IpXG5cbiAgICAgICAgICAgIHdpbmRvd3MuZGVsZXRlKGdka21vbml0b3IpXG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZ2RrbW9uaXRvciByZW1vdmVkXCIsIGdka21vbml0b3IuY29ubmVjdG9yKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coXCJkZWxldGluZyBtb25pdG9yIGZyb20gaHlwck1vbml0b3JzXCIsIGlkKVxuXG4gICAgaHlwck1vbml0b3JzLmRlbGV0ZShpZClcblxuICAgIGNvbnNvbGUubG9nKFwibW9uaXRvciByZW1vdmVkIGZyb20gaHlwck1vbml0b3JzXCIsIGlkKVxufVxuXG5mdW5jdGlvbiByZWluaXQoKSB7XG4gICAgLy8gcmVtb3ZlIGFsbCBleGlzdGluZyB3aW5kb3dzXG4gICAgd2luZG93cy5mb3JFYWNoKCh3aW5MaXN0LCBnZGttb25pdG9yKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwicmVtb3Zpbmcgd2luZG93cyBmb3JcIiwgZ2RrbW9uaXRvci5jb25uZWN0b3IpXG4gICAgICAgIHdpbkxpc3QuZm9yRWFjaCgod2luZG93KSA9PiB3aW5kb3cuZGVzdHJveSgpKVxuICAgICAgICB3aW5kb3dzLmRlbGV0ZShnZGttb25pdG9yKVxuICAgICAgICBjb25zb2xlLmxvZyhcIndpbmRvd3MgcmVtb3ZlZCBmb3JcIiwgZ2RrbW9uaXRvci5jb25uZWN0b3IpXG4gICAgfSlcblxuICAgIC8vIHJlaW5pdGlhbGl6ZSBtb25pdG9yc1xuICAgIGh5cHJsYW5kLmdldF9tb25pdG9ycygpLmZvckVhY2goKG1vbml0b3IpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJtb25pdG9yIG5hbWVcIiwgbW9uaXRvci5pZCwgbW9uaXRvci5uYW1lKVxuXG4gICAgICAgIGNvbnN0IGdka21vbml0b3IgPSBBcHAuZ2V0X21vbml0b3JzKCkuZmluZChcbiAgICAgICAgICAgIChtKSA9PiBtLmNvbm5lY3RvciA9PT0gbW9uaXRvci5uYW1lXG4gICAgICAgIClcblxuICAgICAgICBpZiAoZ2RrbW9uaXRvcikge1xuICAgICAgICAgICAgd2luZG93cy5zZXQoZ2RrbW9uaXRvciwgaW5pdE1vbml0b3IoZ2RrbW9uaXRvcikpXG4gICAgICAgIH1cbiAgICB9KVxufVxuXG5BcHAuc3RhcnQoe1xuICAgIGluc3RhbmNlTmFtZTogXCJBc3NcIixcbiAgICBjc3M6IHN0eWxlLFxuICAgIG1haW4oKSB7XG4gICAgICAgIGh5cHJsYW5kLmdldF9tb25pdG9ycygpLmZvckVhY2goKG1vbml0b3IpID0+IHtcbiAgICAgICAgICAgIGh5cHJNb25pdG9ycy5zZXQobW9uaXRvci5pZCwgbW9uaXRvcilcblxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJtb25pdG9yIG5hbWVcIiwgbW9uaXRvci5pZCwgbW9uaXRvci5uYW1lKVxuXG4gICAgICAgICAgICBjb25zdCBnZGttb25pdG9yID0gQXBwLmdldF9tb25pdG9ycygpLmZpbmQoXG4gICAgICAgICAgICAgICAgKG0pID0+IG0uY29ubmVjdG9yID09PSBtb25pdG9yLm5hbWVcbiAgICAgICAgICAgIClcblxuICAgICAgICAgICAgaWYgKGdka21vbml0b3IpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3dzLnNldChnZGttb25pdG9yLCBpbml0TW9uaXRvcihnZGttb25pdG9yKSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICBoeXBybGFuZC5jb25uZWN0KFwibW9uaXRvci1hZGRlZFwiLCBvbk1vbml0b3JBZGRlZClcbiAgICAgICAgaHlwcmxhbmQuY29ubmVjdChcIm1vbml0b3ItcmVtb3ZlZFwiLCBvbk1vbml0b3JSZW1vdmVkKVxuXG4gICAgICAgIGh5cHJsYW5kLmNvbm5lY3QoXCJzdWJtYXBcIiwgKF9zb3VyY2UsIG5hbWUpID0+IHtcbiAgICAgICAgICAgIGlmIChuYW1lID09PSBcInJlc2l6ZVwiKSB7XG4gICAgICAgICAgICAgICAgZXhlY0FzeW5jKFwibm90aWZ5LXNlbmQgLXQgMTAwMCAnUmVzaXplIG1vZGUgYWN0aXZhdGVkJ1wiKVxuICAgICAgICAgICAgfSBlbHNlIGlmIChuYW1lID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgZXhlY0FzeW5jKFwibm90aWZ5LXNlbmQgLXQgMTAwMCAnUmVzaXplIG1vZGUgZW5kZWQnXCIpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gY29uc3QgZGlzcGxheSA9IEdkay5EaXNwbGF5LmdldF9kZWZhdWx0KCkhXG4gICAgICAgIC8vIGNvbnN0IG1vbml0b3JzID0gZGlzcGxheS5nZXRfbW9uaXRvcnMoKSBhcyBHaW8uTGlzdE1vZGVsPEdkay5Nb25pdG9yPlxuICAgICAgICAvLyBtb25pdG9ycy5jb25uZWN0KFwiaXRlbXMtY2hhbmdlZFwiLCAobW9uaXRvck1vZGVsLCBwb3NpdGlvbiwgaWR4UmVtb3ZlZCwgaWR4QWRkZWQpID0+IHtcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKFwiTW9uaXRvcnMgY2hhbmdlZCwgcmVpbml0aWFsaXppbmcuLi5cIilcbiAgICAgICAgLy8gICAgIHJlaW5pdCgpXG4gICAgICAgIC8vIH0pXG4gICAgfSxcbiAgICByZXF1ZXN0SGFuZGxlcihyZXF1ZXN0LCByZXMpIHtcbiAgICAgICAgaWYgKHJlcXVlc3QgPT0gXCJzYXkgaGlcIikge1xuICAgICAgICAgICAgcmV0dXJuIHJlcyhcIkhlbGxvIGZyb20gQXN0YWx0ZXMhXCIpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVxdWVzdCA9PT0gXCJ0cmF5XCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHRyYXkgPSBBc3RhbFRyYXkuZ2V0X2RlZmF1bHQoKVxuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSB0cmF5LmdldF9pdGVtcygpXG5cbiAgICAgICAgICAgIGlmIChpdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzKFwiTm8gdHJheSBpdGVtcyBmb3VuZFwiKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB0aXRsZXMgPSBpdGVtcy5tYXAoKGl0ZW0pID0+IGl0ZW0udGl0bGUpLmpvaW4oXCIsIFwiKVxuICAgICAgICAgICAgY29uc3QgdG9vbHRpcHMgPSBpdGVtcy5tYXAoKGl0ZW0pID0+IGl0ZW0udG9vbHRpcE1hcmt1cCkuam9pbihcIiwgXCIpXG4gICAgICAgICAgICBjb25zdCBpY29uTmFtZXMgPSBpdGVtcy5tYXAoKGl0ZW0pID0+IGl0ZW0uaWNvbk5hbWUpLmpvaW4oXCIsIFwiKVxuICAgICAgICAgICAgY29uc3QgaWNvblBhdGhzID0gaXRlbXMubWFwKChpdGVtKSA9PiBpdGVtLmljb25UaGVtZVBhdGgpLmpvaW4oXCIsIFwiKVxuICAgICAgICAgICAgY29uc3QganNvbnMgPSBpdGVtcy5tYXAoKGl0ZW0pID0+IGl0ZW0udG9fanNvbl9zdHJpbmcoKSkuam9pbihcIixcIilcblxuICAgICAgICAgICAgcmV0dXJuIHJlcyhgVHJheSBpdGVtczogJHt0aXRsZXN9XG4gICAgICAgICAgICAgICAgXFxuVG9vbHRpcHM6ICR7dG9vbHRpcHN9XG4gICAgICAgICAgICAgICAgXFxuSWNvbnM6ICR7aWNvbk5hbWVzfVxuICAgICAgICAgICAgICAgIFxcbkljb24gUGF0aHM6ICR7aWNvblBhdGhzfVxuICAgICAgICAgICAgICAgIFxcbkpTT05zOiBbJHtqc29uc31dYClcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXF1ZXN0ID09IFwicmVpbml0XCIpIHtcbiAgICAgICAgICAgIHJlaW5pdCgpXG4gICAgICAgICAgICByZXR1cm4gcmVzKFwiUmVpbml0aWFsaXplZCBtb25pdG9yc1wiKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlcXVlc3QuaW5jbHVkZXMoXCJybW1vbml0b3JcIikpIHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gcGFyc2VJbnQocmVxdWVzdC5zcGxpdChcInJtbW9uaXRvclwiKVsxXS50cmltKCksIDEwKVxuXG4gICAgICAgICAgICBpZiAoaXNOYU4oaWQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcyhcIkludmFsaWQgbW9uaXRvciBJRFwiKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvbk1vbml0b3JSZW1vdmVkKGh5cHJsYW5kLCBpZClcblxuICAgICAgICAgICAgcmV0dXJuIHJlcyhcIk1vbml0b3IgcmVtb3ZlZFwiKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlcXVlc3QuaW5jbHVkZXMoXCJhZGRtb25pdG9yXCIpKSB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IHBhcnNlSW50KHJlcXVlc3Quc3BsaXQoXCJhZGRtb25pdG9yXCIpWzFdLnRyaW0oKSwgMTApXG5cbiAgICAgICAgICAgIGlmIChpc05hTihpZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzKFwiSW52YWxpZCBtb25pdG9yIElEXCIpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IG1vbml0b3IgPSBoeXBybGFuZC5nZXRfbW9uaXRvcihpZClcblxuICAgICAgICAgICAgaWYgKG1vbml0b3IpIHtcbiAgICAgICAgICAgICAgICBvbk1vbml0b3JBZGRlZChoeXBybGFuZCwgbW9uaXRvcilcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzKFwiTW9uaXRvciBhZGRlZFwiKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzKFwiTm8gbW9uaXRvciB0byBhZGRcIilcbiAgICAgICAgfVxuXG4gICAgICAgIHJlcyhcIlVua25vd24gcmVxdWVzdFwiKVxuICAgIH0sXG59KVxuIiwgImltcG9ydCB7IEFwcCwgQXN0YWwsIEdkaywgR3RrIH0gZnJvbSBcImFzdGFsL2d0azRcIlxuaW1wb3J0IEFzdGFsV3AgZnJvbSBcImdpOi8vQXN0YWxXcD92ZXJzaW9uPTAuMVwiXG5pbXBvcnQgeyBBc3RhbElPLCB0aW1lb3V0LCBWYXJpYWJsZSB9IGZyb20gXCJhc3RhbFwiXG5pbXBvcnQgQXN0YWxIeXBybGFuZCBmcm9tIFwiZ2k6Ly9Bc3RhbEh5cHJsYW5kP3ZlcnNpb249MC4xXCJcblxuZXhwb3J0IGludGVyZmFjZSBWb2x1bWVQcm9wcyB7XG4gICAgZ2RrbW9uaXRvcjogR2RrLk1vbml0b3JcbiAgICBuYW1lOiBzdHJpbmdcbn1cblxuY29uc3Qgc3BlYWtlciA9IEFzdGFsV3AuZ2V0X2RlZmF1bHQoKSEuZ2V0X2RlZmF1bHRfc3BlYWtlcigpXG5jb25zdCBoeXBybGFuZCA9IEFzdGFsSHlwcmxhbmQuZ2V0X2RlZmF1bHQoKVxuXG5jb25zdCBWb2x1bWVDb21wb25lbnQgPSAoeyBnZGttb25pdG9yLCBuYW1lIH06IFZvbHVtZVByb3BzKSA9PiB7XG4gICAgY29uc3QgdmlzaWJsZSA9IFZhcmlhYmxlKGZhbHNlKVxuICAgIGNvbnN0IGljb25OYW1lID0gVmFyaWFibGUoXCJcIilcbiAgICBjb25zdCB2YWx1ZSA9IFZhcmlhYmxlKDApXG5cbiAgICBsZXQgZmlyc3RUaW1lID0gdHJ1ZVxuICAgIGxldCB0aWNrID0gMFxuICAgIGxldCBoaWRlV2luZG93VGltZW91dDogQXN0YWxJTy5UaW1lIHwgdW5kZWZpbmVkXG5cbiAgICBmdW5jdGlvbiBzaG93KHY6IG51bWJlciwgaWNvbjogc3RyaW5nKSB7XG4gICAgICAgIGlmIChoaWRlV2luZG93VGltZW91dCkge1xuICAgICAgICAgICAgaGlkZVdpbmRvd1RpbWVvdXQuY2FuY2VsKClcbiAgICAgICAgICAgIGhpZGVXaW5kb3dUaW1lb3V0ID0gdW5kZWZpbmVkXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmlyc3RUaW1lKSB7XG4gICAgICAgICAgICBmaXJzdFRpbWUgPSBmYWxzZVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB3aW5kb3cgPSBBcHAuZ2V0X3dpbmRvdyhuYW1lKVxuXG4gICAgICAgIHdpbmRvdz8uc2hvdygpXG4gICAgICAgIHZpc2libGUuc2V0KHRydWUpXG4gICAgICAgIHZhbHVlLnNldCh2KVxuICAgICAgICBpY29uTmFtZS5zZXQoaWNvbilcbiAgICAgICAgdGljaysrXG5cbiAgICAgICAgdGltZW91dCgxMDAwLCAoKSA9PiB7XG4gICAgICAgICAgICB0aWNrLS1cblxuICAgICAgICAgICAgaWYgKHRpY2sgPT09IDApIHtcbiAgICAgICAgICAgICAgICB2aXNpYmxlLnNldChmYWxzZSlcblxuICAgICAgICAgICAgICAgIGhpZGVXaW5kb3dUaW1lb3V0ID0gdGltZW91dCgxMDAsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Py5oaWRlKClcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICAgIDx3aW5kb3dcbiAgICAgICAgICAgIG5hbWU9e25hbWV9XG4gICAgICAgICAgICBhcHBsaWNhdGlvbj17QXBwfVxuICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiVm9sdW1lXCJdfVxuICAgICAgICAgICAgZ2RrbW9uaXRvcj17Z2RrbW9uaXRvcn1cbiAgICAgICAgICAgIGFuY2hvcj17QXN0YWwuV2luZG93QW5jaG9yLlRPUH1cbiAgICAgICAgICAgIGxheWVyPXtBc3RhbC5MYXllci5PVkVSTEFZfVxuICAgICAgICAgICAgZXhjbHVzaXZpdHk9e0FzdGFsLkV4Y2x1c2l2aXR5LklHTk9SRX1cbiAgICAgICAgICAgIHZpc2libGU9e2ZhbHNlfVxuICAgICAgICAgICAgc2V0dXA9eyhzZWxmKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Z2l0aHViLmNvbS93bXd3L2d0azQtbGF5ZXItc2hlbGwvaXNzdWVzLzYwXG4gICAgICAgICAgICAgICAgc2VsZi5zZXRfZGVmYXVsdF9zaXplKDEsIDEpXG4gICAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgICA8cmV2ZWFsZXJcbiAgICAgICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJWb2x1bWVSZXZlYWxlclwiXX1cbiAgICAgICAgICAgICAgICBzZXR1cD17KHNlbGYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc3BlYWtlcj8uY29ubmVjdChcIm5vdGlmeTo6dm9sdW1lXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvY3VzZWRNb24gPSBoeXBybGFuZC5nZXRfZm9jdXNlZF9tb25pdG9yKClcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvY3VzZWRNb24ubmFtZSAhPT0gZ2RrbW9uaXRvci5jb25uZWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvdyhzcGVha2VyLnZvbHVtZSwgc3BlYWtlci52b2x1bWVJY29uKVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgcmV2ZWFsQ2hpbGQ9e3RydWV9XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvblR5cGU9e0d0ay5SZXZlYWxlclRyYW5zaXRpb25UeXBlLlNMSURFX0RPV059XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbl9kdXJhdGlvbj17NTAwfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiVm9sdW1lQnV0dG9uXCJdfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrZWQ9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiT1NEIGJ1dHRvbiBjbGlja2VkXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlLnNldChmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgdmFsaWduPXtHdGsuQWxpZ24uQ0VOVEVSfVxuICAgICAgICAgICAgICAgICAgICBoYWxpZ249e0d0ay5BbGlnbi5DRU5URVJ9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8Ym94IHNwYWNpbmc9ezEwfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWFnZSBpY29uTmFtZT17aWNvbk5hbWUoKX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsZXZlbGJhclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlnbj17R3RrLkFsaWduLkNFTlRFUn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aFJlcXVlc3Q9ezEwMH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dmFsdWUoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17dmFsdWUoKHYpID0+IGAke01hdGguZmxvb3IodiAqIDEwMCl9JWApfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9ib3g+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L3JldmVhbGVyPlxuICAgICAgICA8L3dpbmRvdz5cbiAgICApXG59XG5cbmNvbnN0IFZvbHVtZSA9ICh7IGdka21vbml0b3IgfTogUGljazxWb2x1bWVQcm9wcywgXCJnZGttb25pdG9yXCI+KSA9PiB7XG4gICAgY29uc3QgbmFtZSA9IGBWb2x1bWUtJHtnZGttb25pdG9yLmNvbm5lY3Rvcn1gXG4gICAgY29uc3QgdyA9IFZvbHVtZUNvbXBvbmVudCh7XG4gICAgICAgIGdka21vbml0b3I6IGdka21vbml0b3IsXG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgfSlcblxuICAgIEFwcC5jb25uZWN0KFwid2luZG93LXRvZ2dsZWRcIiwgKF9zb3VyY2UsIHdpbmRvdykgPT4ge1xuICAgICAgICBpZiAod2luZG93LmdldF9uYW1lKCkgPT09IG5hbWUpIHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgIH1cbiAgICB9KVxuXG4gICAgcmV0dXJuIHdcbn1cblxuZXhwb3J0IGRlZmF1bHQgVm9sdW1lXG4iLCAiaW1wb3J0IHsgQXN0YWxJTywgYmluZCwgR0xpYiwgdGltZW91dCwgVmFyaWFibGUgfSBmcm9tIFwiYXN0YWxcIlxuaW1wb3J0IHsgQXBwLCBBc3RhbCwgR2RrLCBHdGssIGhvb2sgfSBmcm9tIFwiYXN0YWwvZ3RrNFwiXG5pbXBvcnQgQXN0YWxIeXBybGFuZCBmcm9tIFwiZ2k6Ly9Bc3RhbEh5cHJsYW5kP3ZlcnNpb249MC4xXCJcbmltcG9ydCBBc3RhbE5vdGlmZCBmcm9tIFwiZ2k6Ly9Bc3RhbE5vdGlmZD92ZXJzaW9uPTAuMVwiXG5pbXBvcnQgUGFuZ28gZnJvbSBcImdpOi8vUGFuZ28/dmVyc2lvbj0xLjBcIlxuaW1wb3J0IE1hbmFnZXIgZnJvbSBcIi4vTWFuYWdlclwiXG5cbmNvbnN0IG5vdGlmZCA9IEFzdGFsTm90aWZkLmdldF9kZWZhdWx0KClcbmNvbnN0IGh5cHJsYW5kID0gQXN0YWxIeXBybGFuZC5nZXRfZGVmYXVsdCgpXG5cbmNvbnN0IGlzSWNvbiA9IChpY29uOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBpY29uVGhlbWUgPSBuZXcgR3RrLkljb25UaGVtZSgpXG4gICAgcmV0dXJuIGljb25UaGVtZS5oYXNfaWNvbihpY29uKVxufVxuXG5jb25zdCBmaWxlRXhpc3RzID0gKHBhdGg6IHN0cmluZykgPT4gR0xpYi5maWxlX3Rlc3QocGF0aCwgR0xpYi5GaWxlVGVzdC5FWElTVFMpXG5cbmludGVyZmFjZSBOb3RpZmljYXRpb25Qcm9wcyB7XG4gICAgbm90aWZpY2F0aW9uOiBBc3RhbE5vdGlmZC5Ob3RpZmljYXRpb25cbn1cblxuY29uc3QgSGVhZGVyID0gKHsgbm90aWZpY2F0aW9uIH06IE5vdGlmaWNhdGlvblByb3BzKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPGJveCBjc3NDbGFzc2VzPXtbXCJIZWFkZXJcIl19IHZhbGlnbj17R3RrLkFsaWduLkNFTlRFUn0+XG4gICAgICAgICAgICA8Ym94XG4gICAgICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiSGVhZGVyTGVmdFwiXX1cbiAgICAgICAgICAgICAgICBoYWxpZ249e0d0ay5BbGlnbi5TVEFSVH1cbiAgICAgICAgICAgICAgICBoZXhwYW5kPXt0cnVlfVxuICAgICAgICAgICAgICAgIHNwYWNpbmc9ezV9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgeyhub3RpZmljYXRpb24uYXBwSWNvbiB8fCBub3RpZmljYXRpb24uZGVza3RvcEVudHJ5KSAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxpbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiQXBwSWNvblwiXX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICEhKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb24uYXBwSWNvbiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb24uZGVza3RvcEVudHJ5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbk5hbWU9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbi5hcHBJY29uIHx8IG5vdGlmaWNhdGlvbi5kZXNrdG9wRW50cnlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM9e1tcIkhlYWRlckxhYmVsXCJdfVxuICAgICAgICAgICAgICAgICAgICBsYWJlbD17YCR7bm90aWZpY2F0aW9uLmFwcE5hbWUgfHwgXCJOb3RpZmljYXRpb25cIn0gKCR7XG4gICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb24uaWRcbiAgICAgICAgICAgICAgICAgICAgfSAtICR7bm90aWZpY2F0aW9uLmRlc2t0b3BFbnRyeSB8fCBcIlVua25vd25cIn0pYH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9ib3g+XG5cbiAgICAgICAgICAgIDxib3hcbiAgICAgICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJIZWFkZXJSaWdodFwiXX1cbiAgICAgICAgICAgICAgICBoYWxpZ249e0d0ay5BbGlnbi5FTkR9XG4gICAgICAgICAgICAgICAgaGV4cGFuZD17dHJ1ZX1cbiAgICAgICAgICAgICAgICBzcGFjaW5nPXs1fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJIZWFkZXJUaW1lXCJdfVxuICAgICAgICAgICAgICAgICAgICBsYWJlbD17bmV3IERhdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb24udGltZSAqIDEwMDBcbiAgICAgICAgICAgICAgICAgICAgKS50b0xvY2FsZVRpbWVTdHJpbmcoXCJlbi1VU1wiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBob3VyOiBcIjItZGlnaXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbnV0ZTogXCIyLWRpZ2l0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvdXIxMjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJDbG9zZUJ1dHRvblwiXX1cbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcFRleHQ9e1wiQ2xvc2UgTm90aWZpY2F0aW9uXCJ9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2tlZD17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uLmRpc21pc3MoKVxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGxhYmVsPXtcIlx1MjcxNVwifSAvPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9ib3g+XG4gICAgICAgIDwvYm94PlxuICAgIClcbn1cblxuY29uc3QgQ29udGVudCA9ICh7IG5vdGlmaWNhdGlvbiB9OiBOb3RpZmljYXRpb25Qcm9wcykgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxib3ggY3NzQ2xhc3Nlcz17W1wiQ29udGVudFwiXX0gdmFsaWduPXtHdGsuQWxpZ24uU1RBUlR9PlxuICAgICAgICAgICAge25vdGlmaWNhdGlvbi5pbWFnZSAmJiBmaWxlRXhpc3RzKG5vdGlmaWNhdGlvbi5pbWFnZSkgJiYgKFxuICAgICAgICAgICAgICAgIDxib3ggdmFsaWduPXtHdGsuQWxpZ24uU1RBUlR9IGNzc0NsYXNzZXM9e1tcIkNvbnRlbnRJbWFnZVwiXX0+XG4gICAgICAgICAgICAgICAgICAgIDxpbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZT17bm90aWZpY2F0aW9uLmltYWdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c9e0d0ay5PdmVyZmxvdy5ISURERU59XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9ib3g+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICB7bm90aWZpY2F0aW9uLmltYWdlICYmIGlzSWNvbihub3RpZmljYXRpb24uaW1hZ2UpICYmIChcbiAgICAgICAgICAgICAgICA8Ym94IGNzc0NsYXNzZXM9e1tcIkNvbnRlbnRJY29uXCJdfSB2YWxpZ249e0d0ay5BbGlnbi5TVEFSVH0+XG4gICAgICAgICAgICAgICAgICAgIDxpbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbk5hbWU9e25vdGlmaWNhdGlvbi5pbWFnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25TaXplPXtHdGsuSWNvblNpemUuTEFSR0V9XG4gICAgICAgICAgICAgICAgICAgICAgICBoYWxpZ249e0d0ay5BbGlnbi5DRU5URVJ9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZ249e0d0ay5BbGlnbi5DRU5URVJ9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9ib3g+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICA8Ym94IGhleHBhbmQgdmVydGljYWw+XG4gICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgIGVsbGlwc2l6ZT17UGFuZ28uRWxsaXBzaXplTW9kZS5FTkR9XG4gICAgICAgICAgICAgICAgICAgIG1heFdpZHRoQ2hhcnM9ezMwfVxuICAgICAgICAgICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJDb250ZW50U3VtbWFyeVwiXX1cbiAgICAgICAgICAgICAgICAgICAgaGFsaWduPXtHdGsuQWxpZ24uU1RBUlR9XG4gICAgICAgICAgICAgICAgICAgIHhhbGlnbj17MH1cbiAgICAgICAgICAgICAgICAgICAgbGFiZWw9e25vdGlmaWNhdGlvbi5zdW1tYXJ5fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAge25vdGlmaWNhdGlvbi5ib2R5ICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJDb250ZW50Qm9keVwiXX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFdpZHRoQ2hhcnM9ezMwfVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JhcFxuICAgICAgICAgICAgICAgICAgICAgICAgaGFsaWduPXtHdGsuQWxpZ24uU1RBUlR9XG4gICAgICAgICAgICAgICAgICAgICAgICB4YWxpZ249ezB9XG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17bm90aWZpY2F0aW9uLmJvZHl9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvYm94PlxuICAgICAgICA8L2JveD5cbiAgICApXG59XG5cbmNvbnN0IEZvb3RlciA9ICh7IG5vdGlmaWNhdGlvbiB9OiBOb3RpZmljYXRpb25Qcm9wcykgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxib3ggY3NzQ2xhc3Nlcz17W1wiRm9vdGVyXCJdfT5cbiAgICAgICAgICAgIHtub3RpZmljYXRpb24uZ2V0X2FjdGlvbnMoKS5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICA8Ym94IGNzc0NsYXNzZXM9e1tcIkZvb3RlckFjdGlvbnNcIl19IHNwYWNpbmc9ezZ9PlxuICAgICAgICAgICAgICAgICAgICB7bm90aWZpY2F0aW9uLmdldF9hY3Rpb25zKCkubWFwKChhY3Rpb24pID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZXhwYW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGlja2VkPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbi5pbnZva2UoYWN0aW9uLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb24uZGlzbWlzcygpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xpZW50cyA9IGh5cHJsYW5kLmdldF9jbGllbnRzKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xpZW50ID0gY2xpZW50cy5maW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGMpID0+IG5vdGlmaWNhdGlvbi5hcHBOYW1lID09PSBjLmNsYXNzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsaWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHlwcmxhbmQuZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJmb2N1c3dpbmRvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBjbGFzczoke2NsaWVudC5jbGFzc31gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17YWN0aW9uLmxhYmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYWxpZ249e0d0ay5BbGlnbi5DRU5URVJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhleHBhbmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvYm94PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgPC9ib3g+XG4gICAgKVxufVxuXG5jb25zdCBOb3RpZmljYXRpb25JdGVtID0gKHsgbm90aWZpY2F0aW9uSWQgfTogeyBub3RpZmljYXRpb25JZDogbnVtYmVyIH0pID0+IHtcbiAgICBjb25zdCBub3RpZmljYXRpb24gPSBub3RpZmQuZ2V0X25vdGlmaWNhdGlvbihub3RpZmljYXRpb25JZClcblxuICAgIGlmICghbm90aWZpY2F0aW9uKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTm90aWZpY2F0aW9uIG5vdCBmb3VuZDpcIiwgbm90aWZpY2F0aW9uSWQpXG4gICAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGJveCBjc3NDbGFzc2VzPXtbXCJOb3RpZmljYXRpb25JdGVtXCJdfSB2ZXJ0aWNhbD17dHJ1ZX0+XG4gICAgICAgICAgICA8SGVhZGVyIG5vdGlmaWNhdGlvbj17bm90aWZpY2F0aW9ufSAvPlxuXG4gICAgICAgICAgICA8Q29udGVudCBub3RpZmljYXRpb249e25vdGlmaWNhdGlvbn0gLz5cblxuICAgICAgICAgICAgPEZvb3RlciBub3RpZmljYXRpb249e25vdGlmaWNhdGlvbn0gLz5cbiAgICAgICAgPC9ib3g+XG4gICAgKVxufVxuXG5jb25zdCBtYW5hZ2VyID0gbmV3IE1hbmFnZXIoKVxuXG5jb25zdCBOb3RpZmljYXRpb24gPSAoeyBnZGttb25pdG9yIH06IHsgZ2RrbW9uaXRvcjogR2RrLk1vbml0b3IgfSkgPT4ge1xuICAgIGNvbnN0IG5hbWUgPSBgTm90aWZpY2F0aW9uLSR7Z2RrbW9uaXRvci5jb25uZWN0b3J9YFxuICAgIGNvbnN0IHsgVE9QLCBCT1RUT00sIExFRlQsIFJJR0hUIH0gPSBBc3RhbC5XaW5kb3dBbmNob3JcblxuICAgIHJldHVybiAoXG4gICAgICAgIDx3aW5kb3dcbiAgICAgICAgICAgIG5hbWU9e25hbWV9XG4gICAgICAgICAgICBuYW1lc3BhY2U9e1wiTm90aWZpY2F0aW9uXCJ9XG4gICAgICAgICAgICBhcHBsaWNhdGlvbj17QXBwfVxuICAgICAgICAgICAgY3NzQ2xhc3Nlcz17W1wiTm90aWZpY2F0aW9uXCJdfVxuICAgICAgICAgICAgZ2RrbW9uaXRvcj17Z2RrbW9uaXRvcn1cbiAgICAgICAgICAgIGxheWVyPXtBc3RhbC5MYXllci5UT1B9XG4gICAgICAgICAgICBrZXltb2RlPXtBc3RhbC5LZXltb2RlLk9OX0RFTUFORH1cbiAgICAgICAgICAgIGFuY2hvcj17VE9QIHwgUklHSFR9XG4gICAgICAgICAgICB2aXNpYmxlPXt0cnVlfVxuICAgICAgICAgICAgc2V0dXA9eyhzZWxmKSA9PiB7XG4gICAgICAgICAgICAgICAgc2VsZi5zZXRfZGVmYXVsdF9zaXplKDEsIDEpXG5cbiAgICAgICAgICAgICAgICBtYW5hZ2VyLnN1YnNjcmliZSgoZW50cnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJOb3RpZmljYXRpb24gbWFuYWdlciB1cGRhdGVkOlwiLCBlbnRyeSlcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZW50cnkgJiYgZW50cnkuYWN0aXZlcyAmJiBlbnRyeS5hY3RpdmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc2hvdygpXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmhpZGUoKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICAgIDxib3hcbiAgICAgICAgICAgICAgICBjc3NDbGFzc2VzPXtbXCJOb3RpZmljYXRpb25Db250YWluZXJcIl19XG4gICAgICAgICAgICAgICAgdmVydGljYWw9e3RydWV9XG4gICAgICAgICAgICAgICAgc3BhY2luZz17MTB9XG4gICAgICAgICAgICAgICAgdmFsaWduPXtHdGsuQWxpZ24uU1RBUlR9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2JpbmQobWFuYWdlcikuYXMoKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm90aWZpY2F0aW9uIGVudHJ5OlwiLCBlbnRyeSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsuLi5lbnRyeS5hY3RpdmVzXVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJldmVyc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgobm90aWZpY2F0aW9uSWQpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Tm90aWZpY2F0aW9uSXRlbSBub3RpZmljYXRpb25JZD17bm90aWZpY2F0aW9uSWR9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPC9ib3g+XG4gICAgICAgIDwvd2luZG93PlxuICAgIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgTm90aWZpY2F0aW9uXG4iLCAiaW1wb3J0IHsgdGltZW91dCwgVmFyaWFibGUgfSBmcm9tIFwiYXN0YWxcIlxuaW1wb3J0IHsgU3Vic2NyaWJhYmxlIH0gZnJvbSBcImFzdGFsL2JpbmRpbmdcIlxuaW1wb3J0IHsgR3RrIH0gZnJvbSBcImFzdGFsL2d0azRcIlxuaW1wb3J0IEFzdGFsTm90aWZkIGZyb20gXCJnaTovL0FzdGFsTm90aWZkP3ZlcnNpb249MC4xXCJcblxuY29uc3Qgbm90aWZkID0gQXN0YWxOb3RpZmQuZ2V0X2RlZmF1bHQoKVxuXG5jb25zdCBNQVhfUFJPQ0VTU0lORyA9IDNcbmNvbnN0IFRJTUVPVVQgPSA1MDAwXG5cbmludGVyZmFjZSBNYW5hZ2VyRW50cnkge1xuICAgIHF1ZXVlOiBudW1iZXJbXVxuICAgIGFjdGl2ZXM6IG51bWJlcltdXG59XG5cbmNsYXNzIE1hbmFnZXIgaW1wbGVtZW50cyBTdWJzY3JpYmFibGU8TWFuYWdlckVudHJ5PiB7XG4gICAgcHJpdmF0ZSBxdWV1ZTogbnVtYmVyW10gPSBub3RpZmQuZ2V0X25vdGlmaWNhdGlvbnMoKS5tYXAoKG4pID0+IG4uaWQpXG5cbiAgICBwcml2YXRlIGFjdGl2ZXM6IG51bWJlcltdID0gW11cblxuICAgIHByaXZhdGUgZW50cnk6IFZhcmlhYmxlPE1hbmFnZXJFbnRyeT4gPSBWYXJpYWJsZSh7XG4gICAgICAgIHF1ZXVlOiB0aGlzLnF1ZXVlLFxuICAgICAgICBhY3RpdmVzOiB0aGlzLmFjdGl2ZXMsXG4gICAgfSlcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBub3RpZmQuY29ubmVjdChcIm5vdGlmaWVkXCIsIChfc291cmNlLCBpZCwgcmVwbGFjZWQpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25Ob3RpZmllZChfc291cmNlLCBpZCwgcmVwbGFjZWQpXG4gICAgICAgIH0pXG5cbiAgICAgICAgbm90aWZkLmNvbm5lY3QoXCJyZXNvbHZlZFwiLCAoX3NvdXJjZSwgaWQsIHJlYXNvbikgPT4ge1xuICAgICAgICAgICAgdGhpcy5vblJlc29sdmVkKF9zb3VyY2UsIGlkLCByZWFzb24pXG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgICAgICB0aGlzLnByb2Nlc3NRdWV1ZSgpXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbk5vdGlmaWVkKFxuICAgICAgICBfc291cmNlOiBBc3RhbE5vdGlmZC5Ob3RpZmQsXG4gICAgICAgIGlkOiBudW1iZXIsXG4gICAgICAgIHJlcGxhY2VkOiBib29sZWFuXG4gICAgKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTm90aWZpY2F0aW9uIHJlY2VpdmVkXCIsIGlkLCByZXBsYWNlZClcblxuICAgICAgICBjb25zdCBub3RpZmljYXRpb24gPSBub3RpZmQuZ2V0X25vdGlmaWNhdGlvbihpZClcbiAgICAgICAgaWYgKCFub3RpZmljYXRpb24pIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm90aWZpY2F0aW9uIHdpdGggaWRcIiwgaWQsIFwibm90IGZvdW5kXCIpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNoZWNrIERuRCBhbmQgdXJnZW5jeVxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBub3RpZmQuZG9udERpc3R1cmIgJiZcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvbi51cmdlbmN5ICE9PSBBc3RhbE5vdGlmZC5VcmdlbmN5LkNSSVRJQ0FMXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBwdXNoIHRvIHF1ZXVlXG4gICAgICAgIHRoaXMucXVldWUucHVzaChpZClcblxuICAgICAgICB0aGlzLnByb2Nlc3NRdWV1ZSgpXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblJlc29sdmVkKFxuICAgICAgICBfc291cmNlOiBBc3RhbE5vdGlmZC5Ob3RpZmQsXG4gICAgICAgIGlkOiBudW1iZXIsXG4gICAgICAgIHJlYXNvbjogQXN0YWxOb3RpZmQuQ2xvc2VkUmVhc29uXG4gICAgKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTm90aWZpY2F0aW9uIHJlc29sdmVkXCIsIGlkLCByZWFzb24pXG5cbiAgICAgICAgLy8gcmVtb3ZlIGZyb20gcXVldWVcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnF1ZXVlLmluZGV4T2YoaWQpXG5cbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5xdWV1ZS5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW1vdmUgZnJvbSBhY3RpdmVzXG4gICAgICAgIGNvbnN0IGFjdGl2ZUluZGV4ID0gdGhpcy5hY3RpdmVzLmluZGV4T2YoaWQpXG5cbiAgICAgICAgaWYgKGFjdGl2ZUluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5hY3RpdmVzLnNwbGljZShhY3RpdmVJbmRleCwgMSlcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhpcy5ub3RpZnkoKVxuXG4gICAgICAgIHRoaXMucHJvY2Vzc1F1ZXVlKClcbiAgICB9XG5cbiAgICBwcml2YXRlIHByb2Nlc3NRdWV1ZSgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJQcm9jZXNzaW5nIHF1ZXVlXCIsIHRoaXMucXVldWUuam9pbihcIixcIiksIHRoaXMuYWN0aXZlcy5qb2luKFwiLFwiKSlcbiAgICAgICAgXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZXMubGVuZ3RoID49IE1BWF9QUk9DRVNTSU5HKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk1heCBwcm9jZXNzaW5nIGxpbWl0IHJlYWNoZWQsIHNraXBwaW5nIHF1ZXVlIHByb2Nlc3NpbmdcIilcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vIG5vdGlmaWNhdGlvbnMgaW4gcXVldWUsIG5vdGhpbmcgdG8gcHJvY2Vzc1wiKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgdGhlIG5leHQgbm90aWZpY2F0aW9uIGZyb20gdGhlIHF1ZXVlXG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5xdWV1ZS5zaGlmdCgpXG5cbiAgICAgICAgaWYgKGlkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIHRvIGFjdGl2ZXNcbiAgICAgICAgdGhpcy5hY3RpdmVzLnB1c2goaWQpXG5cbiAgICAgICAgdGhpcy5ub3RpZnkoKVxuXG4gICAgICAgIHRoaXMucHJvY2Vzc1F1ZXVlKClcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbnRyeS5nZXQoKVxuICAgIH1cblxuICAgIHB1YmxpYyBzdWJzY3JpYmUoY2FsbGJhY2s6ICh2YWx1ZTogTWFuYWdlckVudHJ5KSA9PiB2b2lkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVudHJ5LnN1YnNjcmliZShjYWxsYmFjaylcbiAgICB9XG5cbiAgICBwcml2YXRlIG5vdGlmeSgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJOb3RpZnlpbmdcIiwgdGhpcy5xdWV1ZS5qb2luKFwiLFwiKSwgdGhpcy5hY3RpdmVzLmpvaW4oXCIsXCIpKVxuICAgICAgICB0aGlzLmVudHJ5LnNldCh7XG4gICAgICAgICAgICBxdWV1ZTogdGhpcy5xdWV1ZSxcbiAgICAgICAgICAgIGFjdGl2ZXM6IHRoaXMuYWN0aXZlcyxcbiAgICAgICAgfSlcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1hbmFnZXJcbiJdLAogICJtYXBwaW5ncyI6ICI7OztBQUFBLE9BQU9BLFlBQVc7QUFDbEIsT0FBT0MsVUFBUztBQUNoQixPQUFPQyxVQUFTOzs7QUNGaEIsT0FBT0MsWUFBVzs7O0FDQVgsSUFBTSxXQUFXLENBQUMsUUFBZ0IsSUFDcEMsUUFBUSxtQkFBbUIsT0FBTyxFQUNsQyxXQUFXLEtBQUssR0FBRyxFQUNuQixZQUFZO0FBRVYsSUFBTSxXQUFXLENBQUMsUUFBZ0IsSUFDcEMsUUFBUSxtQkFBbUIsT0FBTyxFQUNsQyxXQUFXLEtBQUssR0FBRyxFQUNuQixZQUFZO0FBY1YsSUFBTSxVQUFOLE1BQU0sU0FBZTtBQUFBLEVBQ2hCLGNBQWMsQ0FBQyxNQUFXO0FBQUEsRUFFbEM7QUFBQSxFQUNBO0FBQUEsRUFTQSxPQUFPLEtBQUssU0FBcUMsTUFBZTtBQUM1RCxXQUFPLElBQUksU0FBUSxTQUFTLElBQUk7QUFBQSxFQUNwQztBQUFBLEVBRVEsWUFBWSxTQUE0QyxNQUFlO0FBQzNFLFNBQUssV0FBVztBQUNoQixTQUFLLFFBQVEsUUFBUSxTQUFTLElBQUk7QUFBQSxFQUN0QztBQUFBLEVBRUEsV0FBVztBQUNQLFdBQU8sV0FBVyxLQUFLLFFBQVEsR0FBRyxLQUFLLFFBQVEsTUFBTSxLQUFLLEtBQUssTUFBTSxFQUFFO0FBQUEsRUFDM0U7QUFB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QUFFLENBQUMsRUFBRSxLQUFLLEdBQUcsRUFBRTtBQUU3RCxVQUFJLE1BQU0sRUFBRSxHQUFHO0FBQ1gsZUFBTyxJQUFJLG9CQUFvQjtBQUFBLE1BQ25DO0FBRUEsWUFBTSxVQUFVQSxVQUFTLFlBQVksRUFBRTtBQUV2QyxVQUFJLFNBQVM7QUFDVCx1QkFBZUEsV0FBVSxPQUFPO0FBQ2hDLGVBQU8sSUFBSSxlQUFlO0FBQUEsTUFDOUI7QUFFQSxhQUFPLElBQUksbUJBQW1CO0FBQUEsSUFDbEM7QUFFQSxRQUFJLGlCQUFpQjtBQUFBLEVBQ3pCO0FBQ0osQ0FBQzsiLAogICJuYW1lcyI6IFsiQXN0YWwiLCAiR3RrIiwgIkdkayIsICJBc3RhbCIsICJiaW5kIiwgImludGVydmFsIiwgInRpbWVvdXQiLCAiQXN0YWwiLCAiQXN0YWwiLCAiQXN0YWwiLCAidiIsICJpbnRlcnZhbCIsICJjdG9ycyIsICJHdGsiLCAiQXN0YWwiLCAic25ha2VpZnkiLCAicGF0Y2giLCAiTm90aWZpY2F0aW9uIiwgIlRyYXkiLCAiR3RrIiwgIkFzdGFsIiwgIkFzdGFsIiwgIkd0ayIsICJHdGsiLCAiQXN0YWwiLCAiY2giLCAiR2RrIiwgImpzeCIsICJqc3giLCAiZGVmYXVsdCIsICJBc3RhbCIsICJHT2JqZWN0IiwgImRlZmF1bHQiLCAiR09iamVjdCIsICJHdGsiLCAianN4IiwgIkFzdGFsSHlwcmxhbmQiLCAiaHlwcmxhbmQiLCAiQXN0YWxIeXBybGFuZCIsICJmb2N1c2VkQ2xpZW50IiwgImpzeCIsICJHdGsiLCAianN4IiwgIkd0ayIsICJ0aW1lb3V0IiwgImpzeCIsICJNZW51QnV0dG9uIiwgIkd0ayIsICJQYW5nbyIsICJqc3giLCAiR3RrIiwgIlBhbmdvIiwgIkFzdGFsTXByaXMiLCAiQXN0YWxNcHJpcyIsICJHdGsiLCAianN4IiwgIlRpbWUiLCAianN4IiwgImpzeCIsICJHdGsiLCAiQXN0YWwiLCAianN4IiwgIlBvcG92ZXIiLCAiQXN0YWwiLCAianN4IiwgIkdkayIsICJCdXR0b24iLCAianN4IiwgIkd0ayIsICJqc3giLCAiR3RrIiwgInNwZWFrZXIiLCAianN4IiwgIkd0ayIsICJBc3RhbEh5cHJsYW5kIiwgIkFzdGFsVHJheSIsICJBc3RhbFdwIiwgIkFzdGFsSHlwcmxhbmQiLCAiQXN0YWxXcCIsICJoeXBybGFuZCIsICJBc3RhbEh5cHJsYW5kIiwgImpzeCIsICJBc3RhbCIsICJHdGsiLCAiQXN0YWxIeXBybGFuZCIsICJBc3RhbE5vdGlmZCIsICJQYW5nbyIsICJub3RpZmQiLCAiQXN0YWxOb3RpZmQiLCAiaHlwcmxhbmQiLCAiQXN0YWxIeXBybGFuZCIsICJHdGsiLCAiZGVmYXVsdCIsICJqc3giLCAiUGFuZ28iLCAiQXN0YWwiLCAiaHlwcmxhbmQiLCAiQXN0YWxIeXBybGFuZCIsICJBc3RhbFRyYXkiXQp9Cg==
